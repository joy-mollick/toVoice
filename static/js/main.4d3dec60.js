/*! For license information please see main.4d3dec60.js.LICENSE.txt */
!function(){var e={2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},526:function(e,t,n){var r;r=function(e){return function(){"use strict";var t={930:function(e,t,n){n.d(t,{default:function(){return u}});var r=n(297),i=n(438),a=n(531),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(e){var t=e.speed,n=void 0===t?1:t,u=s(e,["speed"]);return r.createElement(i.Z,o({indicatorClassName:"rai-bounce",speed:n,defaultAnimationDuration:.8},u),function(){for(var e=[],t=1;t<=3;t++)e.unshift(r.createElement("div",{key:t,style:{animationDelay:(0,a.n)(n,t/-10)}}));return e}())}},843:function(e,t,n){n.d(t,{default:function(){return u}});var r=n(297),i=n(438),a=n(531),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(e){for(var t=e.speed,n=void 0===t?1:t,u=s(e,["speed"]),c=[],l=1;l<=3;l++)c.unshift(r.createElement("div",{key:l,style:{animationDelay:(0,a.n)(n,l/-10)}}));return r.createElement(i.Z,o({indicatorClassName:"rai-digital",defaultAnimationDuration:.8,speed:n},u),c)}},266:function(e,t,n){n.d(t,{default:function(){return u}});var r=n(297),i=n(438),a=n(531),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(e){var t=e.speed,n=void 0===t?1:t,u=s(e,["speed"]);return r.createElement(i.Z,o({indicatorClassName:"rai-dots",speed:n,defaultAnimationDuration:.8},u),r.createElement("div",{className:"rai-circle",style:{animationDelay:(0,a.n)(n,-.3)}}),r.createElement("div",{className:"rai-circle",style:{animationDelay:(0,a.n)(n,-.2)}}),r.createElement("div",{className:"rai-circle",style:{animationDelay:(0,a.n)(n,-.1)}}))}},831:function(e,t,n){n.d(t,{default:function(){return u}});var r=n(297),i=n(438),a=n(531),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(e){var t=e.speed,n=void 0===t?1:t,u=s(e,["speed"]);return r.createElement(i.Z,o({indicatorClassName:"rai-levels",speed:n,defaultAnimationDuration:1.5},u),r.createElement("div",{className:"rai-levels-container"},r.createElement("div",{className:"rai-bar"}),r.createElement("div",{className:"rai-bar",style:{animationDelay:(0,a.n)(n,-.25)}}),r.createElement("div",{className:"rai-bar",style:{animationDelay:(0,a.n)(n,-.4)}})))}},874:function(e,t,n){n.d(t,{default:function(){return u}});var r=n(297),i=n(438),a=n(531),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(e){var t=e.speed,n=void 0===t?1:t,u=s(e,["speed"]);return r.createElement(i.Z,o({indicatorClassName:"rai-sentry",speed:n,defaultAnimationDuration:.8},u),r.createElement("div",{className:"rai-wave-container"},r.createElement("div",{className:"rai-wave"})),r.createElement("div",{className:"rai-wave-container"},r.createElement("div",{className:"rai-wave",style:{animationDelay:(0,a.n)(n,-.4)}})))}},752:function(e,t,n){n.d(t,{default:function(){return o}});var r=n(297),i=n(438),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e){return r.createElement(i.Z,a({indicatorClassName:"rai-spinner",defaultAnimationDuration:.6},e),r.createElement("div",{className:"rai-spinner-outer"}),r.createElement("div",{className:"rai-spinner-inner"}))}},209:function(e,t,n){n.d(t,{default:function(){return o}});var r=n(297),i=n(438),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e){for(var t=[],n=1;n<=3;n++)t.unshift(r.createElement("div",{key:n,className:"rai-square",style:{animationDelay:"-"+n/10+"s"}}));return r.createElement(i.Z,a({indicatorClassName:"rai-squares",defaultAnimationDuration:.8},e),t)}},918:function(e,t,n){n.d(t,{default:function(){return o}});var r=n(297),i=n(438),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e){return r.createElement(i.Z,a({indicatorClassName:"rai-windmill",defaultAnimationDuration:.8},e))}},438:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(297),i=n(531),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e){var t=e.style,n=e.size,o=void 0===n?16:n,s=e.speed,u=void 0===s?1:s,c=e.defaultAnimationDuration,l=e.color,f=e.className,h=e.animating,d=void 0===h||h,p=e.children,v=e.indicatorClassName;if(!d)return null;var m=(0,i.n)(u,c);return r.createElement("div",{"data-testid":"rai-activity-indicator",className:"rai-container "+v+(f?" "+f:""),style:a({color:l,fontSize:o+"px",animationDuration:m},t)},p)}},531:function(e,t,n){n.d(t,{n:function(){return r}});var r=function(e,t){return 1/e*t+"s"}},297:function(t){t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){r.r(i),r.d(i,{Dots:function(){return e.default},Bounce:function(){return t.default},Levels:function(){return n.default},Sentry:function(){return a.default},Spinner:function(){return o.default},Squares:function(){return s.default},Digital:function(){return u.default},Windmill:function(){return c.default}});var e=r(266),t=r(930),n=r(831),a=r(874),o=r(752),s=r(209),u=r(843),c=r(918)}(),i}()},e.exports=r(n(2791))},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ce=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ce)&&(Ae(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,xt,Ct,St,Et=!1,Tt=[],It=null,At=null,Nt=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Et=!1,null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==At&&Vt(At,e),null!==Nt&&Vt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var zt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=ke(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(j({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Cn}var En=j({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),In=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},Cr={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=ke(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Er:case Tr:case Ir:u=gn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(g=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[di]||null}var _i=[],xi=-1;function Ci(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),Ai=Ci(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ei(Ii,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ei(Ii,e),Ei(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ii),Ei(Ii,e)):Si(Ai),Ei(Ai,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){zi[Wi++]=Ki,zi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Ki=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ci(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function _a(e){var t=ga.current;Si(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ni:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Ja=Ya(!1),Xa={},Za=Ci(Xa),eo=Ci(Xa),to=Ci(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,wo=0,ko=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==wo;return wo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Bo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=So(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Du,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Ru),Ru|=r;return ks(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ni:Ii.current;return a=Pi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=So(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Ws(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Pi(t,c=Oi(n)?Ni:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof l&&(Ba(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Pi(t,u=Oi(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Os,Rs,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Rs(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=$s;var c=Js;if($s=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,wu(a,t,n),a=a.sibling;Zs=i,$s=s,Js=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):ku(e)}}function ku(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cu,Su=Math.ceil,Eu=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Au=0,Nu=null,Pu=null,Ou=0,Ru=0,Du=Ci(0),Lu=0,Mu=null,ju=0,Fu=0,Uu=0,Bu=null,Vu=null,qu=0,zu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Ju=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Au)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));gt(e,n,r),0!==(2&Au)&&e===Nu||(e===Nu&&(0===(2&Au)&&(Fu|=n),4===Lu&&uc(e,Ou)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(zu=Je()+500,Ui&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Au)&&qi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Nu===e&&Ou===t||(Wu=null,zu=Je()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}ka(),Eu.current=o,Au=i,null!==Pu?t=0:(Nu=null,Ou=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Vu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vu,Wu),t);break}_c(e,Vu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vu,Wu),r);break}_c(e,Vu,Wu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vu,Wu),ic(e,Je()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(zu=Je()+500,Ui&&qi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Au=t))&&qi()}}function hc(){Ru=Du.current,Si(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ai),Si(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=Dc(e.current,null),Ou=Ru=t,Lu=0,Mu=null,Uu=Fu=ju=0,Vu=Bu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(ka(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,wo=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(w){t=w,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&ju)&&0===(268435455&Fu)||uc(Nu,Ou)}function gc(e,t){var n=Au;Au|=2;var r=vc();for(Nu===e&&Ou===t||(Wu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(ka(),Au=n,Eu.current=r,null!==Pu)throw Error(a(261));return Nu=null,Ou=0,Lu}function yc(){for(;null!==Pu;)wc(Pu)}function bc(){for(;null!==Pu&&!Ye();)wc(Pu)}function wc(e){var t=Cu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?kc(e):Pu=t,Tu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Pu=Nu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Sc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Au=u,bt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,qi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function xc(){if(null!==Yu){var e=wt($u),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){Zs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Zs=k;break e}Zs=u.return}}if(Au=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Cc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ou&n)===n&&(4===Lu||3===Lu&&(130023424&Ou)===Ou&&500>Je()-qu?dc(e,0):Uu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(gt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case C:s=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Sa(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ca(t,n),za(t,r,i),Ha(t,r,i,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Au)&&(zu=Je()+500,qi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ee,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return o}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},2240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2791),o=p(a),s=p(n(4164)),u=p(n(2007)),c=p(n(4334)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5858)),f=n(3663),h=p(f),d=n(3688);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",y=f.canUseDOM&&void 0!==s.default.createPortal,b=function(e){return document.createElement(e)},w=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function k(e){return e()}var _=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=i=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!y&&s.default.unmountComponentAtNode(i.node);var e=k(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=w()(i,o.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},v(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(y||(this.node=b("div")),this.node.className=this.props.portalClassName,k(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:k(e.parentSelector),nextParent:k(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var o=n.prevParent,s=n.nextParent;s!==o&&(o.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&y?(!this.node&&y&&(this.node=b("div")),w()(o.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}(a.Component);_.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(h.default),u.default.instanceOf(f.SafeHTMLCollection),u.default.instanceOf(f.SafeNodeList),u.default.arrayOf(u.default.instanceOf(h.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},_.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return o.default.createElement("div",e,t)},contentElement:function(e,t){return o.default.createElement("div",e,t)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(_),t.default=_},4334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),s=m(n(2007)),u=v(n(8844)),c=m(n(870)),l=v(n(5858)),f=v(n(4942)),h=n(3663),d=m(h),p=m(n(8484));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}n(5670);var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,a=e.bodyOpenClassName,o=e.parentSelector,s=o&&o().ownerDocument||document;a&&f.remove(s.body,a),i&&f.remove(s.getElementsByTagName("html")[0],i),r&&y>0&&0===(y-=1)&&l.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"===typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,a=e.parentSelector,o=a&&a().ownerDocument||document;i&&f.add(o.body,i),r&&f.add(o.getElementsByTagName("html")[0],r),n&&(y+=1,l.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,a=e.defaultStyles,o=e.children,s=n?{}:a.content,u=i?{}:a.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),f=this.props.contentElement(l,o);return this.props.overlayElement(c,f)}}]),t}(o.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(d.default),s.default.instanceOf(h.SafeHTMLCollection),s.default.instanceOf(h.SafeNodeList),s.default.arrayOf(s.default.instanceOf(d.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=b,e.exports=t.default},5858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"===typeof t&&o.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=c(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(o){n=!0,r=o}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=c(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(o){n=!0,r=o}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,i=n(2391),a=(r=i)&&r.__esModule?r:{default:r},o=n(3663);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[o,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}o=s=null,u=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(u.length);for(var e=[o,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(8484),a=(r=i)&&r.__esModule?r:{default:r};var o=void 0,s=void 0,u=[];function c(){0!==u.length&&u[u.length-1].focusContent()}a.default.subscribe((function(e,t){o||s||((o=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",c),(s=o.cloneNode()).addEventListener("focus",c)),(u=t).length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(o.parentElement&&o.parentElement.removeChild(o),s.parentElement&&s.parentElement.removeChild(s))}))},4942:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)i(e,n[t]);var a=document.body;for(var o in r)i(a,r[o]);n={},r={}},t.log=function(){0};var n={},r={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,a="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),i.add(e)}));var i,a},t.remove=function(e,t){return i=e.classList,a="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&i.remove(e)}));var i,a}},8844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){o=[]},t.log=function(){0},t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==o.length&&(t=o.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,i=n(9750),a=(r=i)&&r.__esModule?r:{default:r};var o=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,a.default)(s)[0]||s).focus()}),0)}}},8484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},3663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(2618);var a=((r=i)&&r.__esModule?r:{default:r}).default,o=a.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=a.canUseDOM?window.NodeList:{},t.canUseDOM=a.canUseDOM;t.default=o},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,s=n[0],u=n[n.length-1],c=o();if(e===c){if(!i)return;r=u}u!==c||i||(r=s);s===c&&i&&(r=u);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var f=n.indexOf(c);f>-1&&(f+=i?-1:1);if("undefined"===typeof(r=n[f]))return t.preventDefault(),void(r=i?u:s).focus();t.preventDefault(),r.focus()};var r,i=n(9750),a=(r=i)&&r.__esModule?r:{default:r};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?o(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},9750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var i=window.getComputedStyle(e),a=i.getPropertyValue("display");return t?a!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,i):a===n}catch(o){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),a(t))return!1;t=t.parentNode}return!0}(e)}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},7948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2240),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},5737:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=n(2791)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),l=Object.prototype.toString,f=c.Symbol,h=f?f.prototype:void 0,d=h?h.toString:void 0;function p(e){if("string"==typeof e)return e;if(m(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}function g(e){return e?(e=function(e){if("number"==typeof e)return e;if(m(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=i.test(e);return s||a.test(e)?o(e.slice(2),s?2:8):r.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}e.exports=function(e,t,n){var r,i,a;return e=null==(r=e)?"":p(r),i=function(e){var t=g(e),n=t%1;return t==t?n?t-n:t:0}(n),0,a=e.length,i==i&&(void 0!==a&&(i=i<=a?i:a),i=i>=0?i:0),n=i,t=p(t),e.slice(n,n+t.length)==t}}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){var n,r=/^\[object .+?Constructor\]$/,i="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")(),s=Array.prototype,u=Function.prototype,c=Object.prototype,l=o["__core-js_shared__"],f=(n=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=u.toString,d=c.hasOwnProperty,p=c.toString,v=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=s.splice,g=S(o,"Map"),y=S(Object,"create");function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function x(e){return!(!T(e)||(t=e,f&&f in t))&&(function(e){var t=T(e)?p.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:r).test(function(e){if(null!=e){try{return h.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function C(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function S(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return x(n)?n:void 0}function E(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(E.Cache||k),n}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}b.prototype.clear=function(){this.__data__=y?y(null):{}},b.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},b.prototype.get=function(e){var t=this.__data__;if(y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return d.call(t,e)?t[e]:void 0},b.prototype.has=function(e){var t=this.__data__;return y?void 0!==t[e]:d.call(t,e)},b.prototype.set=function(e,t){return this.__data__[e]=y&&void 0===t?"__lodash_hash_undefined__":t,this},w.prototype.clear=function(){this.__data__=[]},w.prototype.delete=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():m.call(t,n,1),!0)},w.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},w.prototype.has=function(e){return _(this.__data__,e)>-1},w.prototype.set=function(e,t){var n=this.__data__,r=_(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},k.prototype.clear=function(){this.__data__={hash:new b,map:new(g||w),string:new b}},k.prototype.delete=function(e){return C(this,e).delete(e)},k.prototype.get=function(e){return C(this,e).get(e)},k.prototype.has=function(e){return C(this,e).has(e)},k.prototype.set=function(e,t){return C(this,e).set(e,t),this},E.Cache=k,e.exports=E}).call(this,n(3))},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),l=Object.prototype.toString,f=Math.max,h=Math.min,d=function(){return c.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=i.test(e);return s||a.test(e)?o(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,c=0,l=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||m&&e-c>=a}function w(){var e=d();if(b(e))return k(e);s=setTimeout(w,function(e){var n=t-(e-u);return m?h(n,a-(e-c)):n}(e))}function k(e){return s=void 0,g&&r?y(e):(r=i=void 0,o)}function _(){var e=d(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(w,t),l?y(e):o}(u);if(m)return s=setTimeout(w,t),y(u)}return void 0===s&&(s=setTimeout(w,t)),o}return t=v(t)||0,p(n)&&(l=!!n.leading,a=(m="maxWait"in n)?f(v(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?o:k(d())},_}}).call(this,n(3))},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",a="[object Object]",o="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[i]=p["[object Number]"]=p[a]=p["[object RegExp]"]=p[o]=p["[object String]"]=p["[object WeakMap]"]=!1;var v="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=v||m||Function("return this")(),y=t&&!t.nodeType&&t,b=y&&"object"==typeof n&&n&&!n.nodeType&&n,w=b&&b.exports===y&&v.process,k=function(){try{return w&&w.binding("util")}catch(e){}}(),_=k&&k.isTypedArray;function x(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function C(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function S(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function E(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function I(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var A,N,P,O=Array.prototype,R=Function.prototype,D=Object.prototype,L=g["__core-js_shared__"],M=(A=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",j=R.toString,F=D.hasOwnProperty,U=D.toString,B=RegExp("^"+j.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=g.Symbol,q=g.Uint8Array,z=D.propertyIsEnumerable,W=O.splice,H=(N=Object.keys,P=Object,function(e){return N(P(e))}),K=ke(g,"DataView"),G=ke(g,"Map"),Q=ke(g,"Promise"),Y=ke(g,"Set"),$=ke(g,"WeakMap"),J=ke(Object,"create"),X=Ae(K),Z=Ae(G),ee=Ae(Q),te=Ae(Y),ne=Ae($),re=V?V.prototype:void 0,ie=re?re.valueOf:void 0,ae=re?re.toString:void 0;function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ue(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=-1,n=e?e.length:0;for(this.__data__=new ue;++t<n;)this.add(e[t])}function le(e){this.__data__=new se(e)}function fe(e,t){for(var n=e.length;n--;)if(Pe(e[n][0],t))return n;return-1}oe.prototype.clear=function(){this.__data__=J?J(null):{}},oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},oe.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return F.call(t,e)?t[e]:void 0},oe.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:F.call(t,e)},oe.prototype.set=function(e,t){return this.__data__[e]=J&&void 0===t?"__lodash_hash_undefined__":t,this},se.prototype.clear=function(){this.__data__=[]},se.prototype.delete=function(e){var t=this.__data__,n=fe(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),!0)},se.prototype.get=function(e){var t=this.__data__,n=fe(t,e);return n<0?void 0:t[n][1]},se.prototype.has=function(e){return fe(this.__data__,e)>-1},se.prototype.set=function(e,t){var n=this.__data__,r=fe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ue.prototype.clear=function(){this.__data__={hash:new oe,map:new(G||se),string:new oe}},ue.prototype.delete=function(e){return we(this,e).delete(e)},ue.prototype.get=function(e){return we(this,e).get(e)},ue.prototype.has=function(e){return we(this,e).has(e)},ue.prototype.set=function(e,t){return we(this,e).set(e,t),this},ce.prototype.add=ce.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ce.prototype.has=function(e){return this.__data__.has(e)},le.prototype.clear=function(){this.__data__=new se},le.prototype.delete=function(e){return this.__data__.delete(e)},le.prototype.get=function(e){return this.__data__.get(e)},le.prototype.has=function(e){return this.__data__.has(e)},le.prototype.set=function(e,t){var n=this.__data__;if(n instanceof se){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this;n=this.__data__=new ue(r)}return n.set(e,t),this};var he,de=(he=function(e,t){return e&&pe(e,t,Ve)},function(e,t){if(null==e)return e;if(!De(e))return he(e,t);for(var n=e.length,r=-1,i=Object(e);++r<n&&!1!==t(i[r],r,i););return e}),pe=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[++r];if(!1===t(i[s],s,i))break}return e};function ve(e,t){for(var n=0,r=(t=Ce(t,e)?[t]:ye(t)).length;null!=e&&n<r;)e=e[Ie(t[n++])];return n&&n==r?e:void 0}function me(e,t){return null!=e&&t in Object(e)}function ge(e,t,n,s,u){return e===t||(null==e||null==t||!je(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,s,u,c){var l=Re(e),f=Re(t),h="[object Array]",d="[object Array]";l||(h=(h=_e(e))==r?a:h),f||(d=(d=_e(t))==r?a:d);var p=h==a&&!E(e),v=d==a&&!E(t),m=h==d;if(m&&!p)return c||(c=new le),l||Be(e)?be(e,t,n,s,u,c):function(e,t,n,r,a,s,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new q(e),new q(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=T;case o:var l=2&s;if(c||(c=I),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;s|=1,u.set(e,t);var h=be(c(e),c(t),r,a,s,u);return u.delete(e),h;case"[object Symbol]":if(ie)return ie.call(e)==ie.call(t)}return!1}(e,t,h,n,s,u,c);if(!(2&u)){var g=p&&F.call(e,"__wrapped__"),y=v&&F.call(t,"__wrapped__");if(g||y){var b=g?e.value():e,w=y?t.value():t;return c||(c=new le),n(b,w,s,u,c)}}return!!m&&(c||(c=new le),function(e,t,n,r,i,a){var o=2&i,s=Ve(e),u=s.length;if(u!=Ve(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:F.call(t,l)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var h=!0;a.set(e,t),a.set(t,e);for(var d=o;++c<u;){var p=e[l=s[c]],v=t[l];if(r)var m=o?r(v,p,l,t,e,a):r(p,v,l,e,t,a);if(!(void 0===m?p===v||n(p,v,r,i,a):m)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,s,u,c))}(e,t,ge,n,s,u))}function ye(e){return Re(e)?e:Te(e)}function be(e,t,n,r,i,a){var o=2&i,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,f=!0,h=1&i?new ce:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var d=e[l],p=t[l];if(r)var v=o?r(p,d,l,t,e,a):r(d,p,l,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!C(t,(function(e,t){if(!h.has(t)&&(d===e||n(d,e,r,i,a)))return h.add(t)}))){f=!1;break}}else if(d!==p&&!n(d,p,r,i,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function we(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ke(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!je(e)||function(e){return!!M&&M in e}(e))&&(Le(e)||E(e)?B:h).test(Ae(e))}(n)?n:void 0}var _e=function(e){return U.call(e)};function xe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function Ce(e,t){if(Re(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ue(e))||u.test(e)||!s.test(e)||null!=t&&e in Object(t)}function Se(e){return e==e&&!je(e)}function Ee(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(K&&"[object DataView]"!=_e(new K(new ArrayBuffer(1)))||G&&_e(new G)!=i||Q&&"[object Promise]"!=_e(Q.resolve())||Y&&_e(new Y)!=o||$&&"[object WeakMap]"!=_e(new $))&&(_e=function(e){var t=U.call(e),n=t==a?e.constructor:void 0,r=n?Ae(n):void 0;if(r)switch(r){case X:return"[object DataView]";case Z:return i;case ee:return"[object Promise]";case te:return o;case ne:return"[object WeakMap]"}return t});var Te=Ne((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Ue(e))return ae?ae.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(l,(function(e,t,r,i){n.push(r?i.replace(f,"$1"):t||e)})),n}));function Ie(e){if("string"==typeof e||Ue(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ae(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ne(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(Ne.Cache||ue),n}function Pe(e,t){return e===t||e!=e&&t!=t}function Oe(e){return function(e){return Fe(e)&&De(e)}(e)&&F.call(e,"callee")&&(!z.call(e,"callee")||U.call(e)==r)}Ne.Cache=ue;var Re=Array.isArray;function De(e){return null!=e&&Me(e.length)&&!Le(e)}function Le(e){var t=je(e)?U.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function je(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fe(e){return!!e&&"object"==typeof e}function Ue(e){return"symbol"==typeof e||Fe(e)&&"[object Symbol]"==U.call(e)}var Be=_?function(e){return function(t){return e(t)}}(_):function(e){return Fe(e)&&Me(e.length)&&!!p[U.call(e)]};function Ve(e){return De(e)?function(e,t){var n=Re(e)||Oe(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!F.call(e,a)||i&&("length"==a||xe(a,r))||n.push(a);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||D))return H(e);var t,n,r=[];for(var i in Object(e))F.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}function qe(e){return e}n.exports=function(e,t,n){var r=Re(e)?x:S,i=arguments.length<3;return r(e,function(e){return"function"==typeof e?e:null==e?qe:"object"==typeof e?Re(e)?function(e,t){return Ce(e)&&Se(t)?Ee(Ie(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:ve(e,t);return void 0===r?void 0:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){for(var r,i=-1,a=(t=Ce(t,e)?[t]:ye(t)).length;++i<a;){var o=Ie(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}return r||!!(a=e?e.length:0)&&Me(a)&&xe(o,a)&&(Re(e)||Oe(e))}(e,t,me)}(n,e):ge(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ve(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Se(i)]}return t}(e);return 1==t.length&&t[0][2]?Ee(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,a=i;if(null==e)return!a;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var s=(o=n[i])[0],u=e[s],c=o[1];if(o[2]){if(void 0===u&&!(s in e))return!1}else{var l,f=new le;if(!(void 0===l?ge(c,u,r,3,f):l))return!1}}return!0}(n,0,t)}}(e):Ce(t=e)?(n=Ie(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return ve(t,e)}}(t);var t,n}(t),n,i,de)}}).call(this,n(3),n(7)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){if(Array.isArray(e))return e}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t);var v=n(0),m=n.n(v),g=n(5),y=n.n(g),b=n(4),w=n.n(b),k=n(6),_=n.n(k),x=n(2),C=n.n(x),S=n(1),E=n.n(S);function T(e,t){return o(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||s()}n(8);var I=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["C\xf4te d\u2019Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Cura\xe7ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["R\xe9union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],A=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barth\xe9lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function N(e,t,n,r,i){return!n||i?e+"".padEnd(t.length,".")+" "+r:e+"".padEnd(t.length,".")+" "+n}function P(e,t,n,i,o){var s,u,c=[];return u=!0===t,[(s=[]).concat.apply(s,a(e.map((function(e){var a={name:e[0],regions:e[1],iso2:e[2],countryCode:e[3],dialCode:e[3],format:N(n,e[3],e[4],i,o),priority:e[5]||0},s=[];return e[6]&&e[6].map((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},a);n.dialCode=e[3]+t,n.isAreaCode=!0,n.areaCodeLength=t.length,s.push(n)})),s.length>0?(a.mainCode=!0,u||"Array"===t.constructor.name&&t.includes(e[2])?(a.hasAreaCodes=!0,[a].concat(s)):(c=c.concat(s),[a])):[a]})))),c]}function O(e,t,n,r){if(null!==n){var i=Object.keys(n),a=Object.values(n);i.forEach((function(n,i){if(r)return e.push([n,a[i]]);var o=e.findIndex((function(e){return e[0]===n}));if(-1===o){var s=[n];s[t]=a[i],e.push(s)}else e[o][t]=a[i]}))}}function R(e,t){return 0===t.length?e:e.map((function(e){var n=t.findIndex((function(t){return t[0]===e[2]}));if(-1===n)return e;var r=t[n];return r[1]&&(e[4]=r[1]),r[3]&&(e[5]=r[3]),r[2]&&(e[6]=r[2]),e}))}var D=function e(t,n,r,i,o,s,c,l,f,h,d,p,v,m){u(this,e),this.filterRegions=function(e,t){if("string"==typeof e){var n=e;return t.filter((function(e){return e.regions.some((function(e){return e===n}))}))}return t.filter((function(t){return e.map((function(e){return t.regions.some((function(t){return t===e}))})).some((function(e){return e}))}))},this.sortTerritories=function(e,t){var n=[].concat(a(e),a(t));return n.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),n},this.getFilteredCountryList=function(e,t,n){return 0===e.length?t:n?e.map((function(e){var n=t.find((function(t){return t.iso2===e}));if(n)return n})).filter((function(e){return e})):t.filter((function(t){return e.some((function(e){return e===t.iso2}))}))},this.localizeCountries=function(e,t,n){for(var r=0;r<e.length;r++)void 0!==t[e[r].iso2]?e[r].localName=t[e[r].iso2]:void 0!==t[e[r].name]&&(e[r].localName=t[e[r].name]);return n||e.sort((function(e,t){return e.localName<t.localName?-1:e.localName>t.localName?1:0})),e},this.getCustomAreas=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=JSON.parse(JSON.stringify(e));i.dialCode+=t[r],n.push(i)}return n},this.excludeCountries=function(e,t){return 0===t.length?e:e.filter((function(e){return!t.includes(e.iso2)}))};var g=function(e,t,n){var r=[];return O(r,1,e,!0),O(r,3,t),O(r,2,n),r}(l,f,h),y=R(JSON.parse(JSON.stringify(I)),g),b=R(JSON.parse(JSON.stringify(A)),g),w=T(P(y,t,p,v,m),2),k=w[0],_=w[1];if(n){var x=T(P(b,t,p,v,m),2),C=x[0];x[1],k=this.sortTerritories(C,k)}r&&(k=this.filterRegions(r,k)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(i,k,c.includes("onlyCountries")),s),d,c.includes("onlyCountries")),this.preferredCountries=0===o.length?[]:this.localizeCountries(this.getFilteredCountryList(o,k,c.includes("preferredCountries")),d,c.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(i,_),s)},L=function(e){function t(e){var n;u(this,t),(n=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}(this,d(t).call(this,e))).getProbableCandidate=w()((function(e){return e&&0!==e.length?n.state.onlyCountries.filter((function(t){return C()(t.name.toLowerCase(),e.toLowerCase())}),h(h(n)))[0]:null})),n.guessSelectedCountry=w()((function(e,t,r,i){var a;if(!1===n.props.enableAreaCodes&&(i.some((function(t){if(C()(e,t.dialCode))return r.some((function(e){if(t.iso2===e.iso2&&e.mainCode)return a=e,!0})),!0})),a))return a;var o=r.find((function(e){return e.iso2==t}));if(""===e.trim())return o;var s=r.reduce((function(t,n){if(C()(e,n.dialCode)){if(n.dialCode.length>t.dialCode.length)return n;if(n.dialCode.length===t.dialCode.length&&n.priority<t.priority)return n}return t}),{dialCode:"",priority:10001},h(h(n)));return s.name?s:o})),n.updateCountry=function(e){var t,r=n.state.onlyCountries;(t=e.indexOf(0)>="0"&&e.indexOf(0)<="9"?r.find((function(t){return t.dialCode==+e})):r.find((function(t){return t.iso2==e})))&&t.dialCode&&n.setState({selectedCountry:t,formattedNumber:n.props.disableCountryCode?"":n.formatNumber(t.dialCode,t)})},n.scrollTo=function(e,t){if(e){var r=n.dropdownRef;if(r&&document.body){var i=r.offsetHeight,a=r.getBoundingClientRect().top+document.body.scrollTop,o=a+i,s=e,u=s.getBoundingClientRect(),c=s.offsetHeight,l=u.top+document.body.scrollTop,f=l+c,h=l-a+r.scrollTop,d=i/2-c/2;if(n.props.enableSearch?l<a+32:l<a)t&&(h-=d),r.scrollTop=h;else if(f>o){t&&(h+=d);var p=i-c;r.scrollTop=h-p}}}},n.scrollToTop=function(){var e=n.dropdownRef;e&&document.body&&(e.scrollTop=0)},n.formatNumber=function(e,t){if(!t)return e;var r,a=t.format,u=n.props,c=u.disableCountryCode,l=u.enableAreaCodeStretch,f=u.enableLongNumbers,h=u.autoFormat;if(c?((r=a.split(" ")).shift(),r=r.join(" ")):l&&t.isAreaCode?((r=a.split(" "))[1]=r[1].replace(/\.+/,"".padEnd(t.areaCodeLength,".")),r=r.join(" ")):r=a,!e||0===e.length)return c?"":n.props.prefix;if(e&&e.length<2||!r||!h)return c?e:n.props.prefix+e;var d,p=_()(r,(function(e,t){if(0===e.remainingText.length)return e;if("."!==t)return{formattedText:e.formattedText+t,remainingText:e.remainingText};var n,r=o(n=e.remainingText)||i(n)||s(),a=r[0],u=r.slice(1);return{formattedText:e.formattedText+a,remainingText:u}}),{formattedText:"",remainingText:e.split("")});return(d=f?p.formattedText+p.remainingText.join(""):p.formattedText).includes("(")&&!d.includes(")")&&(d+=")"),d},n.cursorToEnd=function(){var e=n.numberInputRef;if(document.activeElement===e){e.focus();var t=e.value.length;")"===e.value.charAt(t-1)&&(t-=1),e.setSelectionRange(t,t)}},n.getElement=function(e){return n["flag_no_".concat(e)]},n.getCountryData=function(){return n.state.selectedCountry?{name:n.state.selectedCountry.name||"",dialCode:n.state.selectedCountry.dialCode||"",countryCode:n.state.selectedCountry.iso2||"",format:n.state.selectedCountry.format||""}:{}},n.handleFlagDropdownClick=function(e){if(e.preventDefault(),n.state.showDropdown||!n.props.disabled){var t=n.state,r=t.preferredCountries,i=t.onlyCountries,a=t.selectedCountry,o=n.concatPreferredCountries(r,i).findIndex((function(e){return e.dialCode===a.dialCode&&e.iso2===a.iso2}));n.setState({showDropdown:!n.state.showDropdown,highlightCountryIndex:o},(function(){n.state.showDropdown&&n.scrollTo(n.getElement(n.state.highlightCountryIndex))}))}},n.handleInput=function(e){var t=e.target.value,r=n.props,i=r.prefix,a=r.onChange,o=n.props.disableCountryCode?"":i,s=n.state.selectedCountry,u=n.state.freezeSelection;if(!n.props.countryCodeEditable){var c=i+(s.hasAreaCodes?n.state.onlyCountries.find((function(e){return e.iso2===s.iso2&&e.mainCode})).dialCode:s.dialCode);if(t.slice(0,c.length)!==c)return}if(t===i)return a&&a("",n.getCountryData(),e,""),n.setState({formattedNumber:""});if(t.replace(/\D/g,"").length>15){if(!1===n.props.enableLongNumbers)return;if("number"==typeof n.props.enableLongNumbers&&t.replace(/\D/g,"").length>n.props.enableLongNumbers)return}if(t!==n.state.formattedNumber){e.preventDefault?e.preventDefault():e.returnValue=!1;var l=n.props.country,f=n.state,h=f.onlyCountries,d=f.selectedCountry,p=f.hiddenAreaCodes;if(a&&e.persist(),t.length>0){var v=t.replace(/\D/g,"");(!n.state.freezeSelection||d&&d.dialCode.length>v.length)&&(s=n.props.disableCountryGuess?d:n.guessSelectedCountry(v.substring(0,6),l,h,p)||d,u=!1),o=n.formatNumber(v,s),s=s.dialCode?s:d}var m=e.target.selectionStart,g=e.target.selectionStart,y=n.state.formattedNumber,b=o.length-y.length;n.setState({formattedNumber:o,freezeSelection:u,selectedCountry:s},(function(){b>0&&(g-=b),")"==o.charAt(o.length-1)?n.numberInputRef.setSelectionRange(o.length-1,o.length-1):g>0&&y.length>=o.length?n.numberInputRef.setSelectionRange(g,g):m<y.length&&n.numberInputRef.setSelectionRange(m,m),a&&a(o.replace(/[^0-9]+/g,""),n.getCountryData(),e,o)}))}},n.handleInputClick=function(e){n.setState({showDropdown:!1}),n.props.onClick&&n.props.onClick(e,n.getCountryData())},n.handleDoubleClick=function(e){var t=e.target.value.length;e.target.setSelectionRange(0,t)},n.handleFlagItemClick=function(e,t){var r=n.state.selectedCountry,i=n.state.onlyCountries.find((function(t){return t==e}));if(i){var a=n.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),o=a.length>1?a.replace(r.dialCode,i.dialCode):i.dialCode,s=n.formatNumber(o.replace(/\D/g,""),i);n.setState({showDropdown:!1,selectedCountry:i,freezeSelection:!0,formattedNumber:s,searchValue:""},(function(){n.cursorToEnd(),n.props.onChange&&n.props.onChange(s.replace(/[^0-9]+/g,""),n.getCountryData(),t,s)}))}},n.handleInputFocus=function(e){n.numberInputRef&&n.numberInputRef.value===n.props.prefix&&n.state.selectedCountry&&!n.props.disableCountryCode&&n.setState({formattedNumber:n.props.prefix+n.state.selectedCountry.dialCode},(function(){n.props.jumpCursorToEnd&&setTimeout(n.cursorToEnd,0)})),n.setState({placeholder:""}),n.props.onFocus&&n.props.onFocus(e,n.getCountryData()),n.props.jumpCursorToEnd&&setTimeout(n.cursorToEnd,0)},n.handleInputBlur=function(e){e.target.value||n.setState({placeholder:n.props.placeholder}),n.props.onBlur&&n.props.onBlur(e,n.getCountryData())},n.handleInputCopy=function(e){if(n.props.copyNumbersOnly){var t=window.getSelection().toString().replace(/[^0-9]+/g,"");e.clipboardData.setData("text/plain",t),e.preventDefault()}},n.getHighlightCountryIndex=function(e){var t=n.state.highlightCountryIndex+e;return t<0||t>=n.state.onlyCountries.length+n.state.preferredCountries.length?t-e:n.props.enableSearch&&t>n.getSearchFilteredCountries().length?0:t},n.searchCountry=function(){var e=n.getProbableCandidate(n.state.queryString)||n.state.onlyCountries[0],t=n.state.onlyCountries.findIndex((function(t){return t==e}))+n.state.preferredCountries.length;n.scrollTo(n.getElement(t),!0),n.setState({queryString:"",highlightCountryIndex:t})},n.handleKeydown=function(e){var t=n.props.keys,r=e.target.className;if(r.includes("selected-flag")&&e.which===t.ENTER&&!n.state.showDropdown)return n.handleFlagDropdownClick(e);if(r.includes("form-control")&&(e.which===t.ENTER||e.which===t.ESC))return e.target.blur();if(n.state.showDropdown&&!n.props.disabled&&(!r.includes("search-box")||e.which===t.UP||e.which===t.DOWN||e.which===t.ENTER||e.which===t.ESC&&""===e.target.value)){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=function(e){n.setState({highlightCountryIndex:n.getHighlightCountryIndex(e)},(function(){n.scrollTo(n.getElement(n.state.highlightCountryIndex),!0)}))};switch(e.which){case t.DOWN:i(1);break;case t.UP:i(-1);break;case t.ENTER:n.props.enableSearch?n.handleFlagItemClick(n.getSearchFilteredCountries()[n.state.highlightCountryIndex]||n.getSearchFilteredCountries()[0],e):n.handleFlagItemClick([].concat(a(n.state.preferredCountries),a(n.state.onlyCountries))[n.state.highlightCountryIndex],e);break;case t.ESC:case t.TAB:n.setState({showDropdown:!1},n.cursorToEnd);break;default:(e.which>=t.A&&e.which<=t.Z||e.which===t.SPACE)&&n.setState({queryString:n.state.queryString+String.fromCharCode(e.which)},n.state.debouncedQueryStingSearcher)}}},n.handleInputKeyDown=function(e){var t=n.props,r=t.keys,i=t.onEnterKeyPress,a=t.onKeyDown;e.which===r.ENTER&&i&&i(e),a&&a(e)},n.handleClickOutside=function(e){n.dropdownRef&&!n.dropdownContainerRef.contains(e.target)&&n.state.showDropdown&&n.setState({showDropdown:!1})},n.handleSearchChange=function(e){var t=e.currentTarget.value,r=n.state,i=r.preferredCountries,a=r.selectedCountry,o=0;if(""===t&&a){var s=n.state.onlyCountries;o=n.concatPreferredCountries(i,s).findIndex((function(e){return e==a})),setTimeout((function(){return n.scrollTo(n.getElement(o))}),100)}n.setState({searchValue:t,highlightCountryIndex:o})},n.concatPreferredCountries=function(e,t){return e.length>0?a(new Set(e.concat(t))):t},n.getDropdownCountryName=function(e){return e.localName||e.name},n.getSearchFilteredCountries=function(){var e=n.state,t=e.preferredCountries,r=e.onlyCountries,i=e.searchValue,o=n.props.enableSearch,s=n.concatPreferredCountries(t,r),u=i.trim().toLowerCase().replace("+","");if(o&&u){if(/^\d+$/.test(u))return s.filter((function(e){var t=e.dialCode;return["".concat(t)].some((function(e){return e.toLowerCase().includes(u)}))}));var c=s.filter((function(e){var t=e.iso2;return["".concat(t)].some((function(e){return e.toLowerCase().includes(u)}))})),l=s.filter((function(e){var t=e.name,n=e.localName;return e.iso2,["".concat(t),"".concat(n||"")].some((function(e){return e.toLowerCase().includes(u)}))}));return n.scrollToTop(),a(new Set([].concat(c,l)))}return s},n.getCountryDropdownList=function(){var e=n.state,t=e.preferredCountries,i=e.highlightCountryIndex,a=e.showDropdown,o=e.searchValue,s=n.props,u=s.disableDropdown,c=s.prefix,l=n.props,f=l.enableSearch,h=l.searchNotFound,d=l.disableSearchIcon,p=l.searchClass,v=l.searchStyle,g=l.searchPlaceholder,y=l.autocompleteSearch,b=n.getSearchFilteredCountries().map((function(e,t){var r=i===t,a=E()({country:!0,preferred:"us"===e.iso2||"gb"===e.iso2,active:"us"===e.iso2,highlight:r}),o="flag ".concat(e.iso2);return m.a.createElement("li",Object.assign({ref:function(e){return n["flag_no_".concat(t)]=e},key:"flag_no_".concat(t),"data-flag-key":"flag_no_".concat(t),className:a,"data-dial-code":"1",tabIndex:u?"-1":"0","data-country-code":e.iso2,onClick:function(t){return n.handleFlagItemClick(e,t)},role:"option"},r?{"aria-selected":!0}:{}),m.a.createElement("div",{className:o}),m.a.createElement("span",{className:"country-name"},n.getDropdownCountryName(e)),m.a.createElement("span",{className:"dial-code"},e.format?n.formatNumber(e.dialCode,e):c+e.dialCode))})),w=m.a.createElement("li",{key:"dashes",className:"divider"});t.length>0&&(!f||f&&!o.trim())&&b.splice(t.length,0,w);var k=E()(r({"country-list":!0,hide:!a},n.props.dropdownClass,!0));return m.a.createElement("ul",{ref:function(e){return!f&&e&&e.focus(),n.dropdownRef=e},className:k,style:n.props.dropdownStyle,role:"listbox",tabIndex:"0"},f&&m.a.createElement("li",{className:E()(r({search:!0},p,p))},!d&&m.a.createElement("span",{className:E()(r({"search-emoji":!0},"".concat(p,"-emoji"),p)),role:"img","aria-label":"Magnifying glass"},"\ud83d\udd0e"),m.a.createElement("input",{className:E()(r({"search-box":!0},"".concat(p,"-box"),p)),style:v,type:"search",placeholder:g,autoFocus:!0,autoComplete:y?"on":"off",value:o,onChange:n.handleSearchChange})),b.length>0?b:m.a.createElement("li",{className:"no-entries-message"},m.a.createElement("span",null,h)))};var c,l=new D(e.enableAreaCodes,e.enableTerritories,e.regions,e.onlyCountries,e.preferredCountries,e.excludeCountries,e.preserveOrder,e.masks,e.priority,e.areaCodes,e.localization,e.prefix,e.defaultMask,e.alwaysDefaultMask),p=l.onlyCountries,v=l.preferredCountries,g=l.hiddenAreaCodes,b=e.value?e.value.replace(/\D/g,""):"";c=e.disableInitialCountryGuess?0:b.length>1?n.guessSelectedCountry(b.substring(0,6),e.country,p,g)||0:e.country&&p.find((function(t){return t.iso2==e.country}))||0;var k,x=b.length<2&&c&&!C()(b,c.dialCode)?c.dialCode:"";k=""===b&&0===c?"":n.formatNumber((e.disableCountryCode?"":x)+b,c.name?c:void 0);var S=p.findIndex((function(e){return e==c}));return n.state={showDropdown:e.showDropdown,formattedNumber:k,onlyCountries:p,preferredCountries:v,hiddenAreaCodes:g,selectedCountry:c,highlightCountryIndex:S,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:y()(n.searchCountry,250),searchValue:""},n}var n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(l=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e,t,n){e.country!==this.props.country?this.updateCountry(this.props.country):e.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(e){if(null===e)return this.setState({selectedCountry:0,formattedNumber:""});var t=this.state,n=t.onlyCountries,r=t.selectedCountry,i=t.hiddenAreaCodes,a=this.props,o=a.country,s=a.prefix;if(""===e)return this.setState({selectedCountry:r,formattedNumber:""});var u,c,l=e.replace(/\D/g,"");if(r&&C()(e,s+r.dialCode))c=this.formatNumber(l,r),this.setState({formattedNumber:c});else{var f=(u=this.props.disableCountryGuess?r:this.guessSelectedCountry(l.substring(0,6),o,n,i)||r)&&C()(l,s+u.dialCode)?u.dialCode:"";c=this.formatNumber((this.props.disableCountryCode?"":f)+l,u||void 0),this.setState({selectedCountry:u,formattedNumber:c})}}},{key:"render",value:function(){var e,t,n,i=this,a=this.state,o=a.onlyCountries,s=a.selectedCountry,u=a.showDropdown,c=a.formattedNumber,l=a.hiddenAreaCodes,f=this.props,h=f.disableDropdown,d=f.renderStringAsFlag,p=f.isValid,v=f.defaultErrorMessage,g=f.specialLabel;if("boolean"==typeof p)t=p;else{var y=p(c.replace(/\D/g,""),s,o,l);"boolean"==typeof y?!1===(t=y)&&(n=v):(t=!1,n=y)}var b=E()((r(e={},this.props.containerClass,!0),r(e,"react-tel-input",!0),e)),w=E()({arrow:!0,up:u}),k=E()(r({"form-control":!0,"invalid-number":!t,open:u},this.props.inputClass,!0)),_=E()({"selected-flag":!0,open:u}),x=E()(r({"flag-dropdown":!0,"invalid-number":!t,open:u},this.props.buttonClass,!0)),C="flag ".concat(s&&s.iso2);return m.a.createElement("div",{className:"".concat(b," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},g&&m.a.createElement("div",{className:"special-label"},g),n&&m.a.createElement("div",{className:"invalid-number-message"},n),m.a.createElement("input",Object.assign({className:k,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:c,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(e){i.numberInputRef=e,"function"==typeof i.props.inputProps.ref?i.props.inputProps.ref(e):"object"==typeof i.props.inputProps.ref&&(i.props.inputProps.ref.current=e)}})),m.a.createElement("div",{className:x,style:this.props.buttonStyle,ref:function(e){return i.dropdownContainerRef=e}},d?m.a.createElement("div",{className:_},d):m.a.createElement("div",{onClick:h?void 0:this.handleFlagDropdownClick,className:_,title:s?"".concat(s.localName||s.name,": + ").concat(s.dialCode):"",tabIndex:h?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!u||void 0},m.a.createElement("div",{className:C},!h&&m.a.createElement("div",{className:w}))),u&&this.getCountryDropdownList()))}}])&&c(n.prototype,l),t}(m.a.Component);L.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=L}])},3878:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(2791)),o=s(n(2007));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,f=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&u({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(f)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise((function(n,r){t.onload=function(){l=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){f=!0,c=!1,r(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){r.then((function(){return n?t({isCanceled:!0}):e()})),r.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return a.default.createElement("button",r({},u({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),a.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return a.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},a.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?a.default.createElement(e,r({},u({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(a.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:o.default.bool,triggerEvent:o.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:o.default.string,style:o.default.object,textStyle:o.default.object,disabled:o.default.bool,ComponentClass:o.default.string,showLoadingDialog:o.default.func,hideLoadingDialog:o.default.func,onScriptError:o.default.func,onScriptTagCreated:o.default.func,reconfigureOnUpdate:o.default.bool,stripeKey:o.default.string.isRequired,token:o.default.func.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,amount:o.default.number,locale:o.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:o.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:o.default.string,zipCode:o.default.bool,billingAddress:o.default.bool,shippingAddress:o.default.bool,email:o.default.string,allowRememberMe:o.default.bool,bitcoin:o.default.bool,alipay:o.default.oneOf(["auto",!0,!1]),alipayReusable:o.default.bool,opened:o.default.func,closed:o.default.func},h._isMounted=!1,t.Z=h},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&D(k,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(k,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,S=null,E=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function N(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(C=!1,S=null)}}else C=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){g(N,0)};function R(e){S=e,C||(C=!0,x())}function D(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,D(k,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8086:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default,c=n(7424).default;e.exports=function(e,t){"use strict";var n=[{key:"title",getter:function(e){return e.getTitle()}},{key:"html",getter:function(e){return e.getHtmlContainer()}},{key:"confirmButtonText",getter:function(e){return e.getConfirmButton()}},{key:"denyButtonText",getter:function(e){return e.getDenyButton()}},{key:"cancelButtonText",getter:function(e){return e.getCancelButton()}},{key:"footer",getter:function(e){return e.getFooter()}},{key:"closeButtonHtml",getter:function(e){return e.getCloseButton()}},{key:"iconHtml",getter:function(e){return e.getIconContent()}},{key:"loaderHtml",getter:function(e){return e.getLoader()}}],l=function(){};function f(f){function h(t){var r={},i={},a=n.map((function(e){return e.key}));return Object.entries(t).forEach((function(t){var n=c(t,2),o=n[0],s=n[1];a.includes(o)&&e.isValidElement(s)?(r[o]=s,i[o]=" "):i[o]=s})),[r,i]}function d(e,r){Object.entries(r).forEach((function(r){var i=c(r,2),a=i[0],o=i[1],s=n.find((function(e){return e.key===a})).getter(f),u=t.createRoot(s);u.render(o),e.__roots.push(u)}))}function p(e){e.__roots.forEach((function(e){e.unmount()})),e.__roots=[]}return function(t){s(v,t);var n=u(v);function v(){return r(this,v),n.apply(this,arguments)}return i(v,[{key:"_main",value:function(e,t){var n=this;this.__roots=[],this.__params=Object.assign({},t,e);var r=h(this.__params),i=c(r,2),s=i[0],u=i[1],f=u.willOpen||l,m=u.didOpen||l,g=u.didDestroy||l;return a(o(v.prototype),"_main",this).call(this,Object.assign({},u,{willOpen:function(e){d(n,s),f(e)},didOpen:function(e){setTimeout((function(){m(e)}))},didDestroy:function(e){g(e),p(n)}}))}},{key:"update",value:function(e){Object.assign(this.__params,e),p(this);var t=h(this.__params),n=c(t,2),r=n[0],i=n[1];a(o(v.prototype),"update",this).call(this,i),d(this,r)}}],[{key:"argsToParams",value:function(t){if(e.isValidElement(t[0])||e.isValidElement(t[1])){var n={};return["title","html","icon"].forEach((function(e,r){void 0!==t[r]&&(n[e]=t[r])})),n}return f.argsToParams(t)}}]),v}(f)}return f}(n(2791),n(1250))},1830:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default,c=n(3515).default,l=n(861).default;e.exports=function(){"use strict";var e=100,t={},n=function(){t.previousActiveElement instanceof HTMLElement?(t.previousActiveElement.focus(),t.previousActiveElement=null):document.body&&document.body.focus()},f=function(r){return new Promise((function(i){if(!r)return i();var a=window.scrollX,o=window.scrollY;t.restoreFocusTimeout=setTimeout((function(){n(),i()}),e),window.scrollTo(a,o)}))},h={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},d="swal2-",p=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=d+t,e}),{}),v=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=d+t,e}),{}),m="SweetAlert2:",g=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},y=function(e){console.warn("".concat(m," ").concat("object"===typeof e?e.join(" "):e))},b=function(e){console.error("".concat(m," ").concat(e))},w=[],k=function(e){w.includes(e)||(w.push(e),y(e))},_=function(e,t){k('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},x=function(e){return"function"===typeof e?e():e},C=function(e){return e&&"function"===typeof e.toPromise},S=function(e){return C(e)?e.toPromise():Promise.resolve(e)},E=function(e){return e&&Promise.resolve(e)===e},T=function(){return document.body.querySelector(".".concat(p.container))},I=function(e){var t=T();return t?t.querySelector(e):null},A=function(e){return I(".".concat(e))},N=function(){return A(p.popup)},P=function(){return A(p.icon)},O=function(){return A(p["icon-content"])},R=function(){return A(p.title)},D=function(){return A(p["html-container"])},L=function(){return A(p.image)},M=function(){return A(p["progress-steps"])},j=function(){return A(p["validation-message"])},F=function(){return I(".".concat(p.actions," .").concat(p.confirm))},U=function(){return I(".".concat(p.actions," .").concat(p.cancel))},B=function(){return I(".".concat(p.actions," .").concat(p.deny))},V=function(){return A(p["input-label"])},q=function(){return I(".".concat(p.loader))},z=function(){return A(p.actions)},W=function(){return A(p.footer)},H=function(){return A(p["timer-progress-bar"])},K=function(){return A(p.close)},G='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',Q=function(){var e=N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),n=N().querySelectorAll(G),r=Array.from(n).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return l(new Set(t.concat(r))).filter((function(e){return de(e)}))},Y=function(){return Z(document.body,p.shown)&&!Z(document.body,p["toast-shown"])&&!Z(document.body,p["no-backdrop"])},$=function(){return N()&&Z(N(),p.toast)},J=function(){return N().hasAttribute("data-loading")},X=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},Z=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},ee=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(p).includes(n)||Object.values(v).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},te=function(e,t,n){if(ee(e,t),t.customClass&&t.customClass[n]){if("string"!==typeof t.customClass[n]&&!t.customClass[n].forEach)return void y("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));ae(e,t.customClass[n])}},ne=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(p.popup," > .").concat(p[t]));case"checkbox":return e.querySelector(".".concat(p.popup," > .").concat(p.checkbox," input"));case"radio":return e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:checked"))||e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:first-child"));case"range":return e.querySelector(".".concat(p.popup," > .").concat(p.range," input"));default:return e.querySelector(".".concat(p.popup," > .").concat(p.input))}},re=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ie=function(e,t,n){e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ae=function(e,t){ie(e,t,!0)},oe=function(e,t){ie(e,t,!1)},se=function(e,t){for(var n=Array.from(e.children),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLElement&&Z(i,t))return i}},ue=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"===typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},le=function(e){e&&(e.style.display="none")},fe=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},he=function(e,t){t?ce(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):le(e)},de=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},pe=function(){return!de(F())&&!de(B())&&!de(U())},ve=function(e){return!!(e.scrollHeight>e.clientHeight)},me=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H();de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ye=function(){var e=H(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},be=function(){return"undefined"===typeof window||"undefined"===typeof document},we='\n <div aria-labelledby="'.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,'" tabindex="-1">\n   <button type="button" class="').concat(p.close,'"></button>\n   <ul class="').concat(p["progress-steps"],'"></ul>\n   <div class="').concat(p.icon,'"></div>\n   <img class="').concat(p.image,'" />\n   <h2 class="').concat(p.title,'" id="').concat(p.title,'"></h2>\n   <div class="').concat(p["html-container"],'" id="').concat(p["html-container"],'"></div>\n   <input class="').concat(p.input,'" />\n   <input type="file" class="').concat(p.file,'" />\n   <div class="').concat(p.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(p.select,'"></select>\n   <div class="').concat(p.radio,'"></div>\n   <label for="').concat(p.checkbox,'" class="').concat(p.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(p.label,'"></span>\n   </label>\n   <textarea class="').concat(p.textarea,'"></textarea>\n   <div class="').concat(p["validation-message"],'" id="').concat(p["validation-message"],'"></div>\n   <div class="').concat(p.actions,'">\n     <div class="').concat(p.loader,'"></div>\n     <button type="button" class="').concat(p.confirm,'"></button>\n     <button type="button" class="').concat(p.deny,'"></button>\n     <button type="button" class="').concat(p.cancel,'"></button>\n   </div>\n   <div class="').concat(p.footer,'"></div>\n   <div class="').concat(p["timer-progress-bar-container"],'">\n     <div class="').concat(p["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ke=function(){var e=T();return!!e&&(e.remove(),oe([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0)},_e=function(){t.currentInstance.resetValidationMessage()},xe=function(){var e=N(),t=se(e,p.input),n=se(e,p.file),r=e.querySelector(".".concat(p.range," input")),i=e.querySelector(".".concat(p.range," output")),a=se(e,p.select),o=e.querySelector(".".concat(p.checkbox," input")),s=se(e,p.textarea);t.oninput=_e,n.onchange=_e,a.onchange=_e,o.onchange=_e,s.oninput=_e,r.oninput=function(){_e(),i.value=r.value},r.onchange=function(){_e(),i.value=r.value}},Ce=function(e){return"string"===typeof e?document.querySelector(e):e},Se=function(e){var t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ee=function(e){"rtl"===window.getComputedStyle(e).direction&&ae(T(),p.rtl)},Te=function(e){var t=ke();if(be())b("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=p.container,t&&ae(n,p["no-transition"]),X(n,we);var r=Ce(e.target);r.appendChild(n),Se(e),Ee(r),xe()}},Ie=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ae(e,t):e&&X(t,e)},Ae=function(e,t){e.jquery?Ne(t,e):X(t,e.toString())},Ne=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Pe=function(){if(be())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"undefined"!==typeof e.style[n])return t[n];return!1}(),Oe=function(e,t){var n=z(),r=q();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ce(n):le(n),te(n,t,"actions"),Re(n,r,t),X(r,t.loaderHtml),te(r,t,"loader")};function Re(e,t,n){var r=F(),i=B(),a=U();Le(r,"confirm",n),Le(i,"deny",n),Le(a,"cancel",n),De(r,i,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(i,r)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(r,t)))}function De(e,t,n,r){r.buttonsStyling?(ae([e,t,n],p.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,ae(e,p["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,ae(t,p["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,ae(n,p["default-outline"]))):oe([e,t,n],p.styled)}function Le(e,t,n){he(e,n["show".concat(g(t),"Button")],"inline-block"),X(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=p[t],te(e,n,"".concat(t,"Button")),ae(e,n["".concat(t,"ButtonClass")])}var Me=function(e,t){var n=K();n&&(X(n,t.closeButtonHtml||""),te(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},je=function(e,t){var n=T();n&&(Fe(n,t.backdrop),Ue(n,t.position),Be(n,t.grow),te(n,t,"container"))};function Fe(e,t){"string"===typeof t?e.style.background=t:t||ae([document.documentElement,document.body],p["no-backdrop"])}function Ue(e,t){t in p?ae(e,p[t]):(y('The "position" parameter is not valid, defaulting to "center"'),ae(e,p.center))}function Be(e,t){if(t&&"string"===typeof t){var n="grow-".concat(t);n in p&&ae(e,p[n])}}var Ve=["input","file","range","select","radio","checkbox","textarea"],qe=function(e,t){var n=N(),r=h.innerParams.get(e),i=!r||t.input!==r.input;Ve.forEach((function(e){var r=se(n,p[e]);He(e,t.inputAttributes),r.className=p[e],i&&le(r)})),t.input&&(i&&ze(t),Ke(t))},ze=function(e){if(Je[e.input]){var t=Ye(e.input),n=Je[e.input](t,e);ce(t),e.inputAutoFocus&&setTimeout((function(){re(n)}))}else b('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))},We=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},He=function(e,t){var n=ne(N(),e);if(n)for(var r in We(n),t)n.setAttribute(r,t[r])},Ke=function(e){var t=Ye(e.input);"object"===typeof e.customClass&&ae(t,e.customClass.input)},Ge=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Qe=function(e,t,n){if(n.inputLabel){e.id=p.input;var r=document.createElement("label"),i=p["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&ae(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ye=function(e){return se(N(),p[e]||p.input)},$e=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):E(t)||y('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},Je={};Je.text=Je.email=Je.password=Je.number=Je.tel=Je.url=function(e,t){return $e(e,t.inputValue),Qe(e,e,t),Ge(e,t),e.type=t.input,e},Je.file=function(e,t){return Qe(e,e,t),Ge(e,t),e},Je.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return $e(n,t.inputValue),n.type=t.input,$e(r,t.inputValue),Qe(n,e,t),e},Je.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");X(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Qe(e,e,t),e},Je.radio=function(e){return e.textContent="",e},Je.checkbox=function(e,t){var n=ne(N(),"checkbox");n.value="1",n.id=p.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return X(r,t.inputPlaceholder),n},Je.textarea=function(e,t){$e(e,t.inputValue),Ge(e,t),Qe(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(N()).width);new MutationObserver((function(){var r=e.offsetWidth+n(e);N().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var Xe=function(e,t){var n=D();n&&(te(n,t,"htmlContainer"),t.html?(Ie(t.html,n),ce(n,"block")):t.text?(n.textContent=t.text,ce(n,"block")):le(n),qe(e,t))},Ze=function(e,t){var n=W();n&&(he(n,t.footer),t.footer&&Ie(t.footer,n),te(n,t,"footer"))},et=function(e,t){var n=h.innerParams.get(e),r=P();if(n&&t.icon===n.icon)return at(r,t),void tt(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(v).indexOf(t.icon))return b('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void le(r);ce(r),at(r,t),tt(r,t),ae(r,t.showClass.icon)}else le(r)},tt=function(e,t){for(var n in v)t.icon!==n&&oe(e,v[n]);ae(e,v[t.icon]),ot(e,t),nt(),te(e,t,"icon")},nt=function(){for(var e=N(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},rt='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',it='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',at=function(e,t){var n,r=e.innerHTML;t.iconHtml?n=st(t.iconHtml):"success"===t.icon?(n=rt,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?it:st({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&X(e,n)},ot=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){var i=r[n];fe(e,i,"backgroundColor",t.iconColor)}fe(e,".swal2-success-ring","borderColor",t.iconColor)}},st=function(e){return'<div class="'.concat(p["icon-content"],'">').concat(e,"</div>")},ut=function(e,t){var n=L();n&&(t.imageUrl?(ce(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),ue(n,"width",t.imageWidth),ue(n,"height",t.imageHeight),n.className=p.image,te(n,t,"image")):le(n))},ct=function(e,t){var n=T(),r=N();if(n&&r){if(t.toast){ue(n,"width",t.width),r.style.width="100%";var i=q();i&&r.insertBefore(i,P())}else ue(r,"width",t.width);ue(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),le(j()),lt(r,t)}},lt=function(e,t){var n=t.showClass||{};e.className="".concat(p.popup," ").concat(de(e)?n.popup:""),t.toast?(ae([document.documentElement,document.body],p["toast-shown"]),ae(e,p.toast)):ae(e,p.modal),te(e,t,"popup"),"string"===typeof t.customClass&&ae(e,t.customClass),t.icon&&ae(e,p["icon-".concat(t.icon)])},ft=function(e,t){var n=M();if(n){var r=t.progressSteps,i=t.currentProgressStep;r&&0!==r.length&&void 0!==i?(ce(n),n.textContent="",i>=r.length&&y("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((function(e,a){var o=ht(e);if(n.appendChild(o),a===i&&ae(o,p["active-progress-step"]),a!==r.length-1){var s=dt(t);n.appendChild(s)}}))):le(n)}},ht=function(e){var t=document.createElement("li");return ae(t,p["progress-step"]),X(t,e),t},dt=function(e){var t=document.createElement("li");return ae(t,p["progress-step-line"]),e.progressStepsDistance&&ue(t,"width",e.progressStepsDistance),t},pt=function(e,t){var n=R();n&&(he(n,t.title||t.titleText,"block"),t.title&&Ie(t.title,n),t.titleText&&(n.innerText=t.titleText),te(n,t,"title"))},vt=function(e,t){ct(e,t),je(e,t),ft(e,t),et(e,t),ut(e,t),pt(e,t),Me(e,t),Xe(e,t),Oe(e,t),Ze(e,t);var n=N();"function"===typeof t.didRender&&n&&t.didRender(n)},mt=function(){return de(N())},gt=function(){return F()&&F().click()},yt=function(){return B()&&B().click()},bt=function(){return U()&&U().click()},wt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),kt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},_t=function(e,t,n,r){kt(t),n.toast||(t.keydownHandler=function(t){return Et(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:N(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},xt=function(e,t){var n=Q();if(n.length)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();N().focus()},Ct=["ArrowRight","ArrowDown"],St=["ArrowLeft","ArrowUp"],Et=function(e,t,n){var r=h.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Tt(e,t,r):"Tab"===t.key?It(t):[].concat(Ct,St).includes(t.key)?At(t.key):"Escape"===t.key&&Nt(t,r,n)))},Tt=function(e,t,n){if(x(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;gt(),t.preventDefault()}},It=function(e){for(var t=e.target,n=Q(),r=-1,i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?xt(r,-1):xt(r,1),e.stopPropagation(),e.preventDefault()},At=function(e){var t=[F(),B(),U()];if(!(document.activeElement instanceof HTMLElement)||t.includes(document.activeElement)){for(var n=Ct.includes(e)?"nextElementSibling":"previousElementSibling",r=document.activeElement,i=0;i<z().children.length;i++){if(!(r=r[n]))return;if(r instanceof HTMLButtonElement&&de(r))break}r instanceof HTMLButtonElement&&r.focus()}},Nt=function(e,t,n){x(t.allowEscapeKey)&&(e.preventDefault(),n(wt.esc))},Pt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ot=function(){Array.from(document.body.children).forEach((function(e){e===T()||e.contains(T())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))}))},Rt=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Dt=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Z(document.body,p.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ae(document.body,p.iosfix),Mt(),Lt()}},Lt=function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){var r=44;N().scrollHeight>window.innerHeight-r&&(T().style.paddingBottom="".concat(r,"px"))}},Mt=function(){var e,t=T();t.ontouchstart=function(t){e=jt(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},jt=function(e){var t=e.target,n=T();return!Ft(e)&&!Ut(e)&&(t===n||!ve(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!ve(D())||!D().contains(t)))},Ft=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Ut=function(e){return e.touches&&e.touches.length>1},Bt=function(){if(Z(document.body,p.iosfix)){var e=parseInt(document.body.style.top,10);oe(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Vt=function(){var e=document.createElement("div");e.className=p["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},qt=null,zt=function(){null===qt&&document.body.scrollHeight>window.innerHeight&&(qt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(qt+Vt(),"px"))},Wt=function(){null!==qt&&(document.body.style.paddingRight="".concat(qt,"px"),qt=null)};function Ht(e,n,r,i){$()?en(e,i):(f(r).then((function(){return en(e,i)})),kt(t)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(n.setAttribute("style","display:none !important"),n.removeAttribute("class"),n.innerHTML=""):n.remove(),Y()&&(Wt(),Bt(),Rt()),Kt()}function Kt(){oe([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Gt(e){e=Jt(e);var t=Pt.swalPromiseResolve.get(this),n=Qt(this);this.isAwaitingPromise?e.isDismissed||($t(this),t(e)):n&&t(e)}var Qt=function(e){var t=N();if(!t)return!1;var n=h.innerParams.get(e);if(!n||Z(t,n.hideClass.popup))return!1;oe(t,n.showClass.popup),ae(t,n.hideClass.popup);var r=T();return oe(r,n.showClass.backdrop),ae(r,n.hideClass.backdrop),Xt(e,t,n),!0};function Yt(e){var t=Pt.swalPromiseReject.get(this);$t(this),t&&t(e)}var $t=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,h.innerParams.get(e)||e._destroy())},Jt=function(e){return"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},Xt=function(e,t,n){var r=T(),i=Pe&&me(t);"function"===typeof n.willClose&&n.willClose(t),i?Zt(e,t,r,n.returnFocus,n.didClose):Ht(e,r,n.returnFocus,n.didClose)},Zt=function(e,n,r,i,a){t.swalCloseEventFinishedCallback=Ht.bind(null,e,r,i,a),n.addEventListener(Pe,(function(e){e.target===n&&(t.swalCloseEventFinishedCallback(),delete t.swalCloseEventFinishedCallback)}))},en=function(e,t){setTimeout((function(){"function"===typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},tn=function(e){var t=N();t||new ei,t=N();var n=q();$()?le(P()):nn(t,e),ce(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},nn=function(e,t){var n=z(),r=q();!t&&de(F())&&(t=F()),ce(n),t&&(le(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),ae([e,n],p.loading)},rn=function(e,t){"select"===t.input||"radio"===t.input?cn(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(C(t.inputValue)||E(t.inputValue))&&(tn(F()),ln(e,t))},an=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return on(n);case"radio":return sn(n);case"file":return un(n);default:return t.inputAutoTrim?n.value.trim():n.value}},on=function(e){return e.checked?1:0},sn=function(e){return e.checked?e.value:null},un=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},cn=function(e,t){var n=N(),r=function(e){fn[t.input](n,hn(e),t)};C(t.inputOptions)||E(t.inputOptions)?(tn(F()),S(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):b("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},ln=function(e,t){var n=e.getInput();le(n),S(t.inputValue).then((function(r){n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),ce(n),n.focus(),e.hideLoading()})).catch((function(t){b("Error in inputValue promise: ".concat(t)),n.value="",ce(n),n.focus(),e.hideLoading()}))},fn={select:function(e,t,n){var r=se(e,p.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,X(i,t),i.selected=dn(r,n.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,r.appendChild(a),n.forEach((function(e){return i(a,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=se(e,p.radio);t.forEach((function(e){var t=e[0],i=e[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=p.radio,a.value=t,dn(t,n.inputValue)&&(a.checked=!0);var s=document.createElement("span");X(s,i),s.className=p.label,o.appendChild(a),o.appendChild(s),r.appendChild(o)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},hn=function e(t){var n=[];return"undefined"!==typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"===typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"===typeof i&&(i=e(i)),n.push([r,i])})),n},dn=function(e,t){return t&&t.toString()===e.toString()},pn=function(e){var t=h.innerParams.get(e);e.disableButtons(),t.input?gn(e,"confirm"):_n(e,!0)},vn=function(e){var t=h.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?gn(e,"deny"):bn(e,!1)},mn=function(e,t){e.disableButtons(),t(wt.cancel)},gn=function(e,t){var n=h.innerParams.get(e);if(n.input){var r=an(e,n);n.inputValidator?yn(e,r,t):e.getInput().checkValidity()?"deny"===t?bn(e,r):_n(e,r):(e.enableButtons(),e.showValidationMessage(n.validationMessage))}else b('The "input" parameter is needed to be set when using returnInputValueOn'.concat(g(t)))},yn=function(e,t,n){var r=h.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return S(r.inputValidator(t,r.validationMessage))})).then((function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?bn(e,t):_n(e,t)}))},bn=function(e,t){var n=h.innerParams.get(e||void 0);n.showLoaderOnDeny&&tn(B()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return S(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),$t(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((function(t){return kn(e||void 0,t)}))):e.close({isDenied:!0,value:t})},wn=function(e,t){e.close({isConfirmed:!0,value:t})},kn=function(e,t){e.rejectPromise(t)},_n=function(e,t){var n=h.innerParams.get(e||void 0);n.showLoaderOnConfirm&&tn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return S(n.preConfirm(t,n.validationMessage))})).then((function(n){de(j())||!1===n?(e.hideLoading(),$t(e)):wn(e,"undefined"===typeof n?t:n)})).catch((function(t){return kn(e||void 0,t)}))):wn(e,t)};function xn(){var e=h.innerParams.get(this);if(e){var t=h.domCache.get(this);le(t.loader),$()?e.icon&&ce(P()):Cn(t),oe([t.popup,t.actions],p.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Cn=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ce(t[0],"inline-block"):pe()&&le(e.actions)};function Sn(){var e=h.innerParams.get(this),t=h.domCache.get(this);return t?ne(t.popup,e.input):null}function En(e,t,n){var r=h.domCache.get(e);t.forEach((function(e){r[e].disabled=n}))}function Tn(e,t){if(e)if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}function In(){En(this,["confirmButton","denyButton","cancelButton"],!1)}function An(){En(this,["confirmButton","denyButton","cancelButton"],!0)}function Nn(){Tn(this.getInput(),!1)}function Pn(){Tn(this.getInput(),!0)}function On(e){var t=h.domCache.get(this),n=h.innerParams.get(this);X(t.validationMessage,e),t.validationMessage.className=p["validation-message"],n.customClass&&n.customClass.validationMessage&&ae(t.validationMessage,n.customClass.validationMessage),ce(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",p["validation-message"]),re(r),ae(r,p.inputerror))}function Rn(){var e=h.domCache.get(this);e.validationMessage&&le(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),oe(t,p.inputerror))}var Dn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ln=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mn={},jn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Fn=function(e){return Object.prototype.hasOwnProperty.call(Dn,e)},Un=function(e){return-1!==Ln.indexOf(e)},Bn=function(e){return Mn[e]},Vn=function(e){Fn(e)||y('Unknown parameter "'.concat(e,'"'))},qn=function(e){jn.includes(e)&&y('The parameter "'.concat(e,'" is incompatible with toasts'))},zn=function(e){var t=Bn(e);t&&_(e,t)},Wn=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&y('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Vn(t),e.toast&&qn(t),zn(t)};function Hn(e){var t=N(),n=h.innerParams.get(this);if(t&&!Z(t,n.hideClass.popup)){var r=Kn(e),i=Object.assign({},n,r);vt(this,i),h.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else y("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Kn=function(e){var t={};return Object.keys(e).forEach((function(n){Un(n)?t[n]=e[n]:y("Invalid parameter to update: ".concat(n))})),t};function Gn(){var e=h.domCache.get(this),n=h.innerParams.get(this);n?(e.popup&&t.swalCloseEventFinishedCallback&&(t.swalCloseEventFinishedCallback(),delete t.swalCloseEventFinishedCallback),"function"===typeof n.didDestroy&&n.didDestroy(),Qn(this)):Yn(this)}var Qn=function(e){Yn(e),delete e.params,delete t.keydownHandler,delete t.keydownTarget,delete t.currentInstance},Yn=function(e){e.isAwaitingPromise?($n(h,e),e.isAwaitingPromise=!0):($n(Pt,e),$n(h,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},$n=function(e,t){for(var n in e)e[n].delete(t)},Jn=Object.freeze({__proto__:null,_destroy:Gn,close:Gt,closeModal:Gt,closePopup:Gt,closeToast:Gt,disableButtons:An,disableInput:Pn,disableLoading:xn,enableButtons:In,enableInput:Nn,getInput:Sn,handleAwaitingPromise:$t,hideLoading:xn,rejectPromise:Yt,resetValidationMessage:Rn,showValidationMessage:On,update:Hn}),Xn=function(e,t,n){h.innerParams.get(e).toast?Zn(e,t,n):(nr(t),rr(t),ir(e,t,n))},Zn=function(e,t,n){t.popup.onclick=function(){var t=h.innerParams.get(e);t&&(er(t)||t.timer||t.input)||n(wt.close)}},er=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},tr=!1,nr=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(tr=!0)}}},rr=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(tr=!0)}}},ir=function(e,t,n){t.container.onclick=function(r){var i=h.innerParams.get(e);tr?tr=!1:r.target===t.container&&x(i.allowOutsideClick)&&n(wt.backdrop)}},ar=function(e){return"object"===typeof e&&e.jquery},or=function(e){return e instanceof Element||ar(e)},sr=function(e){var t={};return"object"!==typeof e[0]||or(e[0])?["title","html","icon"].forEach((function(n,r){var i=e[r];"string"===typeof i||or(i)?t[n]=i:void 0!==i&&b("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t};function ur(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}function cr(e){var t=function(t){s(c,t);var n=u(c);function c(){return r(this,c),n.apply(this,arguments)}return i(c,[{key:"_main",value:function(t,n){return a(o(c.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),c}(this);return t}var lr=function(){return t.timeout&&t.timeout.getTimerLeft()},fr=function(){if(t.timeout)return ye(),t.timeout.stop()},hr=function(){if(t.timeout){var e=t.timeout.start();return ge(e),e}},dr=function(){var e=t.timeout;return e&&(e.running?fr():hr())},pr=function(e){if(t.timeout){var n=t.timeout.increase(e);return ge(n,!0),n}},vr=function(){return!(!t.timeout||!t.timeout.isRunning())},mr=!1,gr={};function yr(){gr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,mr||(document.body.addEventListener("click",wr),mr=!0)}var br,wr=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in gr){var r=t.getAttribute(n);if(r)return void gr[n].fire({template:r})}},kr=Object.freeze({__proto__:null,argsToParams:sr,bindClickHandler:yr,clickCancel:bt,clickConfirm:gt,clickDeny:yt,enableLoading:tn,fire:ur,getActions:z,getCancelButton:U,getCloseButton:K,getConfirmButton:F,getContainer:T,getDenyButton:B,getFocusableElements:Q,getFooter:W,getHtmlContainer:D,getIcon:P,getIconContent:O,getImage:L,getInputLabel:V,getLoader:q,getPopup:N,getProgressSteps:M,getTimerLeft:lr,getTimerProgressBar:H,getTitle:R,getValidationMessage:j,increaseTimer:pr,isDeprecatedParameter:Bn,isLoading:J,isTimerRunning:vr,isUpdatableParameter:Un,isValidParameter:Fn,isVisible:mt,mixin:cr,resumeTimer:hr,showLoading:tn,stopTimer:fr,toggleTimer:dr}),_r=function(){function e(t,n){r(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),xr=["swal-title","swal-html","swal-footer"],Cr=function(e){var t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Or(n),Object.assign(Sr(n),Er(n),Tr(n),Ir(n),Ar(n),Nr(n),Pr(n,xr))},Sr=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){Rr(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"===typeof Dn[n]?t[n]="false"!==r:"object"===typeof Dn[n]?t[n]=JSON.parse(r):t[n]=r})),t},Er=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),r=e.getAttribute("value");t[n]=new Function("return ".concat(r))()})),t},Tr=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){Rr(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(g(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Ir=function(e){var t={},n=e.querySelector("swal-image");return n&&(Rr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Ar=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Rr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Nr=function(e){var t={},n=e.querySelector("swal-input");n&&(Rr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((function(e){Rr(e,["value"]);var n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Pr=function(e,t){var n={};for(var r in t){var i=t[r],a=e.querySelector(i);a&&(Rr(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Or=function(e){var t=xr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||y("Unrecognized element <".concat(n,">"))}))},Rr=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&y(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Dr=10,Lr=function(e){var n=T(),r=N();"function"===typeof e.willOpen&&e.willOpen(r);var i=window.getComputedStyle(document.body).overflowY;Ur(n,r,e),setTimeout((function(){jr(n,r)}),Dr),Y()&&(Fr(n,e.scrollbarPadding,i),Ot()),$()||t.previousActiveElement||(t.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((function(){return e.didOpen(r)})),oe(n,p["no-transition"])},Mr=function e(t){var n=N();if(t.target===n){var r=T();n.removeEventListener(Pe,e),r.style.overflowY="auto"}},jr=function(e,t){Pe&&me(t)?(e.style.overflowY="hidden",t.addEventListener(Pe,Mr)):e.style.overflowY="auto"},Fr=function(e,t,n){Dt(),t&&"hidden"!==n&&zt(),setTimeout((function(){e.scrollTop=0}))},Ur=function(e,t,n){ae(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ce(t,"grid"),setTimeout((function(){ae(t,n.showClass.popup),t.style.removeProperty("opacity")}),Dr),ae([document.documentElement,document.body],p.shown),n.heightAuto&&n.backdrop&&!n.toast&&ae([document.documentElement,document.body],p["height-auto"])},Br={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function Vr(e){e.inputValidator||Object.keys(Br).forEach((function(t){e.input===t&&(e.inputValidator=Br[t])}))}function qr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(y('Target parameter is not valid, defaulting to "body"'),e.target="body")}function zr(e){Vr(e),e.showLoaderOnConfirm&&!e.preConfirm&&y("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),qr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Te(e)}var Wr=function(){function e(){if(r(this,e),"undefined"!==typeof window){br=this;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Object.freeze(this.constructor.argsToParams(n));this.params=a,this.isAwaitingPromise=!1;var o=br._main(br.params);h.promise.set(this,o)}}return i(e,[{key:"_main",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Wn(Object.assign({},n,e)),t.currentInstance&&(t.currentInstance._destroy(),Y()&&Rt()),t.currentInstance=br;var r=Kr(e,n);zr(r),Object.freeze(r),t.timeout&&(t.timeout.stop(),delete t.timeout),clearTimeout(t.restoreFocusTimeout);var i=Gr(br);return vt(br,r),h.innerParams.set(br,r),Hr(br,i,r)}},{key:"then",value:function(e){return h.promise.get(this).then(e)}},{key:"finally",value:function(e){return h.promise.get(this).finally(e)}}]),e}(),Hr=function(e,n,r){return new Promise((function(i,a){var o=function(t){e.close({isDismissed:!0,dismiss:t})};Pt.swalPromiseResolve.set(e,i),Pt.swalPromiseReject.set(e,a),n.confirmButton.onclick=function(){pn(e)},n.denyButton.onclick=function(){vn(e)},n.cancelButton.onclick=function(){mn(e,o)},n.closeButton.onclick=function(){o(wt.close)},Xn(e,n,o),_t(e,t,r,o),rn(e,r),Lr(r),Qr(t,r,o),Yr(n,r),setTimeout((function(){n.container.scrollTop=0}))}))},Kr=function(e,t){var n=Cr(e),r=Object.assign({},Dn,t,n,e);return r.showClass=Object.assign({},Dn.showClass,r.showClass),r.hideClass=Object.assign({},Dn.hideClass,r.hideClass),r},Gr=function(e){var t={popup:N(),container:T(),actions:z(),confirmButton:F(),denyButton:B(),cancelButton:U(),loader:q(),closeButton:K(),validationMessage:j(),progressSteps:M()};return h.domCache.set(e,t),t},Qr=function(e,t,n){var r=H();le(r),t.timer&&(e.timeout=new _r((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ce(r),te(r,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&ge(t.timer)}))))},Yr=function(e,t){t.toast||(x(t.allowEnterKey)?$r(e,t)||xt(-1,1):Jr())},$r=function(e,t){return t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton))&&(e.confirmButton.focus(),!0)},Jr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Xr=new Date,Zr=localStorage.getItem("swal-initiation");Zr?(Xr.getTime()-Date.parse(Zr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(Xr))}Wr.prototype.disableButtons=An,Wr.prototype.enableButtons=In,Wr.prototype.getInput=Sn,Wr.prototype.disableInput=Pn,Wr.prototype.enableInput=Nn,Wr.prototype.hideLoading=xn,Wr.prototype.disableLoading=xn,Wr.prototype.showValidationMessage=On,Wr.prototype.resetValidationMessage=Rn,Wr.prototype.close=Gt,Wr.prototype.closePopup=Gt,Wr.prototype.closeModal=Gt,Wr.prototype.closeToast=Gt,Wr.prototype.rejectPromise=Yt,Wr.prototype.update=Hn,Wr.prototype._destroy=Gn,Object.assign(Wr,kr),Object.keys(Jn).forEach((function(e){Wr[e]=function(){var t;return br&&br[e]?(t=br)[e].apply(t,arguments):null}})),Wr.DismissReason=wt,Wr.version="11.7.12";var ei=Wr;return ei.default=ei,ei}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},2391:function(e){"use strict";var t=function(){};e.exports=t},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6e2bde94.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web_text_to_voice:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/toVoice/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb_text_to_voice=self.webpackChunkweb_text_to_voice||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Qt},SDK_VERSION:function(){return br},_DEFAULT_ENTRY_NAME:function(){return or},_addComponent:function(){return lr},_addOrOverwriteComponent:function(){return fr},_apps:function(){return ur},_clearComponents:function(){return vr},_components:function(){return cr},_getProvider:function(){return dr},_registerComponent:function(){return hr},_removeServiceInstance:function(){return pr},deleteApp:function(){return xr},getApp:function(){return kr},getApps:function(){return _r},initializeApp:function(){return wr},onLog:function(){return Er},registerVersion:function(){return Sr},setLogLevel:function(){return Tr}});var t=n(2791),r=n.t(t,2),i=n(1250);n.p;var a=n(184);var o;function s(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||c(e,t)||l()}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||h(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){var t=_();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function S(e,t,n){return S=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},E(e)}function T(e){return s(e)||h(e)||c(e)||l()}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));var N,P="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function j(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,s=void 0===a?document.defaultView:a,u=i.v5Compat,c=void 0!==u&&u,l=s.history,f=o.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=o.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:M(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(A({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(P,v),h=e,function(){s.removeEventListener(P,v),h=null}},createHref:function(e){return t(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=o.Push;var r=L(g.location,e,t);n&&n(r,e);var i=D(r,d=p()+1),a=g.createHref(r);try{l.pushState(i,"",a)}catch(mi){if(mi instanceof DOMException&&"DataCloneError"===mi.name)throw mi;s.location.assign(a)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=o.Replace;var r=L(g.location,e,t);n&&n(r,e);var i=D(r,d=p()),a=g.createHref(r);l.replaceState(i,"",a),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?j(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],X(r));return a}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=re([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Y(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=I(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=V(i.join("/")),u=[];return u.push.apply(u,d(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,d(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var q=/^:\w+$/,z=3,W=2,H=1,K=10,G=-2,Q=function(e){return"*"===e};function Y(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=G),t&&(r+=W),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(q.test(t)?z:""===t?H:K)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(mi){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+mi+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function X(e){try{return decodeURI(e)}catch(mi){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+mi+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=j(e):(O(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?j(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ae(a),hash:oe(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},se=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n)}(E(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he=t.createContext(null);var de=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ge=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=t.createContext(null);function be(){return null!=t.useContext(me)}function we(){return be()||O(!1),t.useContext(me).location}function ke(e){t.useContext(ve).static||t.useLayoutEffect(e)}function _e(){return t.useContext(ge).isDataRoute?function(){var e=Pe(Se.UseNavigateStable).router,n=Re(Ee.UseNavigateStable),r=t.useRef(!1);ke((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,fe({fromRouteId:n},i)))}),[e,n]);return i}():function(){be()||O(!1);var e=t.useContext(he),n=t.useContext(ve),r=n.basename,i=n.navigator,a=t.useContext(ge).matches,o=we().pathname,s=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);ke((function(){u.current=!0}));var c=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=ne(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:re([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return c}()}function xe(e,n,r){be()||O(!1);var i,a=t.useContext(ve).navigator,s=t.useContext(ge).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,we());if(n){var h,d="string"===typeof n?j(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||O(!1),i=d}else i=f;var p=i.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ne(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:re([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:re([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,r);return n&&m?t.createElement(me.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:o.Pop}},m):m}function Ce(){var e=function(){var e,n=t.useContext(ye),r=Oe(Ee.UseRouteError),i=Re(Ee.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Se,Ee,Te=t.createElement(Ce,null),Ie=function(e){w(r,e);var n=C(r);function r(e){var t;return p(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return y(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ge.Provider,{value:this.props.routeContext},t.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ae(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(he);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ge.Provider,{value:n},i)}function Ne(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||O(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Te);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ae,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ie,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Pe(e){var n=t.useContext(he);return n||O(!1),n}function Oe(e){var n=t.useContext(de);return n||O(!1),n}function Re(e){var n=function(e){var n=t.useContext(ge);return n||O(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||O(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Se||(Se={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ee||(Ee={}));var De;r.startTransition;function Le(e){O(!1)}function Me(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,s=e.location,u=e.navigationType,c=void 0===u?o.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;be()&&O(!1);var d=r.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=j(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,w=v.hash,k=void 0===w?"":w,_=v.state,x=void 0===_?null:_,C=v.key,S=void 0===C?"default":C,E=t.useMemo((function(){var e=Z(g,d);return null==e?null:{location:{pathname:e,search:b,hash:k,state:x,key:S},navigationType:c}}),[d,g,b,k,x,S,c]);return null==E?null:t.createElement(ve.Provider,{value:p},t.createElement(me.Provider,{children:a,value:E}))}function je(e){var t=e.children,n=e.location;return xe(Ue(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(De||(De={}));var Fe=new Promise((function(){}));t.Component;function Ue(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(d(n),[i]);if(e.type!==t.Fragment){e.type!==Le&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),r.push(o)}else r.push.apply(r,Ue(e.props.children,a))}})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Be=r.startTransition;function Ve(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),F((function(e,t){var n=j(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return L("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:M(t))}),(function(e,t){R("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var u=s.current,c=f(t.useState({action:u.action,location:u.location}),2),l=c[0],h=c[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&Be?Be((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return u.listen(p)}),[u,p]),t.createElement(Me,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var qe,ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(qe||(qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ze||(ze={}));var We={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},He=t.createContext&&t.createContext(We),Ke=function(){return Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ke.apply(this,arguments)},Ge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Qe(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Ke({key:n},e.attr),Qe(e.child))}))}function Ye(e){return function(n){return t.createElement($e,Ke({attr:Ke({},e.attr)},n),Qe(e.child))}}function $e(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Ge(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Ke({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Ke(Ke({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==He?t.createElement(He.Consumer,null,(function(e){return n(e)})):n(We)}function Je(e){return Ye({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 0 1-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 0 0-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 0 0 285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]})(e)}function Xe(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(e)}function Ze(e){return Ye({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function et(e){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 2H5a2 2 0 00-2 2v14a2 2 0 002 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 16h-4.83l-.59.59L12 20.17l-1.59-1.59-.58-.58H5V4h14v14zm-7-7c1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3 1.35 3 3 3zm0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm6 8.58c0-2.5-3.97-3.58-6-3.58s-6 1.08-6 3.58V17h12v-1.42zM8.48 15c.74-.51 2.23-1 3.52-1s2.78.49 3.52 1H8.48z"}}]})(e)}function tt(e){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function nt(e){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function rt(e){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9.103 2h5.794a3 3 0 0 1 2.122 .879l4.101 4.1a3 3 0 0 1 .88 2.125v5.794a3 3 0 0 1 -.879 2.122l-4.1 4.101a3 3 0 0 1 -2.123 .88h-5.795a3 3 0 0 1 -2.122 -.88l-4.101 -4.1a3 3 0 0 1 -.88 -2.124v-5.794a3 3 0 0 1 .879 -2.122l4.1 -4.101a3 3 0 0 1 2.125 -.88z"}},{tag:"path",attr:{d:"M12 8v4"}},{tag:"path",attr:{d:"M12 16h.01"}}]})(e)}function it(e){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"}}]})(e)}function at(e){return Ye({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"}}]})(e)}function ot(e){return Ye({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(e)}function st(e){return Ye({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"}}]})(e)}var ut=(0,a.jsx)(Xe,{style:{color:"white",fontSize:"20px"}}),ct=(0,a.jsx)(Ze,{style:{color:"gray",fontSize:"45px"}}),lt=(0,a.jsx)(et,{style:{color:"gray",fontSize:"20px"}}),ft=(0,a.jsx)(Je,{style:{color:"gray",fontSize:"20px"}}),ht=(0,a.jsx)(tt,{style:{color:"gray",fontSize:"20px"}}),dt=(0,a.jsx)(rt,{style:{color:"gray",fontSize:"20px"}}),pt=(0,a.jsx)(it,{style:{color:"gray",fontSize:"20px"}}),vt=(0,a.jsx)(nt,{style:{color:"white",fontSize:"16px"}}),mt=(0,a.jsx)(ot,{style:{color:"white",fontSize:"20px"}}),gt=(0,a.jsx)(at,{style:{color:"white",fontSize:"20px"}}),yt=(0,a.jsx)(st,{style:{color:"white",fontSize:"20px"}}),bt=n(7948),wt=n.n(bt),kt=n(526);function _t(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=!1,Ct=!1,St="${JSCORE_VERSION}",Et=function(e,t){if(!e)throw Tt(t)},Tt=function(e){return new Error("Firebase Database ("+St+") INTERNAL ASSERT FAILED: "+e)},It=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},At={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(It(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Nt;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Nt=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(E(Error)),Pt=function(e){var t=It(e);return At.encodeByteArray(t,!0)},Ot=function(e){return Pt(e).replace(/\./g,"")},Rt=function(e){try{return At.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Dt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Dt(e[n],t[n]));return e}var Lt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Mt=function(){try{return Lt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/toVoice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Rt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},jt=function(){var e;return null===(e=Mt())||void 0===e?void 0:e.config},Ft=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ut(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ot(JSON.stringify({alg:"none",type:"JWT"})),Ot(JSON.stringify(a)),""].join(".")}function Bt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function qt(){var e,t=null===(e=Mt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function zt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Wt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ht(){var e=Bt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Kt(){return!0===xt||!0===Ct}function Gt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Qt=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Yt.prototype.create),a}return y(n)}(E(Error)),Yt=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace($t,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Qt(n,a,t)}}]),e}();var $t=/\{\$([^}]+)}/g;function Jt(e){return JSON.parse(e)}function Xt(e){return JSON.stringify(e)}var Zt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Jt(Rt(a[0])||""),n=Jt(Rt(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function nn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rn(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function an(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(on(s)&&on(u)){if(!an(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function on(e){return null!==e&&"object"===typeof e}function sn(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function un(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function cn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ln=function(){function e(){p(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return y(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function fn(e,t){var n=new hn(e,t);return n.subscribe.bind(n)}var hn=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=dn),void 0===r.error&&(r.error=dn),void 0===r.complete&&(r.complete=dn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function dn(){}var pn=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function vn(e,t){return"".concat(e," failed: ").concat(t," argument ")}function mn(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(vn(e,t)+"must be a valid function.")}function gn(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(vn(e,t)+"must be a valid context object.")}var yn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function bn(e){return e&&e._delegate?e._delegate:e}function wn(){wn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=p.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function kn(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(mi){return void n(mi)}s.done?t(u):Promise.resolve(u).then(r,i)}function _n(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){kn(a,r,i,o,s,"next",e)}function s(e){kn(a,r,i,o,s,"throw",e)}o(void 0)}))}}var xn=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Cn="[DEFAULT]",Sn=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ft;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Cn})}catch(u){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=I(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=f(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(PD){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Cn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(PD){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn;return this.component?this.component.multipleInstances?e:Cn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var En,Tn,In=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Sn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),An=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tn||(Tn={}));var Nn={debug:Tn.DEBUG,verbose:Tn.VERBOSE,info:Tn.INFO,warn:Tn.WARN,error:Tn.ERROR,silent:Tn.SILENT},Pn=Tn.INFO,On=(_t(En={},Tn.DEBUG,"log"),_t(En,Tn.VERBOSE,"log"),_t(En,Tn.INFO,"info"),_t(En,Tn.WARN,"warn"),_t(En,Tn.ERROR,"error"),En),Rn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Dn=function(){function e(t){p(this,e),this.name=t,this._logLevel=Pn,this._logHandler=Rn,this._userLogHandler=null,An.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Tn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Nn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Tn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Tn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tn.INFO].concat(t)),this._logHandler.apply(this,[this,Tn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tn.WARN].concat(t)),this._logHandler.apply(this,[this,Tn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tn.ERROR].concat(t)),this._logHandler.apply(this,[this,Tn.ERROR].concat(t))}}]),e}();function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn,Fn,Un=function(e,t){return t.some((function(t){return e instanceof t}))};var Bn=new WeakMap,Vn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Wn=new WeakMap;var Hn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Kn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fn||(Fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yn(this),n),Qn(Bn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(e.apply(Yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Yn(this),t].concat(r));return qn.set(a,t.sort?t.sort():[t]),Qn(a)}}function Gn(e){return"function"===typeof e?Kn(e):(e instanceof IDBTransaction&&function(e){if(!Vn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Vn.set(e,t)}}(e),Un(e,jn||(jn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Hn):e)}function Qn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Qn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Bn.set(t,e)})).catch((function(){})),Wn.set(t,e),t}(e);if(zn.has(e))return zn.get(e);var t=Gn(e);return t!==e&&(zn.set(e,t),Wn.set(t,e)),t}var Yn=function(e){return Wn.get(e)};var $n,Jn,Xn=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],er=new Map;function tr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(er.get(t))return er.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Zn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xn.includes(n))){var a=function(){var e=_n(wn().mark((function e(t){var a,o,s,u,c,l,f=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return er.set(t,a),a}}}Hn=function(e){return Mn(Mn({},e),{},{get:function(t,n,r){return tr(t,n)||e.get(t,n,r)},has:function(t,n){return!!tr(t,n)||e.has(t,n)}})}(Hn);var nr=function(){function e(t){p(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rr="@firebase/app",ir="0.9.13",ar=new Dn("@firebase/app"),or="[DEFAULT]",sr=(_t($n={},rr,"fire-core"),_t($n,"@firebase/app-compat","fire-core-compat"),_t($n,"@firebase/analytics","fire-analytics"),_t($n,"@firebase/analytics-compat","fire-analytics-compat"),_t($n,"@firebase/app-check","fire-app-check"),_t($n,"@firebase/app-check-compat","fire-app-check-compat"),_t($n,"@firebase/auth","fire-auth"),_t($n,"@firebase/auth-compat","fire-auth-compat"),_t($n,"@firebase/database","fire-rtdb"),_t($n,"@firebase/database-compat","fire-rtdb-compat"),_t($n,"@firebase/functions","fire-fn"),_t($n,"@firebase/functions-compat","fire-fn-compat"),_t($n,"@firebase/installations","fire-iid"),_t($n,"@firebase/installations-compat","fire-iid-compat"),_t($n,"@firebase/messaging","fire-fcm"),_t($n,"@firebase/messaging-compat","fire-fcm-compat"),_t($n,"@firebase/performance","fire-perf"),_t($n,"@firebase/performance-compat","fire-perf-compat"),_t($n,"@firebase/remote-config","fire-rc"),_t($n,"@firebase/remote-config-compat","fire-rc-compat"),_t($n,"@firebase/storage","fire-gcs"),_t($n,"@firebase/storage-compat","fire-gcs-compat"),_t($n,"@firebase/firestore","fire-fst"),_t($n,"@firebase/firestore-compat","fire-fst-compat"),_t($n,"fire-js","fire-js"),_t($n,"firebase","fire-js-all"),$n),ur=new Map,cr=new Map;function lr(e,t){try{e.container.addComponent(t)}catch(n){ar.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function fr(e,t){e.container.addOrOverwriteComponent(t)}function hr(e){var t=e.name;if(cr.has(t))return ar.debug("There were multiple attempts to register component ".concat(t,".")),!1;cr.set(t,e);var n,r=I(ur.values());try{for(r.s();!(n=r.n()).done;){lr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function dr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or;dr(e,t).clearInstance(n)}function vr(){cr.clear()}var mr=(_t(Jn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),_t(Jn,"bad-app-name","Illegal App name: '{$appName}"),_t(Jn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),_t(Jn,"app-deleted","Firebase App named '{$appName}' already deleted"),_t(Jn,"no-options","Need to provide options, when not being deployed to hosting via source."),_t(Jn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_t(Jn,"invalid-log-argument","First argument to `onLog` must be null or a function."),_t(Jn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),_t(Jn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),_t(Jn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),_t(Jn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Jn),gr=new Yt("app","Firebase",mr),yr=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xn("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}]),e}(),br="9.23.0";function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:or,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=jt()),!n)throw gr.create("no-options");var a=ur.get(i);if(a){if(an(n,a.options)&&an(r,a.config))return a;throw gr.create("duplicate-app",{appName:i})}var o,s=new In(i),u=I(cr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new yr(n,r,s);return ur.set(i,l),l}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=ur.get(e);if(!t&&e===or&&jt())return wr();if(!t)throw gr.create("no-app",{appName:e});return t}function _r(){return Array.from(ur.values())}function xr(e){return Cr.apply(this,arguments)}function Cr(){return Cr=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ur.has(n)){e.next=6;break}return ur.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Sr(e,t,n){var r,i=null!==(r=sr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ar.warn(s.join(" "))}hr(new xn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Er(e,t){if(null!==e&&"function"!==typeof e)throw gr.create("invalid-log-argument");!function(e,t){var n,r=I(An);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Nn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Tn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Tr(e){var t;t=e,An.forEach((function(e){e.setLogLevel(t)}))}var Ir="firebase-heartbeat-database",Ar=1,Nr="firebase-heartbeat-store",Pr=null;function Or(){return Pr||(Pr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Qn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Qn(s.result),e.oldVersion,e.newVersion,Qn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Ir,Ar,{upgrade:function(e,t){if(0===t)e.createObjectStore(Nr)}}).catch((function(e){throw gr.create("idb-open",{originalErrorMessage:e.message})}))),Pr}function Rr(e){return Dr.apply(this,arguments)}function Dr(){return Dr=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Or();case 3:return n=e.sent,e.next=6,n.transaction(Nr).objectStore(Nr).get(jr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Qt?ar.warn(e.t0.message):(i=gr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ar.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Dr.apply(this,arguments)}function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Or();case 3:return r=e.sent,i=r.transaction(Nr,"readwrite"),a=i.objectStore(Nr),e.next=8,a.put(n,jr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Qt?ar.warn(e.t0.message):(o=gr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ar.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Mr.apply(this,arguments)}function jr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fr=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new zr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=_n(wn().mark((function e(){var t,n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ur(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ur(),n=Br(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ot(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ur(){return(new Date).toISOString().substring(0,10)}function Br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=I(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vr,qr,zr=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(mi){t(mi)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wr(e){return Ot(JSON.stringify({version:2,heartbeats:e})).length}Vr="",hr(new xn("platform-logger",(function(e){return new nr(e)}),"PRIVATE")),hr(new xn("heartbeat",(function(e){return new Fr(e)}),"PRIVATE")),Sr(rr,ir,Vr),Sr(rr,ir,"esm2017"),Sr("fire-js","");var Hr=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,lr(t,new xn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){lr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){fr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Kr=(_t(qr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),_t(qr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qr),Gr=new Yt("app-compat","Firebase",Kr);var Qr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(en(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Sr,setLogLevel:Tr,onLog:Er,apps:null,SDK_VERSION:br,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(hr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Gr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Dt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!en(n,e=e||or))throw Gr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Hr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Dt(n,e)},createSubscribe:fn,ErrorFactory:Yt,deepExtend:Dt}),n}(),Yr=new Dn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Yr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $r=self.firebase.SDK_VERSION;$r&&$r.indexOf("LITE")>=0&&Yr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Jr=Qr;!function(e){Sr("@firebase/app-compat","0.2.13",e)}();Jr.registerVersion("firebase","9.23.0","app-compat");var Xr="@firebase/database",Zr="0.14.4",ei="";function ti(e){ei=e}var ni=function(){function e(t){p(this,e),this.domStorage_=t,this.prefix_="firebase:"}return y(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Jt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),ri=function(){function e(){p(this,e),this.cache_={},this.isInMemoryStorage=!0}return y(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return en(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),ii=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ni(t)}}catch(n){}return new ri},ai=ii("localStorage"),oi=ii("sessionStorage"),si=new Dn("@firebase/database"),ui=function(){var e=1;return function(){return e++}}(),ci=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Et(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ln;n.update(t);var r=n.digest();return At.encodeByteArray(r)},li=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Xt(r):r,t+=" "}return t},fi=null,hi=!0,di=function(e,t){Et(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(si.logLevel=Tn.VERBOSE,fi=si.log.bind(si),t&&oi.set("logging_enabled",!0)):"function"===typeof e?fi=e:(fi=null,oi.remove("logging_enabled"))},pi=function(){if(!0===hi&&(hi=!1,null===fi&&!0===oi.get("logging_enabled")&&di(!0)),fi){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=li.apply(null,t);fi(r)}},vi=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];pi.apply(void 0,[e].concat(n))}},mi=function(){var e="FIREBASE INTERNAL ERROR: "+li.apply(void 0,arguments);si.error(e)},gi=function(){var e="FIREBASE FATAL ERROR: ".concat(li.apply(void 0,arguments));throw si.error(e),new Error(e)},yi=function(){var e="FIREBASE WARNING: "+li.apply(void 0,arguments);si.warn(e)},bi=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},wi="[MIN_NAME]",ki="[MAX_NAME]",_i=function(e,t){if(e===t)return 0;if(e===wi||t===ki)return-1;if(t===wi||e===ki)return 1;var n=Ni(e),r=Ni(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},xi=function(e,t){return e===t?0:e<t?-1:1},Ci=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Xt(t))},Si=function e(t){if("object"!==typeof t||null===t)return Xt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Xt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Ei=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ti(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Ii=function(e){Et(!bi(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Ai=new RegExp("^-?(0*)\\d{1,10}$"),Ni=function(e){if(Ai.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Pi=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw yi("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Oi=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Ri=function(){function e(t,n){var r=this;p(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return y(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){yi('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Di=function(){function e(t,n,r){var i=this;p(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return y(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(pi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yi(e)}}]),e}(),Li=function(){function e(t){p(this,e),this.accessToken=t}return y(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Li.OWNER="owner";var Mi="5",ji=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fi="ac",Ui="websocket",Bi="long_polling",Vi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];p(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ai.get("host:"+t)||this._host}return y(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ai.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function qi(e,t,n){var r;if(Et("string"===typeof t,"typeof type must == string"),Et("object"===typeof n,"typeof params must == object"),t===Ui)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Bi)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Ti(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var zi=function(){function e(){p(this,e),this.counters_={}}return y(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Dt(void 0,this.counters_)}}]),e}(),Wi={},Hi={};function Ki(e){var t=e.toString();return Wi[t]||(Wi[t]=new zi),Wi[t]}var Gi=function(){function e(t){p(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return y(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Pi((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Qi="start",Yi=function(){function e(t,n,r,i,a,o,s){var u=this;p(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vi(t),this.stats_=Ki(n),this.urlFn=function(e){return u.appCheckToken&&(e[Fi]=u.appCheckToken),qi(n,Bi,e)}}return y(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Gi(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Kt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $i((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Qi)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Qi]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Mi,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Fi]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ji.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Pt(t),r=Ei(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Kt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Xt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Kt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),$i=function(){function e(t,n,r,i){if(p(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Kt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ui(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){pi("frame writing exception"),s.stack&&pi(s.stack),pi(s)}}}return y(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Kt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){pi("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pi("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Ji=null;"undefined"!==typeof MozWebSocket?Ji=MozWebSocket:"undefined"!==typeof WebSocket&&(Ji=WebSocket);var Xi=function(){function e(t,n,r,i,a,o,s){p(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vi(this.connId),this.stats_=Ki(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return y(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ai.set("previous_websocket_failure",!0);try{var r;if(Kt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Mi,"/").concat(ei,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/toVoice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Ji(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){ai.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Jt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Et(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Ei(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Mi,!Kt()&&"undefined"!==typeof location&&location.hostname&&ji.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Fi]=r),i&&(a.p=i),qi(e,Ui,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Ji&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return ai.isInMemoryStorage||!0===ai.get("previous_websocket_failure")}}]),e}();Xi.responsesRequiredToBeHealthy=2,Xi.healthyTimeout=3e4;var Zi=function(){function e(t){p(this,e),this.initTransports_(t)}return y(e,[{key:"initTransports_",value:function(t){var n=Xi&&Xi.isAvailable(),r=n&&!Xi.previouslyFailed();if(t.webSocketOnly&&(n||yi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xi];else{var i,a=this.transports_=[],o=I(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Yi,Xi]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Zi.globalTransportInitialized_=!1;var ea=function(){function e(t,n,r,i,a,o,s,u,c,l){p(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vi("c:"+this.id+":"),this.transportManager_=new Zi(n),this.log_("Connection created"),this.start_()}return y(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Oi((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Ci("t",e),n=Ci("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Ci("t",e),n=Ci("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Ci("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?mi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mi("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Mi!==n&&yi("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Oi((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oi((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),ta=function(){function e(){p(this,e)}return y(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),na=function(){function e(t){p(this,e),this.allowedEvents_=t,this.listeners_={},Et(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return y(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=d(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Et(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ra=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Vt()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return y(n,[{key:"getInitialEvent",value:function(e){return Et("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(na),ia=32,aa=768,oa=function(){function e(t,n){if(p(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return y(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function sa(){return new oa("")}function ua(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ca(e){return e.pieces_.length-e.pieceNum_}function la(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new oa(e.pieces_,t)}function fa(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function da(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new oa(t,0)}function pa(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof oa)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new oa(n,0)}function va(e){return e.pieceNum_>=e.pieces_.length}function ma(e,t){var n=ua(e),r=ua(t);if(null===n)return t;if(n===r)return ma(la(e),la(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ga(e,t){for(var n=ha(e,0),r=ha(t,0),i=0;i<n.length&&i<r.length;i++){var a=_i(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function ya(e,t){if(ca(e)!==ca(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ba(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ca(e)>ca(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var wa=y((function e(t,n){p(this,e),this.errorPrefix_=n,this.parts_=ha(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=yn(this.parts_[r]);ka(this)}));function ka(e){if(e.byteLength_>aa)throw new Error(e.errorPrefix_+"has a key path longer than "+aa+" bytes ("+e.byteLength_+").");if(e.parts_.length>ia)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ia+") or object contains a cycle "+_a(e))}function _a(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var xa=function(e){w(n,e);var t=C(n);function n(){var e,r,i;return p(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return y(n,[{key:"getInitialEvent",value:function(e){return Et("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(na),Ca=1e3,Sa=function(e){w(n,e);var t=C(n);function n(e,r,i,a,o,s,u,c){var l;if(p(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=vi("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Ca,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return xa.getInstance().on("visible",l.onVisible_,x(l)),-1===e.host.indexOf("fblocal")&&ra.getInstance().on("online",l.onOnline_,x(l)),l}return y(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Xt(i)),Et(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Ft,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Et(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Et(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Zt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Zt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Et(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Xt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):mi("Unrecognized action received from server: "+Xt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Et(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ca),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=_n(wn().mark((function e(){var t,r,i,a,o,s,u,c,l,h,d,p,v,m,g=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){Et(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=f(d,2),v=p[0],m=p[1],s?pi("getToken() completed but was canceled"):(pi("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new ea(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){yi(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&yi(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){pi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){pi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nn(this.interruptReasons_)&&(this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Si(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new oa(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){pi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){pi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=I(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=I(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Kt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ei.replace(/\./g,"-")]=1,Vt()?e["framework.cordova"]=1:Wt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ra.getInstance().currentlyOnline();return nn(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&en(e,"w")){var n=tn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();yi("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(ta);Sa.nextPersistentConnectionId_=0,Sa.nextConnectionId_=0;var Ea,Ta=function(){function e(t,n){p(this,e),this.name=t,this.node=n}return y(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ia=function(){function e(){p(this,e)}return y(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ta(wi,e),r=new Ta(wi,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ta.MIN}}]),e}(),Aa=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"compare",value:function(e,t){return _i(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Tt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ta.MIN}},{key:"maxPost",value:function(){return new Ta(ki,Ea)}},{key:"makePost",value:function(e,t){return Et("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ta(e,Ea)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ea},set:function(e){Ea=e}}]),n}(Ia),Na=new Aa,Pa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;p(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return y(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Oa=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:La.EMPTY_NODE,this.right=null!=a?a:La.EMPTY_NODE}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return La.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return La.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Oa.RED=!0,Oa.BLACK=!1;var Ra,Da=function(){function e(){p(this,e)}return y(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Oa(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),La=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;p(this,e),this.comparator_=t,this.root_=n}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oa.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oa.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Pa(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Pa(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Pa(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Pa(this.root_,null,this.comparator_,!0,e)}}]),e}();function Ma(e,t){return _i(e.name,t.name)}function ja(e,t){return _i(e,t)}La.EMPTY_NODE=new Da;var Fa,Ua,Ba,Va=function(e){return"number"===typeof e?"number:"+Ii(e):"string:"+e},qa=function(e){if(e.isLeafNode()){var t=e.val();Et("string"===typeof t||"number"===typeof t||"object"===typeof t&&en(t,".sv"),"Priority must be a string or number.")}else Et(e===Ra||e.isEmpty(),"priority of unexpected type.");Et(e===Ra||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},za=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;p(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Et(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),qa(this.priorityNode_)}return y(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return va(t)?this:".priority"===ua(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=ua(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Et(".priority"!==r||1===ca(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(la(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Va(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Ii(this.value_):this.value_,this.lazyHash_=ci(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Et(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Et(i>=0,"Unknown leaf type: "+n),Et(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Fa},set:function(e){Fa=e}}]),e}();za.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Wa,Ha,Ka=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?_i(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ta.MIN}},{key:"maxPost",value:function(){return new Ta(ki,new za("[PRIORITY-POST]",Ba))}},{key:"makePost",value:function(e,t){var n=Ua(e);return new Ta(t,new za("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ia),Ga=new Ka,Qa=Math.log(2),Ya=function(){function e(t){p(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Qa,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return y(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),$a=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Oa(o,a.node,Oa.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Oa(o,a.node,Oa.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new Oa(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Oa.BLACK):(s(f,Oa.BLACK),s(f,Oa.RED))}return a}(new Ya(e.length));return new La(r||t,a)},Ja={},Xa=function(){function e(t,n){p(this,e),this.indexes_=t,this.indexSet_=n}return y(e,[{key:"get",value:function(e){var t=tn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof La?t:null}},{key:"hasIndex",value:function(e){return en(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Et(t!==Na,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ta.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?$a(i,t.getCompare()):Ja;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(rn(this.indexes_,(function(e,i){var a=tn(r.indexSet_,i);if(Et(a,"Missing index implementation for "+i),e===Ja){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Ta.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),$a(o,a.getCompare())}return Ja}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ta(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(rn(this.indexes_,(function(e){if(e===Ja)return e;var r=n.get(t.name);return r?e.remove(new Ta(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Et(Ja&&Ga,"ChildrenNode.ts has not been loaded"),Wa=Wa||new e({".priority":Ja},{".priority":Ga})}}]),e}(),Za=function(){function e(t,n,r){p(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qa(this.priorityNode_),this.children_.isEmpty()&&Et(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return y(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Ha}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ha:t}},{key:"getChild",value:function(e){var t=ua(e);return null===t?this:this.getImmediateChild(t).getChild(la(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Et(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ta(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Ha:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=ua(e);if(null===n)return t;Et(".priority"!==ua(e)||1===ca(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(la(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Ga,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Va(this.getPriority().val())+":"),this.forEachChild(Ga,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ci(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ta(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ta(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ta(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ta.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ta.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eo?-1:0}},{key:"withIndex",value:function(t){if(t===Na||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Na||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ga),r=t.getIterator(Ga),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Na?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Ha||(Ha=new e(new La(ja),null,Xa.Default))}}]),e}();Za.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var eo=new(function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.call(this,new La(ja),Za.EMPTY_NODE,Xa.Default)}return y(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Za.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Za));Object.defineProperties(Ta,{MIN:{value:new Ta(wi,Za.EMPTY_NODE)},MAX:{value:new Ta(ki,eo)}}),Aa.__EMPTY_NODE=Za.EMPTY_NODE,za.__childrenNodeConstructor=Za,Ra=eo,function(e){Ba=e}(eo);var to=!0;function no(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Za.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Et(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new za(e,no(t));if(e instanceof Array||!to){var n=Za.EMPTY_NODE;return Ti(e,(function(t,r){if(en(e,t)&&"."!==t.substring(0,1)){var i=no(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(no(t))}var r=[],i=!1;if(Ti(e,(function(e,t){if("."!==e.substring(0,1)){var n=no(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ta(e,n)))}})),0===r.length)return Za.EMPTY_NODE;var a=$a(r,Ma,(function(e){return e.name}),ja);if(i){var o=$a(r,Ga.getCompare());return new Za(a,no(t),new Xa({".priority":o},{".priority":Ga}))}return new Za(a,no(t),Xa.Default)}!function(e){Ua=e}(no);var ro=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).indexPath_=e,Et(!va(e)&&".priority"!==ua(e),"Can't create PathIndex with empty path or .priority key"),r}return y(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?_i(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=no(e),r=Za.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ta(t,r)}},{key:"maxPost",value:function(){var e=Za.EMPTY_NODE.updateChild(this.indexPath_,eo);return new Ta(ki,e)}},{key:"toString",value:function(){return ha(this.indexPath_,0).join("/")}}]),n}(Ia),io=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?_i(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ta.MIN}},{key:"maxPost",value:function(){return Ta.MAX}},{key:"makePost",value:function(e,t){var n=no(e);return new Ta(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ia),ao=new io;function oo(e){return{type:"value",snapshotNode:e}}function so(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function uo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function co(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var lo=function(){function e(t){p(this,e),this.index_=t}return y(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Et(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(uo(t,o)):Et(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(so(t,n)):a.trackChildChange(co(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ga,(function(e,r){t.hasChild(e)||n.trackChildChange(uo(e,r))})),t.isLeafNode()||t.forEachChild(Ga,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(co(t,r,i))}else n.trackChildChange(so(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Za.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),fo=function(){function e(t){p(this,e),this.indexedFilter_=new lo(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return y(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ta(t,n))||(n=Za.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Za.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Za.EMPTY_NODE);var i=this;return t.forEachChild(Ga,(function(e,t){i.matches(new Ta(e,t))||(r=r.updateImmediateChild(e,Za.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),ho=function(){function e(t){var n=this;p(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new fo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return y(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ta(t,n))||(n=Za.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Za.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Za.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Za.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Za.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Et(s.numChildren()===this.limit_,"");var u=new Ta(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(co(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(uo(t,f));var p=s.updateImmediateChild(t,Za.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(so(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(uo(c.name,c.node)),i.trackChildChange(so(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Za.EMPTY_NODE)):e}}]),e}(),po=function(){function e(){p(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ga}return y(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Et(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Et(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wi}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Et(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Et(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ki}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Et(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Ga}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function vo(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mo(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function go(e,t){var n=e.copy();return n.index_=t,n}function yo(e){var t,n={};if(e.isDefault())return n;if(e.index_===Ga?t="$priority":e.index_===ao?t="$value":e.index_===Na?t="$key":(Et(e.index_ instanceof ro,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Xt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Xt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Xt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Xt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Xt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function bo(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ga&&(t.i=e.index_.toString()),t}var wo=function(e){w(n,e);var t=C(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=vi("p:rest:"),o.listens_={},o}return y(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=yo(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),tn(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=yo(e._queryParams),r=e._path.toString(),i=new Ft;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=f(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+sn(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Jt(c.responseText)}catch(n){yi("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&yi("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Et(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(ta),ko=function(){function e(){p(this,e),this.rootNode_=Za.EMPTY_NODE}return y(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function _o(){return{value:null,children:new Map}}function xo(e,t,n){if(va(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ua(t);e.children.has(r)||e.children.set(r,_o()),xo(e.children.get(r),t=la(t),n)}}function Co(e,t){if(va(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ga,(function(t,n){xo(e,new oa(t),n)})),Co(e,t)}if(e.children.size>0){var r=ua(t);if(t=la(t),e.children.has(r))Co(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function So(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){So(r,new oa(t.toString()+"/"+e),n)}))}var Eo,To=function(){function e(t){p(this,e),this.collection_=t,this.last_=null}return y(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ti(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Io=function(){function e(t,n){p(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new To(t);var r=1e4+2e4*Math.random();Oi(this.reportStats_.bind(this),Math.floor(r))}return y(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Ti(t,(function(t,i){i>0&&en(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Oi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ao(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Eo||(Eo={}));var No,Po=function(){function e(t,n,r){p(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Eo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return y(e,[{key:"operationForChild",value:function(t){if(va(this.path)){if(null!=this.affectedTree.value)return Et(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new oa(t));return new e(sa(),n,this.revert)}return Et(ua(this.path)===t,"operationForChild called for unrelated child."),new e(la(this.path),this.affectedTree,this.revert)}}]),e}(),Oo=function(){function e(t,n){p(this,e),this.source=t,this.path=n,this.type=Eo.LISTEN_COMPLETE}return y(e,[{key:"operationForChild",value:function(t){return va(this.path)?new e(this.source,sa()):new e(this.source,la(this.path))}}]),e}(),Ro=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.snap=r,this.type=Eo.OVERWRITE}return y(e,[{key:"operationForChild",value:function(t){return va(this.path)?new e(this.source,sa(),this.snap.getImmediateChild(t)):new e(this.source,la(this.path),this.snap)}}]),e}(),Do=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.children=r,this.type=Eo.MERGE}return y(e,[{key:"operationForChild",value:function(t){if(va(this.path)){var n=this.children.subtree(new oa(t));return n.isEmpty()?null:n.value?new Ro(this.source,sa(),n.value):new e(this.source,sa(),n)}return Et(ua(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,la(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Lo=function(){function e(t,n,r){p(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return y(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(va(e))return this.isFullyInitialized()&&!this.filtered_;var t=ua(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Mo=y((function e(t){p(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function jo(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Tt("Should only compare child_ events.");var r=new Ta(t.childName,t.snapshotNode),i=new Ta(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Fo(e,t){return{eventCache:e,serverCache:t}}function Uo(e,t,n,r){return Fo(new Lo(t,n,r),e.serverCache)}function Bo(e,t,n,r){return Fo(e.eventCache,new Lo(t,n,r))}function Vo(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function qo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var zo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(No||(No=new La(xi)),No);p(this,e),this.value=t,this.children=n}return y(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:sa(),value:this.value};if(va(e))return null;var n=ua(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(la(e),t);return null!=i?{path:pa(new oa(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(va(t))return this;var n=ua(t),r=this.children.get(n);return null!==r?r.subtree(la(t)):new e(null)}},{key:"set",value:function(t,n){if(va(t))return new e(n,this.children);var r=ua(t),i=(this.children.get(r)||new e(null)).set(la(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(va(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ua(t),r=this.children.get(n);if(r){var i,a=r.remove(la(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(va(e))return this.value;var t=ua(e),n=this.children.get(t);return n?n.get(la(e)):null}},{key:"setTree",value:function(t,n){if(va(t))return n;var r,i=ua(t),a=(this.children.get(i)||new e(null)).setTree(la(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(sa(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(pa(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,sa(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(va(e))return null;var i=ua(e),a=this.children.get(i);return a?a.findOnPath_(la(e),pa(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,sa(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(va(t))return this;this.value&&r(n,this.value);var i=ua(t),a=this.children.get(i);return a?a.foreachOnPath_(la(t),pa(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(sa(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(pa(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Ti(t,(function(e,t){n=n.set(new oa(e),t)})),n}}]),e}(),Wo=function(){function e(t){p(this,e),this.writeTree_=t}return y(e,null,[{key:"empty",value:function(){return new e(new zo(null))}}]),e}();function Ho(e,t,n){if(va(t))return new Wo(new zo(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ma(i,t);return a=a.updateChild(o,n),new Wo(e.writeTree_.set(i,a))}var s=new zo(n),u=e.writeTree_.setTree(t,s);return new Wo(u)}function Ko(e,t,n){var r=e;return Ti(n,(function(e,n){r=Ho(r,pa(t,e),n)})),r}function Go(e,t){if(va(t))return Wo.empty();var n=e.writeTree_.setTree(t,new zo(null));return new Wo(n)}function Qo(e,t){return null!=Yo(e,t)}function Yo(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ma(n.path,t)):null}function $o(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ga,(function(e,n){t.push(new Ta(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ta(e,n.value))})),t}function Jo(e,t){if(va(t))return e;var n=Yo(e,t);return new Wo(null!=n?new zo(n):e.writeTree_.subtree(t))}function Xo(e){return e.writeTree_.isEmpty()}function Zo(e,t){return es(sa(),e.writeTree_,t)}function es(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Et(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=es(pa(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(pa(e,".priority"),r)),n}function ts(e,t){return ps(t,e)}function ns(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Et(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&rs(s,r.path)?i=!1:ba(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=as(e.allWrites,is,sa()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Go(e.visibleWrites,r.path):Ti(r.children,(function(t){e.visibleWrites=Go(e.visibleWrites,pa(r.path,t))}));return!0}return!1}function rs(e,t){if(e.snap)return ba(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ba(pa(e.path,n),t))return!0;return!1}function is(e){return e.visible}function as(e,t,n){for(var r=Wo.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)ba(n,o)?r=Ho(r,s=ma(n,o),a.snap):ba(o,n)&&(s=ma(o,n),r=Ho(r,sa(),a.snap.getChild(s)));else{if(!a.children)throw Tt("WriteRecord should have .snap or .children");if(ba(n,o))r=Ko(r,s=ma(n,o),a.children);else if(ba(o,n))if(va(s=ma(o,n)))r=Ko(r,sa(),a.children);else{var u=tn(a.children,ua(s));if(u){var c=u.getChild(la(s));r=Ho(r,sa(),c)}}}}}return r}function os(e,t,n,r,i){if(r||i){var a=Jo(e.visibleWrites,t);if(!i&&Xo(a))return n;if(i||null!=n||Qo(a,sa())){return Zo(as(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ba(e.path,t)||ba(t,e.path))}),t),n||Za.EMPTY_NODE)}return null}var o=Yo(e.visibleWrites,t);if(null!=o)return o;var s=Jo(e.visibleWrites,t);return Xo(s)?n:null!=n||Qo(s,sa())?Zo(s,n||Za.EMPTY_NODE):null}function ss(e,t,n,r){return os(e.writeTree,e.treePath,t,n,r)}function us(e,t){return function(e,t,n){var r=Za.EMPTY_NODE,i=Yo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ga,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Jo(e.visibleWrites,t);return n.forEachChild(Ga,(function(e,t){var n=Zo(Jo(a,new oa(e)),t);r=r.updateImmediateChild(e,n)})),$o(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return $o(Jo(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function cs(e,t,n,r){return function(e,t,n,r,i){Et(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=pa(t,n);if(Qo(e.visibleWrites,a))return null;var o=Jo(e.visibleWrites,a);return Xo(o)?i.getChild(n):Zo(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ls(e,t){return function(e,t){return Yo(e.visibleWrites,t)}(e.writeTree,pa(e.treePath,t))}function fs(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Jo(e.visibleWrites,t),c=Yo(u,sa());if(null!=c)s=c;else{if(null==n)return[];s=Zo(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function hs(e,t,n){return function(e,t,n,r){var i=pa(t,n),a=Yo(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Zo(Jo(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ds(e,t){return ps(pa(e.treePath,t),e.writeTree)}function ps(e,t){return{treePath:e,writeTree:t}}var vs=function(){function e(){p(this,e),this.changeMap=new Map}return y(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Et("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Et(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,co(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,uo(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,so(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Tt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,co(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ms=new(function(){function e(){p(this,e)}return y(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),gs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return y(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Lo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hs(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qo(this.viewCache_),i=fs(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function ys(e,t,n,r,i){var a,o,s=new vs;if(n.type===Eo.OVERWRITE){var u=n;u.source.fromUser?a=ks(e,t,u.path,u.snap,r,i,s):(Et(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!va(u.path),a=ws(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Eo.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=pa(n,r);_s(t,ua(c))&&(s=ks(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=pa(n,r);_s(t,ua(c))||(s=ks(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Et(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Cs(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Eo.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=ls(r,n))return t;var s,u=new gs(r,t,i),c=t.eventCache.getNode();if(va(n)||".priority"===ua(n)){var l;if(t.serverCache.isFullyInitialized())l=ss(r,qo(t));else{var f=t.serverCache.getNode();Et(f instanceof Za,"serverChildren would be complete if leaf node"),l=us(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=ua(n),d=hs(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,la(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Za.EMPTY_NODE,la(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ss(r,qo(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=ls(r,sa()),Uo(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=ls(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(va(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ws(e,t,n,u.getNode().getChild(n),i,a,s,o);if(va(n)){var c=new zo(null);return u.getNode().forEachChild(Na,(function(e,t){c=c.set(new oa(e),t)})),Cs(e,t,n,c,i,a,s,o)}return t}var l=new zo(null);return r.foreach((function(e,t){var r=pa(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Cs(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Eo.LISTEN_COMPLETE)throw Tt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Bo(t,a.getNode(),a.isFullyInitialized()||va(n),a.isFiltered());return bs(e,o,n,r,ms,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Vo(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(oo(Vo(t)))}}(t,a,f),{viewCache:a,changes:f}}function bs(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=ls(r,n))return t;if(va(n))if(Et(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=qo(t),l=us(r,c instanceof Za?c:Za.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=ss(r,qo(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=ua(n);if(".priority"===h){Et(1===ca(n),"Can't have a priority with additional path components");var d=u.getNode(),p=cs(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=la(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=cs(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(m,g):u.getNode().getImmediateChild(h)}else v=hs(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return Uo(t,o,u.isFullyInitialized()||va(n),e.filter.filtersNodes())}function ws(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(va(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ua(n);if(!c.isCompleteForPath(n)&&ca(n)>1)return t;var d=la(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,ms,null)}var v=Bo(t,u,c.isFullyInitialized()||va(n),l.filtersNodes());return bs(e,v,n,i,new gs(i,v,a),s)}function ks(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new gs(i,t,a);if(va(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Uo(t,u,!0,e.filter.filtersNodes());else{var f=ua(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Uo(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=la(n),p=c.getNode().getImmediateChild(f);if(va(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===fa(d)&&v.getChild(da(d)).isEmpty()?v:v.updateChild(d,r):Za.EMPTY_NODE}if(p.equals(h))s=t;else s=Uo(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function _s(e,t){return e.eventCache.isCompleteForChild(t)}function xs(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Cs(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=va(n)?r:new zo(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=xs(0,t.serverCache.getNode().getImmediateChild(n),r);c=ws(e,c,new oa(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=xs(0,t.serverCache.getNode().getImmediateChild(n),r);c=ws(e,c,new oa(n),f,i,a,o,s)}})),c}var Ss,Es=function(){function e(t,n){p(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new lo(i.getIndex()),o=(r=i).loadsAllData()?new lo(r.getIndex()):r.hasLimit()?new ho(r):new fo(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Za.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Za.EMPTY_NODE,u.getNode(),null),f=new Lo(c,s.isFullyInitialized(),a.filtersNodes()),h=new Lo(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Fo(h,f),this.eventGenerator_=new Mo(this.query_)}return y(e,[{key:"query",get:function(){return this.query_}}]),e}();function Ts(e,t){var n=qo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!va(t)&&!n.getImmediateChild(ua(t)).isEmpty())?n.getChild(t):null}function Is(e){return 0===e.eventRegistrations_.length}function As(e,t,n){var r=[];if(n){Et(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ns(e,t,n,r){t.type===Eo.MERGE&&null!==t.source.queryId&&(Et(qo(e.viewCache_),"We should always have a full cache before handling merges"),Et(Vo(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=ys(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Et(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Et(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Et(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ps(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Ps(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),jo(e,i,"child_removed",t,r,n),jo(e,i,"child_added",t,r,n),jo(e,i,"child_moved",a,r,n),jo(e,i,"child_changed",t,r,n),jo(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Os,Rs=y((function e(){p(this,e),this.views=new Map}));function Ds(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Et(null!=a,"SyncTree gave us an op for an invalid query."),Ns(a,t,n,r)}var o,s=[],u=I(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(Ns(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Ls(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=ss(n,i?r:null),u=!1;s?u=!0:r instanceof Za?(s=us(n,r),u=!1):(s=Za.EMPTY_NODE,u=!1);var c=Fo(new Lo(s,u,!1),new Lo(r,i,!1));return new Es(t,c)}return o}function Ms(e,t,n,r,i,a){var o=Ls(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ga,(function(e,t){r.push(so(e,t))})),n.isFullyInitialized()&&r.push(oo(n.getNode())),Ps(e,r,n.getNode(),t)}(o,n)}function js(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=qs(e);if("default"===i){var u,c=I(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];o=o.concat(As(d,n,r)),Is(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(As(p,n,r)),Is(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!qs(e)&&a.push(new(Et(Ss,"Reference.ts has not been loaded"),Ss)(t._repo,t._path)),{removed:a,events:o}}function Fs(e){var t,n=[],r=I(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Us(e,t){var n,r=null,i=I(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Ts(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Bs(e,t){if(t._queryParams.loadsAllData())return zs(e);var n=t._queryIdentifier;return e.views.get(n)}function Vs(e,t){return null!=Bs(e,t)}function qs(e){return null!=zs(e)}function zs(e){var t,n=I(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Ws=1,Hs=y((function e(t){p(this,e),this.listenProvider_=t,this.syncPointTree_=new zo(null),this.pendingWriteTree_={visibleWrites:Wo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Ks(e,t,n,r,i){return function(e,t,n,r,i){Et(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ho(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?tu(e,new Ro({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Gs(e,t,n,r){!function(e,t,n,r){Et(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ko(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=zo.fromObject(n);return tu(e,new Do({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ns(e.pendingWriteTree_,t)){var i=new zo(null);return null!=r.snap?i=i.set(sa(),!0):Ti(r.children,(function(e){i=i.set(new oa(e),!0)})),tu(e,new Po(r.path,i,n))}return[]}function Ys(e,t,n){return tu(e,new Ro({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function $s(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Vs(o,t))){var u=js(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return qs(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&qs(t))return[zs(t)];var r=[];return t&&(r=Fs(t)),Ti(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],m=v.query,g=iu(e,v);e.listenProvider_.startListening(lu(m),au(e,m),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(lu(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(ou(t));e.listenProvider_.stopListening(lu(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ou(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function Js(e,t,n,r){var i=su(e,r);if(null!=i){var a=uu(i),o=a.path,s=a.queryId,u=ma(o,t);return cu(e,o,new Ro(Ao(s),u,n))}return[]}function Xs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=ma(e,i);a=a||Us(t,n),o=o||qs(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||qs(u),a=a||Us(u,sa())):(u=new Rs,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Za.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Us(t,sa());n&&(a=a.updateImmediateChild(e,n))})));var c=Vs(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=ou(t);Et(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=Ws++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=Ms(u,t,n,ts(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=Bs(u,t);h=h.concat(function(e,t,n){var r=t._path,i=au(e,t),a=iu(e,n),o=e.listenProvider_.startListening(lu(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Et(!qs(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!va(e)&&t&&qs(t))return[zs(t).query];var r=[];return t&&(r=r.concat(Fs(t).map((function(e){return e.query})))),Ti(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(lu(l),au(e,l))}return o}(e,t,d))}return h}function Zs(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Us(n,ma(e,t));if(r)return r}));return os(r,t,i,n,!0)}function eu(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ma(e,n);r=r||Us(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Us(i,sa()):(i=new Rs,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Lo(r,!0,!1):null;return function(e){return Vo(e.viewCache_)}(Ls(i,t,ts(e.pendingWriteTree_,t._path),a?o.getNode():Za.EMPTY_NODE,a))}function tu(e,t){return nu(t,e.syncPointTree_,null,ts(e.pendingWriteTree_,sa()))}function nu(e,t,n,r){if(va(e.path))return ru(e,t,n,r);var i=t.get(sa());null==n&&null!=i&&(n=Us(i,sa()));var a=[],o=ua(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=ds(r,o);a=a.concat(nu(s,u,c,l))}return i&&(a=a.concat(Ds(i,e,r,n))),a}function ru(e,t,n,r){var i=t.get(sa());null==n&&null!=i&&(n=Us(i,sa()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=ds(r,t),u=e.operationForChild(t);u&&(a=a.concat(ru(u,i,o,s)))})),i&&(a=a.concat(Ds(i,e,r,n))),a}function iu(e,t){var n=t.query,r=au(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Za.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=su(e,n);if(r){var i=uu(r),a=i.path,o=i.queryId,s=ma(a,t);return cu(e,a,new Oo(Ao(o),s))}return[]}(e,n._path,r):function(e,t){return tu(e,new Oo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return $s(e,n,null,i)}}}function au(e,t){var n=ou(t);return e.queryToTagMap.get(n)}function ou(e){return e._path.toString()+"$"+e._queryIdentifier}function su(e,t){return e.tagToQueryMap.get(t)}function uu(e){var t=e.indexOf("$");return Et(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oa(e.substr(0,t))}}function cu(e,t,n){var r=e.syncPointTree_.get(t);return Et(r,"Missing sync point for query tag that we're tracking"),Ds(r,n,ts(e.pendingWriteTree_,t),null)}function lu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Et(Os,"Reference.ts has not been loaded"),Os)(e._repo,e._path):e}var fu=function(){function e(t){p(this,e),this.node_=t}return y(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),hu=function(){function e(t,n){p(this,e),this.syncTree_=t,this.path_=n}return y(e,[{key:"getImmediateChild",value:function(t){var n=pa(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Zs(this.syncTree_,this.path_)}}]),e}(),du=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},pu=function(e,t,n){return e&&"object"===typeof e?(Et(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?vu(e[".sv"],t,n):"object"===typeof e[".sv"]?mu(e[".sv"],t):void Et(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vu=function(e,t,n){if("timestamp"===e)return n.timestamp;Et(!1,"Unexpected server value: "+e)},mu=function(e,t,n){e.hasOwnProperty("increment")||Et(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Et(!1,"Unexpected increment value: "+r);var i=t.node();if(Et(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},gu=function(e,t,n,r){return bu(t,new hu(n,e),r)},yu=function(e,t,n){return bu(e,new fu(t),n)};function bu(e,t,n){var r,i=e.getPriority().val(),a=pu(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=pu(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new za(s,no(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new za(a))),u.forEachChild(Ga,(function(e,i){var a=bu(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var wu=y((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};p(this,e),this.name=t,this.parent=n,this.node=r}));function ku(e,t){for(var n=t instanceof oa?t:new oa(t),r=e,i=ua(n);null!==i;){var a=tn(r.node.children,i)||{children:{},childCount:0};r=new wu(i,r,a),i=ua(n=la(n))}return r}function _u(e){return e.node.value}function xu(e,t){e.node.value=t,Iu(e)}function Cu(e){return e.node.childCount>0}function Su(e,t){Ti(e.node.children,(function(n,r){t(new wu(n,e,r))}))}function Eu(e,t,n,r){n&&!r&&t(e),Su(e,(function(e){Eu(e,t,!0,r)})),n&&r&&t(e)}function Tu(e){return new oa(null===e.parent?e.name:Tu(e.parent)+"/"+e.name)}function Iu(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===_u(e)&&!Cu(e)}(n),i=en(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Iu(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Iu(e))}(e.parent,e.name,e)}var Au=/[\[\].#$\/\u0000-\u001F\u007F]/,Nu=/[\[\].#$\u0000-\u001F\u007F]/,Pu=10485760,Ou=function(e){return"string"===typeof e&&0!==e.length&&!Au.test(e)},Ru=function(e){return"string"===typeof e&&0!==e.length&&!Nu.test(e)},Du=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!bi(e)||e&&"object"===typeof e&&en(e,".sv")},Lu=function(e,t,n,r){r&&void 0===t||Mu(vn(e,"value"),t,n)},Mu=function e(t,n,r){var i=r instanceof oa?new wa(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+_a(i));if("function"===typeof n)throw new Error(t+"contains a function "+_a(i)+" with contents = "+n.toString());if(bi(n))throw new Error(t+"contains "+n.toString()+" "+_a(i));if("string"===typeof n&&n.length>Pu/3&&yn(n)>Pu)throw new Error(t+"contains a string greater than "+Pu+" utf8 bytes "+_a(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Ti(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Ou(n)))throw new Error(t+" contains an invalid key ("+n+") "+_a(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=yn(t),ka(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=yn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+_a(i)+" in addition to actual children.")}},ju=function(e,t,n,r){if(!r||void 0!==t){var i=vn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];Ti(t,(function(e,t){var r=new oa(e);if(Mu(i,t,pa(n,r)),".priority"===fa(r)&&!Du(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ha(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Ou(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ga);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&ba(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Fu=function(e,t,n){if(!n||void 0!==t){if(bi(t))throw new Error(vn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Du(t))throw new Error(vn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Uu=function(e,t,n,r){if((!r||void 0!==n)&&!Ou(n))throw new Error(vn(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bu=function(e,t,n,r){if((!r||void 0!==n)&&!Ru(n))throw new Error(vn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vu=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bu(e,t,n,r)},qu=function(e,t){if(".info"===ua(t))throw new Error(e+" failed = Can't modify data under /.info/")},zu=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ou(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ru(e)}(n))throw new Error(vn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Wu=y((function e(){p(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Hu(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||ya(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ku(e,t,n){Hu(e,n),Qu(e,(function(e){return ya(e,t)}))}function Gu(e,t,n){Hu(e,n),Qu(e,(function(e){return ba(e,t)||ba(t,e)}))}function Qu(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Yu(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Yu(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();fi&&pi("event: "+n.toString()),Pi(r)}}}var $u="repo_interrupt",Ju=25,Xu=function(){function e(t,n,r,i){p(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_o(),this.transactionQueueTree_=new wu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return y(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Zu(e,t,n){if(e.stats_=Ki(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wo(e.repoInfo_,(function(t,n,r,i){nc(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return rc(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Sa(e.repoInfo_,t,(function(t,n,r,i){nc(e,t,n,r,i)}),(function(t){rc(e,t)}),(function(t){!function(e,t){Ti(t,(function(t,n){ic(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Hi[n]||(Hi[n]=t()),Hi[n]}(e.repoInfo_,(function(){return new Io(e.stats_,e.server_)})),e.infoData_=new ko,e.infoSyncTree_=new Hs({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Ys(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),ic(e,"connected",!1),e.serverSyncTree_=new Hs({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Gu(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ec(e){var t=e.infoData_.getNode(new oa(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function tc(e){return du({timestamp:ec(e)})}function nc(e,t,n,r,i){e.dataUpdateCount++;var a=new oa(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=rn(n,(function(e){return no(e)}));o=function(e,t,n,r){var i=su(e,r);if(i){var a=uu(i),o=a.path,s=a.queryId,u=ma(o,t),c=zo.fromObject(n);return cu(e,o,new Do(Ao(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=no(n);o=Js(e.serverSyncTree_,a,u,i)}else if(r){var c=rn(n,(function(e){return no(e)}));o=function(e,t,n){var r=zo.fromObject(n);return tu(e,new Do({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=no(n);o=Ys(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=vc(e,a)),Gu(e.eventQueue_,f,o)}function rc(e,t){ic(e,"connected",t),!1===t&&function(e){fc(e,"onDisconnectEvents");var t=tc(e),n=_o();So(e.onDisconnect_,sa(),(function(r,i){var a=gu(r,i,e.serverSyncTree_,t);xo(n,r,a)}));var r=[];So(n,sa(),(function(t,n){r=r.concat(Ys(e.serverSyncTree_,t,n));var i=wc(e,t);vc(e,i)})),e.onDisconnect_=_o(),Gu(e.eventQueue_,sa(),r)}(e)}function ic(e,t,n){var r=new oa("/.info/"+t),i=no(n);e.infoData_.updateSnapshot(r,i);var a=Ys(e.infoSyncTree_,r,i);Gu(e.eventQueue_,r,a)}function ac(e){return e.nextWriteId_++}function oc(e,t,n,r,i){fc(e,"set",{path:t.toString(),value:n,priority:r});var a=tc(e),o=no(n,r),s=Zs(e.serverSyncTree_,t),u=yu(o,s,a),c=ac(e),l=Ks(e.serverSyncTree_,t,u,c,!0);Hu(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||yi("set at "+t+" failed: "+n);var o=Qs(e.serverSyncTree_,c,!a);Gu(e.eventQueue_,t,o),hc(e,i,n,r)}));var f=wc(e,t);vc(e,f),Gu(e.eventQueue_,f,[])}function sc(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Co(e.onDisconnect_,t),hc(e,n,r,i)}))}function uc(e,t,n,r){var i=no(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&xo(e.onDisconnect_,t,i),hc(e,r,n,a)}))}function cc(e,t,n){var r;r=".info"===ua(t._path)?$s(e.infoSyncTree_,t,n):$s(e.serverSyncTree_,t,n),Ku(e.eventQueue_,t._path,r)}function lc(e){e.persistentConnection_&&e.persistentConnection_.interrupt($u)}function fc(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];pi.apply(void 0,[t].concat(r))}function hc(e,t,n,r){t&&Pi((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function dc(e,t,n){return Zs(e.serverSyncTree_,t,n)||Za.EMPTY_NODE}function pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||bc(e,t),_u(t)){var n=gc(e,t);Et(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=dc(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Et(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ma(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){fc(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Qs(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);bc(e,ku(e.transactionQueueTree_,t)),pc(e,e.transactionQueueTree_),Gu(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Pi(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{yi("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}vc(e,t)}}),o)}(e,Tu(t),n)}else Cu(t)&&Su(t,(function(t){pc(e,t)}))}function vc(e,t){var n=mc(e,t),r=Tu(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=ma(n,c.path),f=!1;if(Et(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(Qs(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Ju)f=!0,s="maxretry",i=i.concat(Qs(e.serverSyncTree_,c.currentWriteId,!0));else{var h=dc(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Mu("transaction failed: Data returned ",d,c.path);var p=no(d);"object"===typeof d&&null!=d&&en(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=tc(e),g=yu(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=ac(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Ks(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(Qs(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(Qs(e.serverSyncTree_,c.currentWriteId,!0))}Gu(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);bc(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Pi(r[c]);pc(e,e.transactionQueueTree_)}(e,gc(e,n),r),r}function mc(e,t){var n,r=e.transactionQueueTree_;for(n=ua(t);null!==n&&void 0===_u(r);)r=ku(r,n),n=ua(t=la(t));return r}function gc(e,t){var n=[];return yc(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function yc(e,t,n){var r=_u(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Su(t,(function(t){yc(e,t,n)}))}function bc(e,t){var n=_u(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xu(t,n.length>0?n:void 0)}Su(t,(function(t){bc(e,t)}))}function wc(e,t){var n=Tu(mc(e,t)),r=ku(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){kc(e,t)})),kc(e,r),Eu(r,(function(t){kc(e,t)})),n}function kc(e,t){var n=_u(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Et(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Et(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Qs(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?xu(t,void 0):n.length=a+1,Gu(e.eventQueue_,Tu(t),i);for(var s=0;s<r.length;s++)Pi(r[s])}}var _c=function(e,t){var n=xc(e),r=n.namespace;"firebase.com"===n.domain&&gi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Vi(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new oa(n.pathString)}},xc=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=I(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):yi("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Cc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sc=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Cc.charAt(n%64),n=Math.floor(n/64);Et(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Cc.charAt(t[r]);return Et(20===o.length,"nextPushId: Length should be 20."),o}}(),Ec=function(){function e(t,n,r,i){p(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return y(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())}}]),e}(),Tc=function(){function e(t,n,r){p(this,e),this.eventRegistration=t,this.error=n,this.path=r}return y(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Ic=function(){function e(t,n){p(this,e),this.snapshotCallback=t,this.cancelCallback=n}return y(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Et(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Ac=function(){function e(t,n){p(this,e),this._repo=t,this._path=n}return y(e,[{key:"cancel",value:function(){var e=new Ft;return sc(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){qu("OnDisconnect.remove",this._path);var e=new Ft;return uc(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){qu("OnDisconnect.set",this._path),Lu("OnDisconnect.set",e,this._path,!1);var t=new Ft;return uc(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){qu("OnDisconnect.setWithPriority",this._path),Lu("OnDisconnect.setWithPriority",e,this._path,!1),Fu("OnDisconnect.setWithPriority",t,!1);var n=new Ft;return function(e,t,n,r,i){var a=no(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&xo(e.onDisconnect_,t,a),hc(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){qu("OnDisconnect.update",this._path),ju("OnDisconnect.update",e,this._path,!1);var t=new Ft;return function(e,t,n,r){if(nn(n))return pi("onDisconnect().update() called with empty data.  Don't do anything."),void hc(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&Ti(n,(function(n,r){var i=no(r);xo(e.onDisconnect_,pa(t,n),i)})),hc(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Nc=function(){function e(t,n,r,i){p(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return y(e,[{key:"key",get:function(){return va(this._path)?null:fa(this._path)}},{key:"ref",get:function(){return new Dc(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=bo(this._queryParams),t=Si(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return bo(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=bn(t))instanceof e))return!1;var n=this._repo===t._repo,r=ya(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Pc(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Oc(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Na){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==wi)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==ki)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ga){if(null!=t&&!Du(t)||null!=n&&!Du(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Et(e.getIndex()instanceof ro||e.getIndex()===ao,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rc(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Dc=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,r,new po,!1)}return y(n,[{key:"parent",get:function(){var e=da(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Nc),Lc=function(){function e(t,n,r){p(this,e),this._node=t,this.ref=n,this._index=r}return y(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new oa(t),r=Fc(this.ref,t);return new e(this._node.getChild(n),r,Ga)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Fc(n.ref,r),Ga))}))}},{key:"hasChild",value:function(e){var t=new oa(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Mc(e,t){return(e=bn(e))._checkNotDeleted("ref"),void 0!==t?Fc(e._root,t):e._root}function jc(e,t){(e=bn(e))._checkNotDeleted("refFromURL");var n=_c(t,e._repo.repoInfo_.nodeAdmin);zu("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||gi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Mc(e,n.path.toString())}function Fc(e,t){return null===ua((e=bn(e))._path)?Vu("child","path",t,!1):Bu("child","path",t,!1),new Dc(e._repo,pa(e._path,t))}function Uc(e,t){e=bn(e),qu("set",e._path),Lu("set",t,e._path,!1);var n=new Ft;return oc(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Bc(e,t){ju("update",t,e._path,!1);var n=new Ft;return function(e,t,n,r){fc(e,"update",{path:t.toString(),value:n});var i=!0,a=tc(e),o={};if(Ti(n,(function(n,r){i=!1,o[n]=gu(pa(t,n),no(r),e.serverSyncTree_,a)})),i)pi("update() called with empty data.  Don't do anything."),hc(0,r,"ok",void 0);else{var s=ac(e),u=Gs(e.serverSyncTree_,t,o,s);Hu(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||yi("update at "+t+" failed: "+n);var o=Qs(e.serverSyncTree_,s,!a),u=o.length>0?vc(e,t):t;Gu(e.eventQueue_,u,o),hc(0,r,n,i)})),Ti(n,(function(n){var r=wc(e,pa(t,n));vc(e,r)})),Gu(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Vc(e){e=bn(e);var t=new Ic((function(){})),n=new qc(t);return function(e,t,n){var r=eu(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=no(r).withIndex(t._queryParams.getIndex());if(Xs(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Ys(e.serverSyncTree_,t._path,a);else{var o=au(e.serverSyncTree_,t);i=Js(e.serverSyncTree_,t._path,a,o)}return Gu(e.eventQueue_,t._path,i),$s(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return fc(e,"get for query "+Xt(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new Lc(t,new Dc(e._repo,e._path),e._queryParams.getIndex())}))}var qc=function(){function e(t){p(this,e),this.callbackContext=t}return y(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Ec("value",this,new Lc(e.snapshotNode,new Dc(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Tc(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),zc=function(){function e(t,n){p(this,e),this.eventType=t,this.callbackContext=n}return y(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Tc(this,e,t):null}},{key:"createEvent",value:function(e,t){Et(null!=e.childName,"Child events should have a childName.");var n=Fc(new Dc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ec(e.type,this,new Lc(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Wc(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){cc(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ic(n,a||void 0),c="value"===t?new qc(u):new zc(t,u);return function(e,t,n){var r;r=".info"===ua(t._path)?Xs(e.infoSyncTree_,t,n):Xs(e.serverSyncTree_,t,n),Ku(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return cc(e._repo,e,c)}}function Hc(e,t,n,r){return Wc(e,"value",t,n,r)}function Kc(e,t,n,r){return Wc(e,"child_added",t,n,r)}function Gc(e,t,n,r){return Wc(e,"child_changed",t,n,r)}function Qc(e,t,n,r){return Wc(e,"child_moved",t,n,r)}function Yc(e,t,n,r){return Wc(e,"child_removed",t,n,r)}function $c(e,t,n){var r=null,i=n?new Ic(n):null;"value"===t?r=new qc(i):t&&(r=new zc(t,i)),cc(e._repo,e,r)}var Jc=y((function e(){p(this,e)})),Xc=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._value=e,i._key=r,i}return y(n,[{key:"_apply",value:function(e){Lu("endAt",this._value,e._path,!0);var t=mo(e._queryParams,this._value,this._key);if(Rc(t),Oc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Jc);var Zc=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._value=e,i._key=r,i}return y(n,[{key:"_apply",value:function(e){Lu("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===Na||n?mo(e,t,n):mo(e,t,wi)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Rc(t),Oc(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Jc);var el=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._value=e,i._key=r,i}return y(n,[{key:"_apply",value:function(e){Lu("startAt",this._value,e._path,!0);var t=vo(e._queryParams,this._value,this._key);if(Rc(t),Oc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Jc);var tl=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._value=e,i._key=r,i}return y(n,[{key:"_apply",value:function(e){Lu("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===Na||n?vo(e,t,n):vo(e,t,ki)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Rc(t),Oc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Nc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Jc);var nl=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this))._limit=e,r}return y(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nc(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Jc);var rl=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this))._limit=e,r}return y(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nc(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Jc);var il=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this))._path=e,r}return y(n,[{key:"_apply",value:function(e){Pc(e,"orderByChild");var t=new oa(this._path);if(va(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ro(t),r=go(e._queryParams,n);return Oc(r),new Nc(e._repo,e._path,r,!0)}}]),n}(Jc);var al=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_apply",value:function(e){Pc(e,"orderByKey");var t=go(e._queryParams,Na);return Oc(t),new Nc(e._repo,e._path,t,!0)}}]),n}(Jc);var ol=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_apply",value:function(e){Pc(e,"orderByPriority");var t=go(e._queryParams,Ga);return Oc(t),new Nc(e._repo,e._path,t,!0)}}]),n}(Jc);var sl=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_apply",value:function(e){Pc(e,"orderByValue");var t=go(e._queryParams,ao);return Oc(t),new Nc(e._repo,e._path,t,!0)}}]),n}(Jc);var ul=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._value=e,i._key=r,i}return y(n,[{key:"_apply",value:function(e){if(Lu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Xc(this._value,this._key)._apply(new el(this._value,this._key)._apply(e))}}]),n}(Jc);function cl(e){for(var t=bn(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){Et(!Ss,"__referenceConstructor has already been defined"),Ss=e}(Dc),function(e){Et(!Os,"__referenceConstructor has already been defined"),Os=e}(Dc);var ll="FIREBASE_DATABASE_EMULATOR_HOST",fl={},hl=!1;function dl(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pi("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=_c(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/toVoice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[ll]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=_c(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Li(Li.OWNER):new Di(e.name,e.options,t);zu("Invalid Firebase Database URL",s),va(s.path)||gi("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=fl[t.name];i||(i={},fl[t.name]=i);var a=i[e.toURLString()];a&&gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Xu(e,hl,n,r),i[e.toURLString()]=a,a}(u,e,l,new Ri(e.name,n));return new pl(f,e)}var pl=function(){function e(t,n){p(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return y(e,[{key:"_repo",get:function(){return this._instanceStarted||(Zu(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Dc(this._repo,sa())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=fl[t];n&&n[e.key]===e||gi("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),lc(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&gi("Cannot call "+e+" on a deleted database.")}}]),e}();function vl(){Zi.IS_TRANSPORT_INITIALIZED&&yi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ml(){vl(),Yi.forceDisallow()}function gl(){vl(),Xi.forceDisallow(),Yi.forceAllow()}function yl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=bn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&gi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&gi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Li(Li.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Ut(r.mockUserToken,e.app.options.projectId);a=new Li(o)}!function(e,t,n,r){e.repoInfo_=new Vi("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function bl(e){var t;(e=bn(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume($u)}function wl(e,t){di(e,t)}var kl={".sv":"timestamp"};var _l=function(){function e(t,n){p(this,e),this.committed=t,this.snapshot=n}return y(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function xl(e,t,n){var r;if(e=bn(e),qu("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Ft,o=Hc(e,(function(){}));return function(e,t,n,r,i,a){fc(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:ui(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=dc(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Mu("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=ku(e.transactionQueueTree_,t),f=_u(l)||[];f.push(o),xu(l,f),"object"===typeof u&&null!==u&&en(u,".priority")?(c=tn(u,".priority"),Et(Du(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(Zs(e.serverSyncTree_,t)||Za.EMPTY_NODE).getPriority().val();var h=tc(e),d=no(u,c),p=yu(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=ac(e);var v=Ks(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Gu(e.eventQueue_,t,v),pc(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Lc(r,new Dc(e._repo,e._path),Ga),a.resolve(new _l(n,i)))}),o,i),a.promise}Sa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Sa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ti(br),hr(new xn("database",(function(e,t){var n=t.instanceIdentifier;return dl(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Sr(Xr,Zr,e),Sr(Xr,Zr,"esm2017")}();var Cl=new Dn("@firebase/database-compat"),Sl=function(e){var t="FIREBASE WARNING: "+e;Cl.warn(t)},El=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"cancel",value:function(e){pn("OnDisconnect.cancel",0,1,arguments.length),mn("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){pn("OnDisconnect.remove",0,1,arguments.length),mn("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){pn("OnDisconnect.set",1,2,arguments.length),mn("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){pn("OnDisconnect.setWithPriority",2,3,arguments.length),mn("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(pn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Sl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mn("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),Tl=function(){function e(t,n){p(this,e),this.committed=t,this.snapshot=n}return y(e,[{key:"toJSON",value:function(){return pn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),Il=function(){function e(t,n){p(this,e),this._database=t,this._delegate=n}return y(e,[{key:"val",value:function(){return pn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return pn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return pn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return pn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return pn("DataSnapshot.child",0,1,arguments.length),t=String(t),Bu("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return pn("DataSnapshot.hasChild",1,1,arguments.length),Bu("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return pn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return pn("DataSnapshot.forEach",1,1,arguments.length),mn("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return pn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return pn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return pn("DataSnapshot.ref",0,0,arguments.length),new Nl(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),Al=function(){function e(t,n){p(this,e),this.database=t,this._delegate=n}return y(e,[{key:"on",value:function(t,n,r,i){var a,o=this;pn("Query.on",2,4,arguments.length),mn("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new Il(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return Hc(this._delegate,u,c),n;case"child_added":return Kc(this._delegate,u,c),n;case"child_removed":return Yc(this._delegate,u,c),n;case"child_changed":return Gc(this._delegate,u,c),n;case"child_moved":return Qc(this._delegate,u,c),n;default:throw new Error(vn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(pn("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(vn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),mn("Query.off","callback",t,!0),gn("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,$c(this._delegate,e,r)}else $c(this._delegate,e)}},{key:"get",value:function(){var e=this;return Vc(this._delegate).then((function(t){return new Il(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;pn("Query.once",1,4,arguments.length),mn("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Ft,u=function(e,t){var r=new Il(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":Hc(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Kc(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Yc(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Gc(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Qc(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(vn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return pn("Query.limitToFirst",1,1,arguments.length),new e(this.database,cl(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new nl(e)}(t)))}},{key:"limitToLast",value:function(t){return pn("Query.limitToLast",1,1,arguments.length),new e(this.database,cl(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rl(e)}(t)))}},{key:"orderByChild",value:function(t){return pn("Query.orderByChild",1,1,arguments.length),new e(this.database,cl(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bu("orderByChild","path",e,!1),new il(e)}(t)))}},{key:"orderByKey",value:function(){return pn("Query.orderByKey",0,0,arguments.length),new e(this.database,cl(this._delegate,new al))}},{key:"orderByPriority",value:function(){return pn("Query.orderByPriority",0,0,arguments.length),new e(this.database,cl(this._delegate,new ol))}},{key:"orderByValue",value:function(){return pn("Query.orderByValue",0,0,arguments.length),new e(this.database,cl(this._delegate,new sl))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pn("Query.startAt",0,2,arguments.length),new e(this.database,cl(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Uu("startAt","key",t,!0),new el(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pn("Query.startAfter",0,2,arguments.length),new e(this.database,cl(this._delegate,function(e,t){return Uu("startAfter","key",t,!0),new tl(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pn("Query.endAt",0,2,arguments.length),new e(this.database,cl(this._delegate,function(e,t){return Uu("endAt","key",t,!0),new Xc(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pn("Query.endBefore",0,2,arguments.length),new e(this.database,cl(this._delegate,function(e,t){return Uu("endBefore","key",t,!0),new Zc(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return pn("Query.equalTo",1,2,arguments.length),new e(this.database,cl(this._delegate,function(e,t){return Uu("equalTo","key",t,!0),new ul(e,t)}(t,n)))}},{key:"toString",value:function(){return pn("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return pn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(pn("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new Nl(this.database,new Dc(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,mn(e,"cancel",r.cancel,!0),r.context=n,gn(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(vn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),Nl=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,new Nc(r._repo,r._path,new po,!1))).database=e,i._delegate=r,i}return y(n,[{key:"getKey",value:function(){return pn("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return pn("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Fc(this._delegate,e))}},{key:"getParent",value:function(){pn("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return pn("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){pn("Reference.set",1,2,arguments.length),mn("Reference.set","onComplete",t,!0);var n=Uc(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(pn("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Sl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qu("Reference.update",this._delegate._path),mn("Reference.update","onComplete",t,!0);var i=Bc(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){pn("Reference.setWithPriority",2,3,arguments.length),mn("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(qu("setWithPriority",e._path),Lu("setWithPriority",t,e._path,!1),Fu("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Ft;return oc(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){pn("Reference.remove",0,1,arguments.length),mn("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,qu("remove",t._path),Uc(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;pn("Reference.transaction",1,3,arguments.length),mn("Reference.transaction","transactionUpdate",e,!1),mn("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(vn(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=xl(this._delegate,e,{applyLocally:n}).then((function(e){return new Tl(e.committed,new Il(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){pn("Reference.setPriority",1,2,arguments.length),mn("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=bn(e),qu("setPriority",e._path),Fu("setPriority",t,!1);var n=new Ft;return oc(e._repo,pa(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;pn("Reference.push",0,2,arguments.length),mn("Reference.push","onComplete",t,!0);var i=function(e,t){e=bn(e),qu("push",e._path),Lu("push",t,e._path,!0);var n,r=ec(e._repo),i=Sc(r),a=Fc(e,i),o=Fc(e,i);return n=null!=t?Uc(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return qu("Reference.onDisconnect",this._delegate._path),new El(new Ac(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(Al),Pl=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:ml,forceLongPolling:gl}}return y(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yl(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(pn("database.ref",0,1,arguments.length),e instanceof Nl){var t=jc(this._delegate,e.toString());return new Nl(this,t)}var n=Mc(this._delegate,e);return new Nl(this,n)}},{key:"refFromURL",value:function(e){pn("database.refFromURL",1,1,arguments.length);var t=jc(this._delegate,e);return new Nl(this,t)}},{key:"goOffline",value:function(){return pn("database.goOffline",0,0,arguments.length),function(e){(e=bn(e))._checkNotDeleted("goOffline"),lc(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return pn("database.goOnline",0,0,arguments.length),bl(this._delegate)}}]),e}();Pl.ServerValue={TIMESTAMP:kl,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var Ol,Rl=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;ti(r);var u=new Sn("auth-internal",new In("database-standalone"));return u.setComponent(new xn("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Pl(dl(t,u,void 0,n,s),t),namespace:a}}}),Dl=Pl.ServerValue;(Ol=Jr).INTERNAL.registerComponent(new xn("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Pl(i,r)}),"PUBLIC").setServiceProps({Reference:Nl,Query:Al,Database:Pl,DataSnapshot:Il,enableLogging:wl,INTERNAL:Rl,ServerValue:Dl}).setMultipleInstances(!0)),Ol.registerVersion("@firebase/database-compat","0.3.4");var Ll,Ml="firebasestorage.googleapis.com",jl="storageBucket",Fl=function(e){w(n,e);var t=C(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,n),(i=t.call(this,Ul(e),"Firebase Storage: ".concat(r," (").concat(Ul(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(x(i),n.prototype),i}return y(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Ul(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Qt);function Ul(e){return"storage/"+e}function Bl(){return new Fl(Ll.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Vl(){return new Fl(Ll.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ql(){return new Fl(Ll.CANCELED,"User canceled the upload/download.")}function zl(){return new Fl(Ll.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wl(e){return new Fl(Ll.INVALID_ARGUMENT,e)}function Hl(){return new Fl(Ll.APP_DELETED,"The Firebase app was deleted.")}function Kl(e){return new Fl(Ll.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gl(e,t){return new Fl(Ll.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ql(e){throw new Fl(Ll.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ll||(Ll={}));var Yl,$l=function(){function e(t,n){p(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new Fl(Ll.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Ml?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Fl(Ll.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Jl=function(){function e(t){p(this,e),this.promise_=Promise.reject(t)}return y(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Xl(e){return"string"===typeof e||e instanceof String}function Zl(e){return ef()&&e instanceof Blob}function ef(){return"undefined"!==typeof Blob&&!qt()}function tf(e,t,n,r){if(r<t)throw Wl("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Wl("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function nf(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function rf(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function af(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Yl||(Yl={}));var of=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];p(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return y(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Bl();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Hl():ql());else i(Vl())}};this.canceled_?t(0,new sf(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new sf(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Yl.NO_ERROR,a=r.getStatus();if(!n||af(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Yl.ABORT;t(!1,new sf(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new sf(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),sf=y((function e(t,n,r){p(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function uf(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cf(){for(var e=uf(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ef())return new Blob(n);throw new Fl(Ll.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function lf(e){if("undefined"===typeof atob)throw t="base-64",new Fl(Ll.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var ff={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hf=y((function e(t,n){p(this,e),this.data=t,this.contentType=n||null}));function df(e,t){switch(e){case ff.RAW:return new hf(pf(t));case ff.BASE64:case ff.BASE64URL:return new hf(vf(e,t));case ff.DATA_URL:return new hf(function(e){var t=new mf(e);return t.base64?vf(ff.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Gl(ff.DATA_URL,"Malformed data URL.")}return pf(t)}(t.rest)}(t),new mf(t).contentType)}throw Bl()}function pf(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vf(e,t){switch(e){case ff.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Gl(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ff.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Gl(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=lf(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Gl(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var mf=y((function e(t){p(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Gl(ff.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var gf=function(){function e(t,n){p(this,e);var r=0,i="";Zl(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return y(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Zl(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ef()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(cf.apply(null,i))}var a=n.map((function(e){return Xl(e)?df(ff.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function yf(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function bf(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function wf(e,t){return t}var kf=y((function e(t,n,r,i){p(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||wf})),_f=null;function xf(){if(_f)return _f;var e=[];e.push(new kf("bucket")),e.push(new kf("generation")),e.push(new kf("metageneration")),e.push(new kf("name","fullPath",!0));var t=new kf("name");t.xform=function(e,t){return function(e){return!Xl(e)||e.length<2?e:bf(e)}(t)},e.push(t);var n=new kf("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new kf("timeCreated")),e.push(new kf("updated")),e.push(new kf("md5Hash",null,!0)),e.push(new kf("cacheControl",null,!0)),e.push(new kf("contentDisposition",null,!0)),e.push(new kf("contentEncoding",null,!0)),e.push(new kf("contentLanguage",null,!0)),e.push(new kf("contentType",null,!0)),e.push(new kf("metadata","customMetadata",!0)),_f=e}function Cf(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new $l(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Sf(e,t,n){var r=yf(t);return null===r?null:Cf(e,r,n)}function Ef(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Tf="prefixes",If="items";function Af(e,t,n){var r=yf(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Tf]){var i,a=I(n[Tf]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new $l(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n[If]){var u,c=I(n[If]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new $l(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var Nf=y((function e(t,n,r,i){p(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Pf(e){if(!e)throw Bl()}function Of(e,t){return function(n,r){var i=Sf(e,r,t);return Pf(null!==i),i}}function Rf(e,t){return function(n,r){var i=Sf(e,r,t);return Pf(null!==i),function(e,t,n,r){var i=yf(t);if(null===i)return null;if(!Xl(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return nf("/b/"+o(i)+"/o/"+o(a),n,r)+rf({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Df(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Fl(Ll.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Fl(Ll.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Fl(Ll.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Fl(Ll.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Lf(e){var t=Df(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Fl(Ll.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Mf(e,t,n){var r=nf(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Nf(r,"GET",Of(e,n),i);return a.errorHandler=Lf(t),a}function jf(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=nf(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new Nf(o,"GET",function(e,t){return function(n,r){var i=Af(e,t,r);return Pf(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=Df(t),u}function Ff(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Uf(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Ff(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ef(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=gf.getBlob(c,r,l);if(null===f)throw zl();var h={name:u.fullPath},d=nf(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Nf(d,"POST",Of(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Df(t),v}var Bf=y((function e(t,n,r,i){p(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Vf(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Pf(!1)}return Pf(!!n&&-1!==(t||["active"]).indexOf(n)),n}var qf=262144;function zf(e,t,n,r,i,a,o,s){var u=new Bf(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Fl(Ll.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw zl();var v=t.maxUploadRetryTime,m=new Nf(n,"POST",(function(e,n){var i,o=Vf(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?Of(t,a)(e,n):null,new Bf(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Df(e),m}var Wf={STATE_CHANGED:"state_changed"},Hf={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kf(e){switch(e){case"running":case"pausing":case"canceling":return Hf.RUNNING;case"paused":return Hf.PAUSED;case"success":return Hf.SUCCESS;case"canceled":return Hf.CANCELED;default:return Hf.ERROR}}var Gf=y((function e(t,n,r){p(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Qf(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Yf=null,$f=function(){function e(){var t=this;p(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yl.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Yl.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Yl.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return y(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Jf=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}($f);function Xf(){return Yf?Yf():new Jf}var Zf=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=xf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(Ll.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(af(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Vl()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(Ll.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return y(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=f(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Ff(t,r,i),s={name:o.fullPath},u=nf(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ef(o,n),f=e.maxUploadRetryTime,h=new Nf(u,"POST",(function(e){var t;Vf(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Pf(!1)}return Pf(Xl(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Df(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Xf,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Nf(n,"POST",(function(e){var t=Vf(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Pf(!1)}n||Pf(!1);var i=Number(n);return Pf(!isNaN(i)),new Bf(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Df(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Xf,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=qf*this._chunkMultiplier,n=new Bf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=zf(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Xf,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(qf*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Mf(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Xf,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Uf(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Xf,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ql(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Kf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Gf(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Kf(this._state)){case Hf.SUCCESS:Qf(this._resolve.bind(null,this.snapshot))();break;case Hf.CANCELED:case Hf.ERROR:Qf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Kf(this._state)){case Hf.RUNNING:case Hf.PAUSED:e.next&&Qf(e.next.bind(e,this.snapshot))();break;case Hf.SUCCESS:e.complete&&Qf(e.complete.bind(e))();break;default:e.error&&Qf(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),eh=function(){function e(t,n){p(this,e),this._service=t,this._location=n instanceof $l?n:$l.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new $l(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return bf(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new $l(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Kl(e)}}]),e}();function th(e,t,n){return nh.apply(this,arguments)}function nh(){return(nh=_n(wn().mark((function e(t,n,r){var i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,rh(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,d(s.prefixes)),(a=n.items).push.apply(a,d(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,th(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(e,t){null!=t&&"number"===typeof t.maxResults&&tf("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=jf(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Xf)}function ih(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=nf(t.fullServerUrl(),e.host,e._protocol),a=Ef(n,r),o=e.maxOperationRetryTime,s=new Nf(i,"PATCH",Of(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=Lf(t),s}(e.storage,e._location,t,xf());return e.storage.makeRequestWithTokens(n,Xf)}function ah(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=nf(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Nf(r,"GET",Rf(e,n),i);return a.errorHandler=Lf(t),a}(e.storage,e._location,xf());return e.storage.makeRequestWithTokens(t,Xf).then((function(e){if(null===e)throw new Fl(Ll.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function oh(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=nf(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Nf(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Lf(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Xf)}function sh(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new $l(e._location.bucket,n);return new eh(e.storage,r)}function uh(e,t){if(e instanceof fh){var n=e;if(null==n._bucket)throw new Fl(Ll.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jl+"' property when initializing the app?");var r=new eh(n,n._bucket);return null!=t?uh(r,t):r}return void 0!==t?sh(e,t):e}function ch(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof fh)return new eh(e,t);throw Wl("To use ref(service, url), the first argument must be a Storage instance.")}return uh(e,t)}function lh(e,t){var n=null===t||void 0===t?void 0:t[jl];return null==n?null:$l.makeFromBucketSpec(n,e)}var fh=function(){function e(t,n,r,i,a){p(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Ml,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?$l.makeFromBucketSpec(i,this._host):lh(this._host,this.app.options)}return y(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=$l.makeFromBucketSpec(this._url,e):this._bucket=lh(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){tf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){tf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new eh(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Jl(Hl());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=rf(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new of(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=f(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),hh="@firebase/storage",dh="0.11.2",ph="storage";function vh(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Zf(e,new gf(t),n)}(e=bn(e),t,n)}function mh(e){return function(e){e._throwIfRoot("getMetadata");var t=Mf(e.storage,e._location,xf());return e.storage.makeRequestWithTokens(t,Xf)}(e=bn(e))}function gh(e){return function(e){var t={prefixes:[],items:[]};return th(e,t).then((function(){return t}))}(e=bn(e))}function yh(e,t){return ch(e=bn(e),t)}function bh(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ut(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function wh(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new fh(r,i,a,n,br)}hr(new xn(ph,wh,"PUBLIC").setMultipleInstances(!0)),Sr(hh,dh,""),Sr(hh,dh,"esm2017");var kh=function(){function e(t,n,r){p(this,e),this._delegate=t,this.task=n,this.ref=r}return y(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),_h=function(){function e(t,n){p(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return y(e,[{key:"snapshot",get:function(){return new kh(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new kh(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new kh(e,i,i._ref))}:{next:t.next?function(e){return t.next(new kh(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),xh=function(){function e(t,n){p(this,e),this._delegate=t,this._service=n}return y(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Ch(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Ch(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Ch=function(){function e(t,n){p(this,e),this._delegate=t,this.storage=n}return y(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return sh(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new _h(vh(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ff.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=df(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new _h(new Zf(this._delegate,new gf(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return gh(this._delegate).then((function(t){return new xh(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return rh(e=bn(e),t)}(this._delegate,e||void 0).then((function(e){return new xh(e,t.storage)}))}},{key:"getMetadata",value:function(){return mh(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return ih(e=bn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return ah(bn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),oh(bn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Kl(e)}}]),e}(),Sh=function(){function e(t,n){p(this,e),this.app=t,this._delegate=n}return y(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Eh(e))throw Wl("ref() expected a child path but got a URL, use refFromURL instead.");return new Ch(yh(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Eh(e))throw Wl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$l.makeFromUrl(e,this._delegate.host)}catch(t){throw Wl("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ch(yh(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};bh(this._delegate,e,t,n)}}]),e}();function Eh(e){return/^[A-Za-z]+:\/\//.test(e)}function Th(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Sh(r,i)}function Ih(){return Ih="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ih.apply(this,arguments)}!function(e){var t={TaskState:Hf,TaskEvent:Wf,StringFormat:ff,Storage:Sh,Reference:Ch};e.INTERNAL.registerComponent(new xn("storage-compat",Th,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Jr);function Ah(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Nh,Ph={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Oh="EMAIL_SIGNIN",Rh="PASSWORD_RESET",Dh="RECOVER_EMAIL",Lh="REVERT_SECOND_FACTOR_ADDITION",Mh="VERIFY_AND_CHANGE_EMAIL",jh="VERIFY_EMAIL";function Fh(){return _t({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Uh=function(){var e;return _t(e={},"admin-restricted-operation","This operation is restricted to administrators only."),_t(e,"argument-error",""),_t(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),_t(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),_t(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),_t(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),_t(e,"cordova-not-ready","Cordova framework is not ready."),_t(e,"cors-unsupported","This browser is not supported."),_t(e,"credential-already-in-use","This credential is already associated with a different user account."),_t(e,"custom-token-mismatch","The custom token corresponds to a different audience."),_t(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),_t(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),_t(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),_t(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),_t(e,"email-already-in-use","The email address is already in use by another account."),_t(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),_t(e,"expired-action-code","The action code has expired."),_t(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),_t(e,"internal-error","An internal AuthError has occurred."),_t(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),_t(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),_t(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),_t(e,"invalid-auth-event","An internal AuthError has occurred."),_t(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),_t(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),_t(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),_t(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),_t(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),_t(e,"invalid-email","The email address is badly formatted."),_t(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),_t(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),_t(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),_t(e,"invalid-credential","The supplied auth credential is malformed or has expired."),_t(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),_t(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),_t(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),_t(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),_t(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),_t(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),_t(e,"wrong-password","The password is invalid or the user does not have a password."),_t(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),_t(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),_t(e,"invalid-provider-id","The specified provider ID is invalid."),_t(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),_t(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),_t(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),_t(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),_t(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),_t(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),_t(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),_t(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),_t(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),_t(e,"missing-continue-uri","A continue URL must be provided in the request."),_t(e,"missing-iframe-start","An internal AuthError has occurred."),_t(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),_t(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),_t(e,"missing-password","A non-empty password must be provided"),_t(e,"missing-multi-factor-info","No second factor identifier is provided."),_t(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),_t(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),_t(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),_t(e,"app-deleted","This instance of FirebaseApp has been deleted."),_t(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),_t(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),_t(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),_t(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),_t(e,"no-auth-event","An internal AuthError has occurred."),_t(e,"no-such-provider","User was not linked to an account with the given provider."),_t(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),_t(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),_t(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),_t(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),_t(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),_t(e,"provider-already-linked","User can only be linked to one identity for the given provider."),_t(e,"quota-exceeded","The project's quota for this operation has been exceeded."),_t(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),_t(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),_t(e,"rejected-credential","The request contains malformed or mismatching credentials."),_t(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),_t(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),_t(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),_t(e,"timeout","The operation has timed out."),_t(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),_t(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),_t(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),_t(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),_t(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),_t(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),_t(e,"unverified-email","The operation requires a verified email."),_t(e,"user-cancelled","The user did not grant your application the permissions it requested."),_t(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),_t(e,"user-disabled","The user account has been disabled by an administrator."),_t(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),_t(e,"user-signed-out",""),_t(e,"weak-password","The password must be 6 characters long or more."),_t(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),_t(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),_t(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),_t(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),_t(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),_t(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),_t(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),_t(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),_t(e,"invalid-req-type","Invalid request parameters."),_t(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Bh=Fh,Vh=new Yt("auth","Firebase",Fh()),qh=new Dn("@firebase/auth");function zh(e){if(qh.logLevel<=Tn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qh.warn.apply(qh,["Auth (".concat(br,"): ").concat(e)].concat(n))}}function Wh(e){if(qh.logLevel<=Tn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qh.error.apply(qh,["Auth (".concat(br,"): ").concat(e)].concat(n))}}function Hh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yh.apply(void 0,[e].concat(n))}function Kh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yh.apply(void 0,[e].concat(n))}function Gh(e,t,n){var r=Object.assign(Object.assign({},Bh()),_t({},t,n));return new Yt("auth","Firebase",r).create(t,{appName:e.name})}function Qh(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Hh(e,"argument-error"),Gh(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Yh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return Vh.create.apply(Vh,[e].concat(n))}function $h(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yh.apply(void 0,[t].concat(r))}}function Jh(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Wh(t),new Error(t)}function Xh(e,t){e||Jh(t)}function Zh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ed(){return"http:"===td()||"https:"===td()}function td(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var nd=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Xh(n>t,"Short delay should be less than long delay!"),this.isMobile=Vt()||Wt()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ed()||zt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function rd(e,t){Xh(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var id=function(){function e(){p(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Jh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Jh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Jh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ad=(_t(Nh={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),_t(Nh,"MISSING_CUSTOM_TOKEN","internal-error"),_t(Nh,"INVALID_IDENTIFIER","invalid-email"),_t(Nh,"MISSING_CONTINUE_URI","internal-error"),_t(Nh,"INVALID_PASSWORD","wrong-password"),_t(Nh,"MISSING_PASSWORD","missing-password"),_t(Nh,"EMAIL_EXISTS","email-already-in-use"),_t(Nh,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),_t(Nh,"INVALID_IDP_RESPONSE","invalid-credential"),_t(Nh,"INVALID_PENDING_TOKEN","invalid-credential"),_t(Nh,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),_t(Nh,"MISSING_REQ_TYPE","internal-error"),_t(Nh,"EMAIL_NOT_FOUND","user-not-found"),_t(Nh,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),_t(Nh,"EXPIRED_OOB_CODE","expired-action-code"),_t(Nh,"INVALID_OOB_CODE","invalid-action-code"),_t(Nh,"MISSING_OOB_CODE","internal-error"),_t(Nh,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),_t(Nh,"INVALID_ID_TOKEN","invalid-user-token"),_t(Nh,"TOKEN_EXPIRED","user-token-expired"),_t(Nh,"USER_NOT_FOUND","user-token-expired"),_t(Nh,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),_t(Nh,"INVALID_CODE","invalid-verification-code"),_t(Nh,"INVALID_SESSION_INFO","invalid-verification-id"),_t(Nh,"INVALID_TEMPORARY_PROOF","invalid-credential"),_t(Nh,"MISSING_SESSION_INFO","missing-verification-id"),_t(Nh,"SESSION_EXPIRED","code-expired"),_t(Nh,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),_t(Nh,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),_t(Nh,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),_t(Nh,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),_t(Nh,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),_t(Nh,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),_t(Nh,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),_t(Nh,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),_t(Nh,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),_t(Nh,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),_t(Nh,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),_t(Nh,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),_t(Nh,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),_t(Nh,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),_t(Nh,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),_t(Nh,"MISSING_CLIENT_TYPE","missing-client-type"),_t(Nh,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),_t(Nh,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),_t(Nh,"INVALID_REQ_TYPE","invalid-req-type"),Nh),od=new nd(3e4,6e4);function sd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ud(e,t,n,r){return cd.apply(this,arguments)}function cd(){return cd=_n(wn().mark((function e(t,n,r,i){var a,o=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ld(t,a,_n(wn().mark((function e(){var a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=sn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",id.fetch()(pd(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t,n){return fd.apply(this,arguments)}function fd(){return fd=_n(wn().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ad),n),e.prev=2,a=new vd(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw md(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw md(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw md(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw md(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Gh(t,p,d);case 34:Hh(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Qt)){e.next=41;break}throw e.t0;case 41:Hh(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),fd.apply(this,arguments)}function hd(e,t,n,r){return dd.apply(this,arguments)}function dd(){return dd=_n(wn().mark((function e(t,n,r,i){var a,o,s=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ud(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Hh(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?rd(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vd=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Kh(n.auth,"network-request-failed"))}),od.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function md(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Kh(e,t,r);return i.customData._tokenResponse=n,i}function gd(e,t){return yd.apply(this,arguments)}function yd(){return yd=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function kd(e,t){return _d.apply(this,arguments)}function _d(){return _d=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function xd(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Cd(){return Cd=_n(wn().mark((function e(t){var n,r,i,a,o,s,u=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=bn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,$h((a=Ed(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:xd(Sd(a.auth_time)),issuedAtTime:xd(Sd(a.iat)),expirationTime:xd(Sd(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Sd(e){return 1e3*Number(e)}function Ed(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{var a=Rt(r);return a?JSON.parse(a):(Wh("Failed to decode base64 JWT payload"),null)}catch(o){return Wh("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Td(e,t){return Id.apply(this,arguments)}function Id(){return Id=_n(wn().mark((function e(t,n){var r=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Qt&&Ad(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Id.apply(this,arguments)}function Ad(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Nd=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Pd=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Od(e){return Rd.apply(this,arguments)}function Rd(){return Rd=_n(wn().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Td(t,kd(r,{idToken:i}));case 6:$h(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Ah(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Ld(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pd(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Dd(){return(Dd=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bn(t),e.next=3,Od(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Md(e,t){return jd.apply(this,arguments)}function jd(){return jd=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ld(t,{},_n(wn().mark((function e(){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=pd(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",id.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}var Fd=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){$h(e.idToken,"internal-error"),$h("undefined"!==typeof e.idToken,"internal-error"),$h("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ed(e);return $h(t,"internal-error"),$h("undefined"!==typeof t.exp,"internal-error"),$h("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=_n(wn().mark((function e(t){var n,r=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],$h(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Md(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Jh("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&($h("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&($h("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&($h("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ud(e,t){$h("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Bd=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ah(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new Pd(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Td(this,this.stsTokenManager.getToken(this.auth,t));case 2:if($h(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Cd.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Dd.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&($h(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){$h(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=_n(wn().mark((function e(t){var n,r,i=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Od(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Td(this,gd(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,w=n.emailVerified,k=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;$h(b&&x,t,"internal-error");var C=Fd.fromJSON(this.name,x);$h("string"===typeof b,t,"internal-error"),Ud(f,t.name),Ud(h,t.name),$h("boolean"===typeof w,t,"internal-error"),$h("boolean"===typeof k,t,"internal-error"),Ud(d,t.name),Ud(p,t.name),Ud(v,t.name),Ud(m,t.name),Ud(g,t.name),Ud(y,t.name);var S=new e({uid:b,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:C,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=_n(wn().mark((function t(n,r){var i,a,o,s=arguments;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Fd).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Od(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Vd=new Map;function qd(e){Xh(e instanceof Function,"Expected a class definition");var t=Vd.get(e);return t?(Xh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vd.set(e,t),t)}var zd=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();zd.type="NONE";var Wd=zd;function Hd(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Kd=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hd(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hd("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Bd._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=_n(wn().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(qd(Wd),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||qd(Wd),s=Hd(i,n.config.apiKey,n.name),u=null,c=I(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Bd._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gd(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zd(t))return"Blackberry";if(ep(t))return"Webos";if(Yd(t))return"Safari";if((t.includes("chrome/")||$d(t))&&!t.includes("edge/"))return"Chrome";if(Xd(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/firefox\//i.test(e)}function Yd(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/crios\//i.test(e)}function Jd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/iemobile/i.test(e)}function Xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/android/i.test(e)}function Zd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/blackberry/i.test(e)}function ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/webos/i.test(e)}function tp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function np(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return tp(e)||Xd(e)||ep(e)||Zd(e)||/windows phone/i.test(e)||Jd(e)}function rp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gd(Bt());break;case"Worker":t="".concat(Gd(Bt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(br,"/").concat(r)}function ip(e){return ap.apply(this,arguments)}function ap(){return ap=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ud(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t){return sp.apply(this,arguments)}function sp(){return sp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"GET","/v2/recaptchaConfig",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function up(e){return void 0!==e&&void 0!==e.getResponse}function cp(e){return void 0!==e&&void 0!==e.enterprise}var lp=y((function e(t){if(p(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function fp(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Kh("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var dp=function(){function e(t){p(this,e),this.type="recaptcha-enterprise",this.auth=yp(t)}return y(e,[{key:"verify",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;cp(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=_n(wn().mark((function e(n,r){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:op(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new lp(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&cp(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));fp("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pp(e,t,n){return vp.apply(this,arguments)}function vp(){return vp=_n(wn().mark((function e(t,n,r){var i,a,o,s,u=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new dp(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),vp.apply(this,arguments)}var mp=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=_n(wn().mark((function e(t){var n,r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=I(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=I(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gp=function(){function e(t,n,r,i){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bp(this),this.idTokenSubscription=new bp(this),this.beforeStateQueue=new mp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=qd(t)),this._initializationPromise=this.queue(_n(wn().mark((function r(){var i,a;return wn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Kd.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=_n(wn().mark((function e(t){var n,r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return $h(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Od(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?bn(t):null)&&$h(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=_n(wn().mark((function e(t){var n,r=this,i=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&$h(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(_n(wn().mark((function n(){return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(qd(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new lp(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new dp(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Yt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return $h(n=t&&qd(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Kd.create(this,[qd(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=_n(wn().mark((function e(t){var n=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $h(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return $h(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rp(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_t({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&zh("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yp(e){return bn(e)}var bp=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=fn((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return $h(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wp(e,t,n){var r=yp(e);$h(r._canInitEmulator,r,"emulator-config-failed"),$h(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=kp(t),o=function(e){var t=kp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:_p(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:_p(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kp(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _p(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var xp=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return Jh("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Jh("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Jh("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Jh("not implemented")}}]),e}();function Cp(e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:resetPassword",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}function Ep(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Ip(e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:update",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Np(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithPassword",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Op(e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:sendOobCode",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Dp(e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Op(t,n));case 1:case"end":return e.stop()}}),e)}))),Lp.apply(this,arguments)}function Mp(e,t){return jp.apply(this,arguments)}function jp(){return jp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Op(t,n));case 1:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Fp(e,t){return Up.apply(this,arguments)}function Up(){return Up=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Op(t,n));case 1:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function Bp(e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Op(t,n));case 1:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function qp(e,t){return zp.apply(this,arguments)}function zp(){return zp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithEmailLink",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Wp(e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithEmailLink",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}var Kp=function(e){w(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,pp(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Np(t,i));case 11:return e.abrupt("return",Np(t,r).catch(function(){var e=_n(wn().mark((function e(n){var i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,pp(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Np(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",qp(t,{email:this._email,oobCode:this._password}));case 13:Hh(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ep(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wp(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Hh(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xp);function Gp(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithIdp",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}var Yp=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gp(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gp(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gp(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hh("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ah(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(xp);function $p(e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:sendVerificationCode",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Xp(){return Xp=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithPhoneNumber",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function Zp(){return Zp=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hd(t,"POST","/v1/accounts:signInWithPhoneNumber",sd(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw md(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}var ev=_t({},"USER_NOT_FOUND","user-not-found");function tv(){return tv=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithPhoneNumber",sd(t,r),ev));case 2:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}var nv=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Xp.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zp.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return tv.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(xp);var rv=function(){function e(t){var n,r,i,a,o,s;p(this,e);var u=un(cn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);$h(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=un(cn(e)).link,n=t?un(cn(t)).deep_link_id:null,r=un(cn(e)).deep_link_id;return(r?un(cn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(PD){return null}}}]),e}();var iv=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return Kp._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rv.parseLink(t);return $h(n,"argument-error"),Kp._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();iv.PROVIDER_ID="password",iv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var av=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ov=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(av),sv=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return $h(e.idToken||e.accessToken,"argument-error"),Yp._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return $h("providerId"in t&&"signInMethod"in t,"argument-error"),Yp._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ov),uv=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return Yp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PD){return null}}}]),n}(ov);uv.FACEBOOK_SIGN_IN_METHOD="facebook.com",uv.PROVIDER_ID="facebook.com";var cv=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return Yp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(PD){return null}}}]),n}(ov);cv.GOOGLE_SIGN_IN_METHOD="google.com",cv.PROVIDER_ID="google.com";var lv=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return Yp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PD){return null}}}]),n}(ov);lv.GITHUB_SIGN_IN_METHOD="github.com",lv.PROVIDER_ID="github.com";var fv=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Gp(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gp(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gp(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xp),hv=function(e){w(n,e);var t=C(n);function n(e){return p(this,n),$h(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=fv.fromJSON(e);return $h(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return fv._create(r,n)}catch(i){return null}}}]),n}(av),dv=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return Yp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(PD){return null}}}]),n}(ov);function pv(e,t){return vv.apply(this,arguments)}function vv(){return vv=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signUp",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),vv.apply(this,arguments)}dv.TWITTER_SIGN_IN_METHOD="twitter.com",dv.PROVIDER_ID="twitter.com";var mv=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=_n(wn().mark((function t(n,r,i){var a,o,s,u,c=arguments;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Bd._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=gv(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=_n(wn().mark((function t(n,r,i){var a;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=gv(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function gv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function yv(){return yv=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yp(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new mv({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,pv(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,mv._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}var bv=function(e){w(n,e);var t=C(n);function n(e,r,i,a){var o,s;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Qt);function wv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bv._fromErrorAndOperation(e,n,t,r);throw n}))}function kv(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function _v(e,t){return xv.apply(this,arguments)}function xv(){return xv=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bn(t),e.next=3,Ev(!0,r,n);case 3:return e.t0=bd,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=kv(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function Cv(e,t){return Sv.apply(this,arguments)}function Sv(){return Sv=_n(wn().mark((function e(t,n){var r,i,a=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Td,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mv._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Ev(e,t,n){return Tv.apply(this,arguments)}function Tv(){return(Tv=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Od(n);case 2:i=kv(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",$h(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e,t){return Av.apply(this,arguments)}function Av(){return Av=_n(wn().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Td(t,wv(i,a,n,t),r);case 6:return $h((o=e.sent).idToken,i,"internal-error"),$h(s=Ed(o.idToken),i,"internal-error"),u=s.sub,$h(t.uid===u,i,"user-mismatch"),e.abrupt("return",mv._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Hh(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Av.apply(this,arguments)}function Nv(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=_n(wn().mark((function e(t,n){var r,i,a,o,s=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,wv(t,i,n);case 4:return a=e.sent,e.next=7,mv._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Ov(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nv(yp(t),n));case 1:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Dv(e,t){return Lv.apply(this,arguments)}function Lv(){return(Lv=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bn(t),e.next=3,Ev(!1,r,n.providerId);case 3:return e.abrupt("return",Cv(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mv(e,t){return jv.apply(this,arguments)}function jv(){return(jv=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iv(bn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fv(e,t){return Uv.apply(this,arguments)}function Uv(){return Uv=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(t,"POST","/v1/accounts:signInWithCustomToken",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function Bv(){return Bv=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yp(t),e.next=3,Fv(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,mv._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}var Vv=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?qv._fromServerResponse(e,t):"totpInfo"in t?zv._fromServerResponse(e,t):Hh(e,"internal-error")}}]),e}(),qv=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Vv),zv=function(e){w(n,e);var t=C(n);function n(e){return p(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Vv);function Wv(e,t,n){var r;$h((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),$h("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($h(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&($h(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Hv(){return Hv=_n(wn().mark((function e(t,n,r){var i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=yp(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,pp(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Wv(a,s,r),e.next=9,Mp(a,s);case 9:e.next=14;break;case 11:return r&&Wv(a,o,r),e.next=14,Mp(a,o).catch(function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,pp(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Wv(a,n,r),e.next=8,Mp(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Kv(){return Kv=_n(wn().mark((function e(t,n,r){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cp(bn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Gv(){return Gv=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ip(bn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Qv(e,t){return Yv.apply(this,arguments)}function Yv(){return Yv=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bn(t),e.next=3,Cp(r,{oobCode:n});case 3:i=e.sent,$h(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return $h(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:$h(i.mfaInfo,r,"internal-error");case 13:$h(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Vv._fromServerResponse(yp(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function $v(){return $v=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qv(bn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Jv(e,t,n){return Xv.apply(this,arguments)}function Xv(){return Xv=_n(wn().mark((function e(t,n,r){var i,a,o,s,u,c,l;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=yp(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,pp(a,o,"signUpPassword");case 5:u=e.sent,s=pv(a,u),e.next=10;break;case 9:s=pv(a,o).catch(function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,pp(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",pv(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,mv._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function Zv(){return Zv=_n(wn().mark((function e(t,n,r){var i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){$h(t.handleCodeInApp,a,"argument-error"),t&&Wv(a,e,t)},a=yp(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,pp(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Fp(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Fp(a,o).catch(function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,pp(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Fp(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function em(){return em=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bn(t),$h((a=iv.credentialWithLink(n,r||Zh()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ov(i,a));case 4:case"end":return e.stop()}}),e)}))),em.apply(this,arguments)}function tm(e,t){return nm.apply(this,arguments)}function nm(){return nm=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:createAuthUri",sd(t,n)));case 1:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function rm(){return rm=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ed()?Zh():"http://localhost",i={identifier:n,continueUri:r},e.next=4,tm(bn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(){return(im=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Wv(r.auth,a,n),e.next=8,Dp(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function am(){return(am=_n(wn().mark((function e(t,n,r){var i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Wv(i.auth,o,r),e.next=8,Bp(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function om(e,t){return sm.apply(this,arguments)}function sm(){return sm=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(){return(um=_n(wn().mark((function e(t,n){var r,i,a,o,s,u,c;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=bn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Td(a,om(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cm(e,t,n){return lm.apply(this,arguments)}function lm(){return lm=_n(wn().mark((function e(t,n,r){var i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Td(t,Ep(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}var fm=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),hm=function(e){w(n,e);var t=C(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(fm),dm=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(fm),pm=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(hm),vm=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return y(n)}(fm),mm=function(e){w(n,e);var t=C(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(hm);function gm(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ed(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new fm(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new dm(a,i);case"github.com":return new pm(a,i);case"google.com":return new vm(a,i);case"twitter.com":return new mm(a,i,e.screenName||null);case"custom":case"anonymous":return new fm(a,null);default:return new fm(a,r,i)}}(n)}var ym=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.auth=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:_t({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),bm=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=yp(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Vv._fromServerResponse(r,e)}));$h(i.mfaPendingCredential,r,"internal-error");var o=ym._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=_n(wn().mark((function e(t){var a,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,mv._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return $h(n.user,r,"internal-error"),e.abrupt("return",mv._forOperation(n.user,n.operationType,s));case 17:Hh(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function wm(e,t){return ud(e,"POST","/v2/accounts/mfaEnrollment:start",sd(e,t))}function km(e,t){return ud(e,"POST","/v2/accounts/mfaEnrollment:start",sd(e,t))}function _m(e,t){return ud(e,"POST","/v2/accounts/mfaEnrollment:finalize",sd(e,t))}function xm(e,t){return ud(e,"POST","/v2/accounts/mfaEnrollment:withdraw",sd(e,t))}var Cm=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Vv._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ym,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Td(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Td(this.user,xm(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Sm=new WeakMap;var Em="__sak",Tm=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch(PD){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Im=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Bt();return Yd(e)||tp(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=np(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ht()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=_n(wn().mark((function e(t,r){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(wn().mark((function e(t){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Tm);Im.type="LOCAL";var Am=Im,Nm=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Tm);Nm.type="SESSION";var Pm=Nm;function Om(e){return Promise.all(e.map(function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Rm=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=_n(wn().mark((function e(t){var n,r,i,a,o,s,u,c;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Om(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Dm(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rm.receivers=[];var Lm=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=_n(wn().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Dm("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Mm(){return window}function jm(e){Mm().location.href=e}function Fm(){return"undefined"!==typeof Mm().WorkerGlobalScope&&"function"===typeof Mm().importScripts}function Um(){return Bm.apply(this,arguments)}function Bm(){return(Bm=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Vm(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var qm="firebaseLocalStorageDb",zm="firebaseLocalStorage",Wm="fbase_key",Hm=function(){function e(t){p(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Km(e,t){return e.transaction([zm],t?"readwrite":"readonly").objectStore(zm)}function Gm(){var e=indexedDB.deleteDatabase(qm);return new Hm(e).toPromise()}function Qm(){var e=indexedDB.open(qm,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(zm,{keyPath:Wm})}catch(r){n(r)}})),e.addEventListener("success",_n(wn().mark((function n(){var r;return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(zm)){n.next=12;break}return r.close(),n.next=5,Gm();case 5:return n.t0=t,n.next=8,Qm();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ym(e,t,n){return $m.apply(this,arguments)}function $m(){return $m=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Km(t,!0).put((_t(i={},Wm,n),_t(i,"value",r),i)),e.abrupt("return",new Hm(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}function Jm(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Km(t,!1).get(n),e.next=3,new Hm(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Zm(e,t){var n=Km(e,!0).delete(t);return new Hm(n).toPromise()}var eg=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Qm();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fm()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=_n(wn().mark((function e(){var t=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rm._getInstance(Fm()?self:null),this.receiver._subscribe("keyChanged",function(){var e=_n(wn().mark((function e(n,r){var i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=_n(wn().mark((function e(){var t,n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Lm(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Vm()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Qm();case 5:return t=e.sent,e.next=8,Ym(t,Em,"1");case 8:return e.next=10,Zm(t,Em);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_n(wn().mark((function e(t,n){var r=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ym(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Jm(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(wn().mark((function e(t){var n=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Zm(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Km(e,!1).getAll();return new Hm(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=I(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();eg.type="LOCAL";var tg=eg;function ng(e,t){return ud(e,"POST","/v2/accounts/mfaSignIn:start",sd(e,t))}function rg(e,t){return ud(e,"POST","/v2/accounts/mfaSignIn:finalize",sd(e,t))}var ig=1e12,ag=function(){function e(t){p(this,e),this.auth=t,this.counter=ig,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new og(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ig;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ig;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ig,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),og=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;$h(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var sg=hp("rcb"),ug=new nd(3e4,6e4),cg=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Mm().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $h(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&up(Mm().grecaptcha)?Promise.resolve(Mm().grecaptcha):new Promise((function(r,i){var a=Mm().setTimeout((function(){i(Kh(e,"network-request-failed"))}),ug.get());Mm()[sg]=function(){Mm().clearTimeout(a),delete Mm()[sg];var o=Mm().grecaptcha;if(o&&up(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Kh(e,"internal-error"))},fp("".concat("https://www.google.com/recaptcha/api.js?","?").concat(sn({onload:sg,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Kh(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Mm().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var lg=function(){function e(){p(this,e)}return y(e,[{key:"load",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ag(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),fg="recaptcha",hg={theme:"light",type:"image"},dg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},hg),r=arguments.length>2?arguments[2]:void 0;p(this,e),this.parameters=n,this.type=fg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yp(r),this.isInvisible="invisible"===this.parameters.size,$h("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;$h(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lg:new cg,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){$h(!this.parameters.sitekey,this.auth,"argument-error"),$h(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$h("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Mm()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){$h(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h(ed()&&!Fm(),this.auth,"internal-error"),e.next=3,pg();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ip(this.auth);case 8:$h(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return $h(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function pg(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var vg=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=nv._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function mg(){return mg=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yp(t),e.next=3,wg(i,n,bn(r));case 3:return a=e.sent,e.abrupt("return",new vg(a,(function(e){return Ov(i,e)})));case 5:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}function gg(e,t,n){return yg.apply(this,arguments)}function yg(){return(yg=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bn(t),e.next=3,Ev(!1,i,"phone");case 3:return e.next=5,wg(i.auth,n,bn(r));case 5:return a=e.sent,e.abrupt("return",new vg(a,(function(e){return Dv(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bg(){return(bg=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bn(t),e.next=3,wg(i.auth,n,bn(r));case 3:return a=e.sent,e.abrupt("return",new vg(a,(function(e){return Mv(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wg(e,t,n){return kg.apply(this,arguments)}function kg(){return kg=_n(wn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,$h("string"===typeof a,t,"argument-error"),$h(r.type===fg,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return $h("enroll"===s.type,t,"internal-error"),e.next=13,wm(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return $h("signin"===s.type,t,"internal-error"),$h(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ng(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,$p(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),kg.apply(this,arguments)}function _g(){return(_g=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cv(bn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xg=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=yp(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return wg(this.auth,e,bn(t))}}],[{key:"credential",value:function(e,t){return nv._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?nv._fromTokenResponse(n,r):null}}]),e}();function Cg(e,t){return t?qd(t):($h(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xg.PROVIDER_ID="phone",xg.PHONE_SIGN_IN_METHOD="phone";var Sg=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Gp(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gp(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gp(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xp);function Eg(e){return Nv(e.auth,new Sg(e),e.bypassAuthState)}function Tg(e){var t=e.auth,n=e.user;return $h(n,t,"internal-error"),Iv(n,new Sg(e),e.bypassAuthState)}function Ig(e){return Ag.apply(this,arguments)}function Ag(){return Ag=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,$h(r=t.user,n,"internal-error"),e.abrupt("return",Cv(r,new Sg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}var Ng=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=_n(wn().mark((function t(n,r){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=_n(wn().mark((function e(t){var n,r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Eg;case"linkViaPopup":case"linkViaRedirect":return Ig;case"reauthViaPopup":case"reauthViaRedirect":return Tg;default:Hh(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Xh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Xh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Pg=new nd(2e3,1e4);function Og(e,t,n){return Rg.apply(this,arguments)}function Rg(){return Rg=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yp(t),Qh(t,n,av),a=Cg(i,r),o=new jg(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Dg(){return(Dg=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qh((i=bn(t)).auth,n,av),a=Cg(i.auth,r),o=new jg(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lg(e,t,n){return Mg.apply(this,arguments)}function Mg(){return(Mg=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qh((i=bn(t)).auth,n,av),a=Cg(i.auth,r),o=new jg(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jg=function(e){w(n,e);var t=C(n);function n(e,r,i,a,o){var s;return p(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return y(n,[{key:"executeNotNull",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return $h(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_n(wn().mark((function e(){var t,n=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xh(1===this.filter.length,"Popup operations only handle one event"),t=Dm(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Kh(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Kh(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Kh(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Pg.get())}()}}]),n}(Ng);jg.currentPopupAction=null;var Fg="pendingRedirect",Ug=new Map,Bg=function(e){w(n,e);var t=C(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=_n(wn().mark((function e(){var t,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ug.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vg(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ih(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ug.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ug.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=_n(wn().mark((function e(t){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ih(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ih(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ng);function Vg(e,t){return qg.apply(this,arguments)}function qg(){return qg=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gg(n),i=Kg(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function zg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kg(t)._set(Gg(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e,t){Ug.set(e._key(),t)}function Kg(e){return qd(e._redirectPersistence)}function Gg(e){return Hd(Fg,e.config.apiKey,e.name)}function Qg(e,t,n){return function(e,t,n){return Yg.apply(this,arguments)}(e,t,n)}function Yg(){return Yg=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yp(t),Qh(t,n,av),e.next=4,i._initializationPromise;case 4:return a=Cg(i,r),e.next=7,zg(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function $g(e,t,n){return function(e,t,n){return Jg.apply(this,arguments)}(e,t,n)}function Jg(){return(Jg=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qh((i=bn(t)).auth,n,av),e.next=4,i.auth._initializationPromise;case 4:return a=Cg(i.auth,r),e.next=7,zg(a,i.auth);case 7:return e.next=9,iy(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xg(e,t,n){return function(e,t,n){return Zg.apply(this,arguments)}(e,t,n)}function Zg(){return(Zg=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qh((i=bn(t)).auth,n,av),e.next=4,i.auth._initializationPromise;case 4:return a=Cg(i.auth,r),e.next=7,Ev(!1,i,n.providerId);case 7:return e.next=9,zg(a,i.auth);case 9:return e.next=11,iy(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yp(t)._initializationPromise;case 2:return e.abrupt("return",ny(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return ry=_n(wn().mark((function e(t,n){var r,i,a,o,s,u=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=yp(t),a=Cg(i,n),o=new Bg(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e){return ay.apply(this,arguments)}function ay(){return(ay=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dm("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oy=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!uy(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kh(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sy(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sy(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function uy(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function cy(e){return ly.apply(this,arguments)}function ly(){return ly=_n(wn().mark((function e(t){var n,r=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ud(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}var fy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hy=/^https?/;function dy(){return dy=_n(wn().mark((function e(t){var n,r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cy(t);case 4:n=e.sent,r=n.authorizedDomains,i=I(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!py(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Hh(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),dy.apply(this,arguments)}function py(e){var t=Zh(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!hy.test(r))return!1;if(fy.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var vy=new nd(3e4,6e4);function my(){var e=Mm().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gy=null;function yy(e){return gy=gy||function(e){return new Promise((function(t,n){var r,i,a;function o(){my(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){my(),n(Kh(e,"network-request-failed"))},timeout:vy.get()})}if(null===(i=null===(r=Mm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Mm().gapi)||void 0===a?void 0:a.load)){var s=hp("iframefcb");return Mm()[s]=function(){gapi.load?o():n(Kh(e,"network-request-failed"))},fp("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gy=null,e}))}(e),gy}var by=new nd(5e3,15e3),wy="__/auth/iframe",ky="emulator/auth/iframe",_y={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cy(e){var t=e.config;$h(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?rd(t,ky):"https://".concat(e.config.authDomain,"/").concat(wy),r={apiKey:t.apiKey,appName:e.name,v:br},i=xy.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(sn(r).slice(1))}function Sy(e){return Ey.apply(this,arguments)}function Ey(){return Ey=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yy(t);case 2:return n=e.sent,$h(r=Mm().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Cy(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_y,dontclear:!0},(function(e){return new Promise(function(){var n=_n(wn().mark((function n(r,i){var a,o,s;return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Mm().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Kh(t,"network-request-failed"),o=Mm().setTimeout((function(){i(a)}),by.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}var Ty={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iy=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ay(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ty),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Bt().toLowerCase();n&&(s=$d(c)?"_blank":n),Qd(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return tp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Iy(null);var h=window.open(t||"",s,l);$h(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Iy(h)}var Ny="__/auth/handler",Py="emulator/auth/handler",Oy=encodeURIComponent("fac");function Ry(e,t,n,r,i,a){return Dy.apply(this,arguments)}function Dy(){return Dy=_n(wn().mark((function e(t,n,r,i,a,o){var s,u,c,l,h,d,p,v,m,g,y,b,w;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($h(t.config.authDomain,t,"auth-domain-config-required"),$h(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:br,eventId:a},n instanceof av)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",nn(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=f(c[u],2),h=l[0],d=l[1],s[h]=d;for(n instanceof ov&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(Oy,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(Ly(t),"?").concat(sn(v).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(e){var t=e.config;return t.emulator?rd(t,Py):"https://".concat(t.authDomain,"/").concat(Ny)}var My="webStorageSupport",jy=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pm,this._completeRedirectFn=ny,this._overrideRedirectResult=Hg}return y(e,[{key:"_openPopup",value:function(){var e=_n(wn().mark((function e(t,n,r,i){var a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xh(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Ry(t,n,r,Zh(),i);case 3:return o=e.sent,e.abrupt("return",Ay(t,o,Dm()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_n(wn().mark((function e(t,n,r,i){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Ry(t,n,r,Zh(),i);case 4:return jm(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Xh(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sy(t);case 2:return n=e.sent,r=new oy(t),n.register("authEvent",(function(e){return $h(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(My,{type:My},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[My];void 0!==i&&t(!!i),Hh(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dy.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return np()||Yd()||tp()}}]),e}(),Fy=jy,Uy=function(){function e(t){p(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jh("unexpected MultiFactorSessionType")}}}]),e}(),By=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ud(e,"POST","/v2/accounts/mfaEnrollment:finalize",sd(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ud(e,"POST","/v2/accounts/mfaSignIn:finalize",sd(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Uy),Vy=function(){function e(){p(this,e)}return y(e,null,[{key:"assertion",value:function(e){return By._fromCredential(e)}}]),e}();Vy.FACTOR_ID="phone";var qy=function(){function e(){p(this,e)}return y(e,null,[{key:"assertionForEnrollment",value:function(e,t){return zy._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return zy._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,km(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Wy._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();qy.FACTOR_ID="totp";var zy=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return y(n,[{key:"_finalizeEnroll",value:function(){var e=_n(wn().mark((function e(t,n,r){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",_m(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",rg(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Uy),Wy=function(){function e(t,n,r,i,a,o,s){p(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Hy(e)||Hy(t))&&(r=!0),r&&(Hy(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Hy(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Hy(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ky="@firebase/auth",Gy="0.23.2",Qy=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){$h(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Yy;!function(e){var t;null===(t=Mt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function $y(){return window}Yy="Browser",hr(new xn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;$h(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Yy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rp(Yy)},l=new gp(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),hr(new xn("auth-internal",(function(e){return function(e){return new Qy(e)}(yp(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(Ky,Gy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yy)),Sr(Ky,Gy,"esm2017");var Jy=2e3;function Xy(e,t,n){return Zy.apply(this,arguments)}function Zy(){return Zy=_n(wn().mark((function e(t,n,r){var i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$y(),o=a.BuildInfo,Xh(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ab(n.sessionId);case 4:return s=e.sent,u={},tp()?u.ibi=o.packageName:Xd()?u.apn=o.packageName:Hh(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Ry(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function eb(){return eb=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$y(),r=n.BuildInfo,i={},tp()?i.iosBundleId=r.packageName:Xd()?i.androidPackageName=r.packageName:Hh(t,"operation-not-supported-in-this-environment"),e.next=5,cy(t,i);case 5:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e){var t=$y().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$y(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Kh(t,"redirect-cancelled-by-user"))}),Jy))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Xd()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),rb.apply(this,arguments)}function ib(e){var t,n,r,i,a,o,s,u,c,l,f=$y();$h("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$h("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$h("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$h("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$h("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ab(e){return ob.apply(this,arguments)}function ob(){return(ob=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sb(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sb(e){if(Xh(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ub=20,cb=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ih(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(oy);function lb(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:vb(),postBody:null,tenantId:e.tenantId,error:Kh(e,"no-auth-event")}}function fb(e,t){return mb()._set(gb(e),t)}function hb(e){return db.apply(this,arguments)}function db(){return db=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mb()._get(gb(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,mb()._remove(gb(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t){var n,r,i=function(e){var t=yb(e),n=t.link?decodeURIComponent(t.link):void 0,r=yb(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return yb(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=yb(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Kh(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vb(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<ub;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function mb(){return qd(Am)}function gb(e){return Hd("authEvent",e.config.apiKey,e.name)}function yb(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return un(t.slice(1).join("?"))}var bb=function(){function e(){p(this,e),this._redirectPersistence=Pm,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ny,this._overrideRedirectResult=Hg}return y(e,[{key:"_initialize",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new cb(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Hh(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=_n(wn().mark((function e(t,n,r,i){var a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ib(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ug.clear(),e.next=10,this._originValidation(t);case 10:return o=lb(t,r,i),e.next=13,fb(t,o);case 13:return e.next=15,Xy(t,o,n);case 15:return s=e.sent,e.next=18,tb(s);case 18:return u=e.sent,e.abrupt("return",nb(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return eb.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$y(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(_n(wn().mark((function n(){return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hb(e);case 2:t.onEvent(kb());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=_n(wn().mark((function n(r){var i,a;return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,hb(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=pb(i,r.url)),t.onEvent(a||kb());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");$y().handleOpenURL=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),wb=bb;function kb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Kh("no-auth-event")}}var _b=1e3;function xb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return!("file:"!==xb()&&"ionic:"!==xb()&&"capacitor:"!==xb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return Ht()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/Edge\/\d+/.test(e)}(e)}function Eb(){try{var e=self.localStorage,t=Dm();if(e)return e.setItem(t,"1"),e.removeItem(t),!Sb()||Gt()}catch(n){return Tb()&&Gt()}return!1}function Tb(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ib(){return("http:"===xb()||"https:"===xb()||zt()||Cb())&&!(Wt()||qt())&&Eb()&&!Tb()}function Ab(){return Cb()&&"undefined"!==typeof document}function Nb(){return Pb.apply(this,arguments)}function Pb(){return(Pb=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ab()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),_b);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ob={LOCAL:"local",NONE:"none",SESSION:"session"},Rb=$h,Db="persistence";function Lb(e,t){Rb(Object.values(Ob).includes(t),e,"invalid-persistence-type"),Wt()?Rb(t!==Ob.SESSION,e,"unsupported-persistence-type"):qt()?Rb(t===Ob.NONE,e,"unsupported-persistence-type"):Tb()?Rb(t===Ob.NONE||t===Ob.LOCAL&&Gt(),e,"unsupported-persistence-type"):Rb(t===Ob.NONE||Eb(),e,"unsupported-persistence-type")}function Mb(e){return jb.apply(this,arguments)}function jb(){return jb=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Fb(),r=Hd(Db,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Fb(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ub=$h,Bb=function(){function e(){p(this,e),this.browserResolver=qd(Fy),this.cordovaResolver=qd(wb),this.underlyingResolver=null,this._redirectPersistence=Pm,this._completeRedirectFn=ny,this._overrideRedirectResult=Hg}return y(e,[{key:"_initialize",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=_n(wn().mark((function e(t,n,r,i){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_n(wn().mark((function e(t,n,r,i){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ab()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ub(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Nb();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vb(e){return e.unwrap()}function qb(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Gb(e,function(e,t){var n,r=bn(e),i=t;return $h(t.customData.operationType,r,"argument-error"),$h(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bm._fromError(r,i)}(e,t));else if(r){var i=zb(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function zb(e){var t=(e instanceof Qt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Qt)&&"temporaryProof"in t&&"phoneNumber"in t)return xg.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ph.PASSWORD)return null;switch(r){case Ph.GOOGLE:n=cv;break;case Ph.FACEBOOK:n=uv;break;case Ph.GITHUB:n=lv;break;case Ph.TWITTER:n=dv;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?fv._create(r,s):Yp._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new sv(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Qt?n.credentialFromError(e):n.credentialFromResult(e)}function Wb(e,t){return t.catch((function(t){throw t instanceof Qt&&qb(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zb(t)),additionalUserInfo:gm(e),user:Qb.getOrCreate(r)}}))}function Hb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Wb(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}var Gb=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Wb(Vb(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Qb=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=bn(e);return Sm.has(t)||Sm.set(t,Cm._fromUser(t)),Sm.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wb(this.auth,Dv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(this.auth,gg(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wb(this.auth,Lg(this._delegate,t,Bb)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mb(yp(this.auth));case 2:return e.abrupt("return",Xg(this._delegate,t,Bb));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wb(this.auth,Mv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Hb(this.auth,function(e,t,n){return bg.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Wb(this.auth,function(e,t,n){return Dg.apply(this,arguments)}(this._delegate,e,Bb))}},{key:"reauthenticateWithRedirect",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mb(yp(this.auth));case 2:return e.abrupt("return",$g(this._delegate,t,Bb));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return im.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return cm(bn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return cm(bn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return _g.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return um.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return am.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Qb.USER_MAP=new WeakMap;var Yb=$h,$b=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Yb(r,"invalid-api-key",{appName:t.name}),Yb(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Bb:void 0;this._delegate=n.initialize({options:{persistence:Xb(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Uh),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Qb.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){wp(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Gv.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qv(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Kv.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wb(this._delegate,Jv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return rm.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=rv.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yb(Ib(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ey(this._delegate,Bb);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Wb(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){yp(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Jb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Jb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Zv.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Hv.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lb(this._delegate,t),e.t0=t,e.next=e.t0===Ob.SESSION?4:e.t0===Ob.LOCAL?6:e.t0===Ob.NONE?11:13;break;case 4:return n=Pm,e.abrupt("break",14);case 6:return e.next=8,qd(tg)._isAvailable();case 8:return r=e.sent,n=r?tg:Am,e.abrupt("break",14);case 11:return n=Wd,e.abrupt("break",14);case 13:return e.abrupt("return",Hh("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Wb(this._delegate,function(e){return yv.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Wb(this._delegate,Ov(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Wb(this._delegate,function(e,t){return Bv.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Wb(this._delegate,function(e,t,n){return Ov(bn(e),iv.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Wb(this._delegate,function(e,t,n){return em.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Hb(this._delegate,function(e,t,n){return mg.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yb(Ib(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Wb(this._delegate,Og(this._delegate,t,Bb)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yb(Ib(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Mb(this._delegate);case 3:return e.abrupt("return",Qg(this._delegate,t,Bb));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return $v.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Jb(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Qb.getOrCreate(e))},error:t,complete:n}}function Xb(e,t){var n=function(e,t){var n=Fb();if(!n)return[];var r=Hd(Db,e,t);switch(n.getItem(r)){case Ob.NONE:return[Wd];case Ob.LOCAL:return[tg,Pm];case Ob.SESSION:return[Pm];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(tg)||n.push(tg),"undefined"!==typeof window)for(var r=0,i=[Am,Pm];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Wd)||n.push(Wd),n}$b.Persistence=Ob;var Zb=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new xg(Vb(Jr.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return xg.credential(e,t)}}]),e}();Zb.PHONE_SIGN_IN_METHOD=xg.PHONE_SIGN_IN_METHOD,Zb.PROVIDER_ID=xg.PROVIDER_ID;var ew=$h,tw=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jr.app();p(this,e),ew(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new dg(t,n,i.auth()),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new xn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $b(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Oh,PASSWORD_RESET:Rh,RECOVER_EMAIL:Dh,REVERT_SECOND_FACTOR_ADDITION:Lh,VERIFY_AND_CHANGE_EMAIL:Mh,VERIFY_EMAIL:jh}},EmailAuthProvider:iv,FacebookAuthProvider:uv,GithubAuthProvider:lv,GoogleAuthProvider:cv,OAuthProvider:sv,SAMLAuthProvider:hv,PhoneAuthProvider:Zb,PhoneMultiFactorGenerator:Vy,RecaptchaVerifier:tw,TwitterAuthProvider:dv,Auth:$b,AuthCredential:xp,Error:Qt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(Jr);var nw,rw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},iw={},aw=aw||{},ow=rw||self;function sw(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function uw(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cw="closure_uid_"+(1e9*Math.random()>>>0),lw=0;function fw(e,t,n){return e.call.apply(e.bind,arguments)}function hw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function dw(e,t,n){return(dw=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fw:hw).apply(null,arguments)}function pw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vw(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function mw(){this.s=this.s,this.o=this.o}mw.prototype.s=!1,mw.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,cw)&&e[cw]||(e[cw]=++lw))},mw.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yw(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function bw(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(sw(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ww(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ww.prototype.h=function(){this.defaultPrevented=!0};var kw=function(){if(!ow.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ow.addEventListener("test",(function(){}),t),ow.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function _w(e){return/^[\s\xa0]*$/.test(e)}function xw(){var e=ow.navigator;return e&&(e=e.userAgent)?e:""}function Cw(e){return-1!=xw().indexOf(e)}function Sw(e){return Sw[" "](e),e}Sw[" "]=function(){};var Ew,Tw,Iw=Cw("Opera"),Aw=Cw("Trident")||Cw("MSIE"),Nw=Cw("Edge"),Pw=Nw||Aw,Ow=Cw("Gecko")&&!(-1!=xw().toLowerCase().indexOf("webkit")&&!Cw("Edge"))&&!(Cw("Trident")||Cw("MSIE"))&&!Cw("Edge"),Rw=-1!=xw().toLowerCase().indexOf("webkit")&&!Cw("Edge");function Dw(){var e=ow.document;return e?e.documentMode:void 0}e:{var Lw="",Mw=function(){var e=xw();return Ow?/rv:([^\);]+)(\)|;)/.exec(e):Nw?/Edge\/([\d\.]+)/.exec(e):Aw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rw?/WebKit\/(\S+)/.exec(e):Iw?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mw&&(Lw=Mw?Mw[1]:""),Aw){var jw=Dw();if(null!=jw&&jw>parseFloat(Lw)){Ew=String(jw);break e}}Ew=Lw}if(ow.document&&Aw){var Fw=Dw();Tw=Fw||(parseInt(Ew,10)||void 0)}else Tw=void 0;var Uw=Tw;function Bw(e,t){if(ww.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ow){e:{try{Sw(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bw.$.h.call(this)}}vw(Bw,ww);var Vw={2:"touch",3:"pen",4:"mouse"};Bw.prototype.h=function(){Bw.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qw="closure_listenable_"+(1e6*Math.random()|0),zw=0;function Ww(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zw,this.fa=this.ia=!1}function Hw(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Kw(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gw(e){var t={};for(var n in e)t[n]=e[n];return t}var Qw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yw(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Qw.length;a++)n=Qw[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $w(e){this.src=e,this.g={},this.h=0}function Jw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gw(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Hw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xw(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}$w.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Xw(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ww(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Zw="closure_lm_"+(1e6*Math.random()|0),ek={};function tk(e,t,n,r,i){if(r&&r.once)return rk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)tk(e,t[a],n,r,i);return null}return n=lk(n),e&&e[qw]?e.O(t,n,uw(r)?!!r.capture:!!r,i):nk(e,t,n,!1,r,i)}function nk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=uw(i)?!!i.capture:!!i,s=uk(e);if(s||(e[Zw]=s=new $w(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=sk;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)kw||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ok(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rk(e,t[a],n,r,i);return null}return n=lk(n),e&&e[qw]?e.P(t,n,uw(r)?!!r.capture:!!r,i):nk(e,t,n,!0,r,i)}function ik(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ik(e,t[a],n,r,i);else r=uw(r)?!!r.capture:!!r,n=lk(n),e&&e[qw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xw(a=e.g[t],n,r,i))&&(Hw(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=uk(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xw(t,n,r,i)),(n=-1<e?t[e]:null)&&ak(n))}function ak(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[qw])Jw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ok(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uk(t))?(Jw(n,e),0==n.h&&(n.src=null,t[Zw]=null)):Hw(e)}}}function ok(e){return e in ek?ek[e]:ek[e]="on"+e}function sk(e,t){if(e.fa)e=!0;else{t=new Bw(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ak(e),e=n.call(r,t)}return e}function uk(e){return(e=e[Zw])instanceof $w?e:null}var ck="__closure_events_fn_"+(1e9*Math.random()>>>0);function lk(e){return"function"===typeof e?e:(e[ck]||(e[ck]=function(t){return e.handleEvent(t)}),e[ck])}function fk(){mw.call(this),this.i=new $w(this),this.S=this,this.J=null}function hk(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ww(t,e);else if(t instanceof ww)t.target=t.target||e;else{var i=t;Yw(t=new ww(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=dk(o,r,!0,t)&&i}if(i=dk(o=t.g=e,r,!0,t)&&i,i=dk(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=dk(o=t.g=n[a],r,!1,t)&&i}function dk(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Jw(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}vw(fk,mw),fk.prototype[qw]=!0,fk.prototype.removeEventListener=function(e,t,n,r){ik(this,e,t,n,r)},fk.prototype.N=function(){if(fk.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hw(n[r]);delete t.g[e],t.h--}}this.J=null},fk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fk.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pk=ow.JSON.stringify,vk=function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function mk(){var e=Ck,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gk=function(){function e(){p(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=yk.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yk=new vk((function(){return new bk}),(function(e){return e.reset()})),bk=function(){function e(){p(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wk(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function kk(e){ow.setTimeout((function(){throw e}),0)}var _k,xk=!1,Ck=new gk,Sk=function(){var e=ow.Promise.resolve(void 0);_k=function(){e.then(Ek)}},Ek=function(){for(var e;e=mk();){try{e.h.call(e.g)}catch(n){kk(n)}var t=yk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xk=!1};function Tk(e,t){fk.call(this),this.h=e||1,this.g=t||ow,this.j=dw(this.qb,this),this.l=Date.now()}function Ik(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ak(e,t,n){if("function"===typeof e)n&&(e=dw(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=dw(e.handleEvent,e)}return 2147483647<Number(t)?-1:ow.setTimeout(e,t||0)}function Nk(e){e.g=Ak((function(){e.g=null,e.i&&(e.i=!1,Nk(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}vw(Tk,fk),(nw=Tk.prototype).ga=!1,nw.T=null,nw.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hk(this,"tick"),this.ga&&(Ik(this),this.start()))}},nw.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nw.N=function(){Tk.$.N.call(this),Ik(this),delete this.g};var Pk=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Nk(this)}},{key:"N",value:function(){Ih(k(n.prototype),"N",this).call(this),this.g&&(ow.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(mw);function Ok(e){mw.call(this),this.h=e,this.g={}}vw(Ok,mw);var Rk=[];function Dk(e,t,n,r){Array.isArray(n)||(n&&(Rk[0]=n.toString()),n=Rk);for(var i=0;i<n.length;i++){var a=tk(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Lk(e){Kw(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ak(e)}),e),e.g={}}function Mk(){this.g=!0}function jk(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return pk(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ok.prototype.N=function(){Ok.$.N.call(this),Lk(this)},Ok.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mk.prototype.Ea=function(){this.g=!1},Mk.prototype.info=function(){};var Fk={},Uk=null;function Bk(){return Uk=Uk||new fk}function Vk(e){ww.call(this,Fk.Ta,e)}function qk(e){var t=Bk();hk(t,new Vk(t))}function zk(e,t){ww.call(this,Fk.STAT_EVENT,e),this.stat=t}function Wk(e){var t=Bk();hk(t,new zk(t,e))}function Hk(e,t){ww.call(this,Fk.Ua,e),this.size=t}function Kk(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ow.setTimeout((function(){e()}),t)}Fk.Ta="serverreachability",vw(Vk,ww),Fk.STAT_EVENT="statevent",vw(zk,ww),Fk.Ua="timingevent",vw(Hk,ww);var Gk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yk(){}function $k(e){return e.h||(e.h=e.i())}function Jk(){}Yk.prototype.h=null;var Xk,Zk={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function e_(){ww.call(this,"d")}function t_(){ww.call(this,"c")}function n_(){}function r_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ok(this),this.P=a_,e=Pw?125:void 0,this.V=new Tk(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i_}function i_(){this.i=null,this.g="",this.h=!1}vw(e_,ww),vw(t_,ww),vw(n_,Yk),n_.prototype.g=function(){return new XMLHttpRequest},n_.prototype.i=function(){return{}},Xk=new n_;var a_=45e3,o_={},s_={};function u_(e,t,n){e.L=1,e.v=T_(__(t)),e.s=n,e.S=!0,c_(e,null)}function c_(e,t){e.G=Date.now(),d_(e),e.A=__(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),B_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new i_,e.g=Vx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Pk(dw(e.Pa,e,e.g),e.O)),Dk(e.U,e.g,"readystatechange",e.nb),t=e.I?Gw(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),qk(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function l_(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function f_(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=h_(e,n))==s_){4==t&&(e.o=4,Wk(14),i=!1),jk(e.j,e.m,null,"[Incomplete Response]");break}if(r==o_){e.o=4,Wk(15),jk(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}jk(e.j,e.m,r,null),y_(e,r)}l_(e)&&r!=s_&&r!=o_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wk(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rx(t),t.M=!0,Wk(11))):(jk(e.j,e.m,n,"[Invalid Chunked Response]"),g_(e),m_(e))}function h_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?s_:(n=Number(t.substring(n,r)),isNaN(n)?o_:(r+=1)+n>t.length?s_:(t=t.slice(r,r+n),e.C=r+n,t))}function d_(e){e.Y=Date.now()+e.P,p_(e,e.P)}function p_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Kk(dw(e.lb,e),t)}function v_(e){e.B&&(ow.clearTimeout(e.B),e.B=null)}function m_(e){0==e.l.H||e.J||Mx(e.l,e)}function g_(e){v_(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ik(e.V),Lk(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function y_(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||G_(n.i,e)))if(!e.K&&G_(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Lx(n),Sx(n)}Ox(n),Wk(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Kk(dw(n.ib,n),6e3));if(1>=K_(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Fx(n,11)}else if((e.K||n.g==e)&&Lx(n),!_w(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Q_(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,E_(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Bx(r,r.J?r.pa:null,r.Y),d.K){Y_(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(v_(p),d_(p)),r.g=d}else Px(r);0<n.j.length&&Tx(n)}else"stop"!=a[0]&&"close"!=a[0]||Fx(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Fx(n,7):Cx(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}qk()}catch(a){}}function b_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sw(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(sw(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(sw(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(nw=r_.prototype).setTimeout=function(e){this.P=e},nw.nb=function(e){e=e.target;var t=this.M;t&&3==yx(e)?t.l():this.Pa(e)},nw.Pa=function(e){try{if(e==this.g)e:{var t=yx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Pw||this.g&&(this.h.h||this.g.ja()||bx(this.g)))){this.J||4!=t||7==n||qk(),v_(this);var r=this.g.da();this.ca=r;t:if(l_(this)){var i=bx(this.g);e="";var a=i.length,o=4==yx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){g_(this),m_(this);var s="";break t}this.h.i=new ow.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_w(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Wk(12),g_(this),m_(this);break e}jk(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,y_(this,r)}this.S?(f_(this,t,s),Pw&&this.i&&3==t&&(Dk(this.U,this.V,"tick",this.mb),this.V.start())):(jk(this.j,this.m,s,null),y_(this,s)),4==t&&g_(this),this.i&&!this.J&&(4==t?Mx(this.l,this):(this.i=!1,d_(this)))}else(function(e){var t={};e=(e.g&&2<=yx(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!_w(e[n])){var r=wk(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Wk(12)):(this.o=0,Wk(13)),g_(this),m_(this)}}}catch(t){}},nw.mb=function(){if(this.g){var e=yx(this.g),t=this.g.ja();this.C<t.length&&(v_(this),f_(this,e,t),this.i&&4!=e&&d_(this))}},nw.cancel=function(){this.J=!0,g_(this)},nw.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(qk(),Wk(17)),g_(this),this.o=2,m_(this)):p_(this,this.Y-e)};var w_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k_(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof k_){this.h=e.h,x_(this,e.j),this.s=e.s,this.g=e.g,C_(this,e.m),this.l=e.l;var t=e.i,n=new M_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),S_(this,n),this.o=e.o}else e&&(t=String(e).match(w_))?(this.h=!1,x_(this,t[1]||"",!0),this.s=I_(t[2]||""),this.g=I_(t[3]||"",!0),C_(this,t[4]),this.l=I_(t[5]||"",!0),S_(this,t[6]||"",!0),this.o=I_(t[7]||"")):(this.h=!1,this.i=new M_(null,this.h))}function __(e){return new k_(e)}function x_(e,t,n){e.j=n?I_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function C_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function S_(e,t,n){t instanceof M_?(e.i=t,function(e,t){t&&!e.j&&(j_(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(F_(this,t),B_(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=A_(t,D_)),e.i=new M_(t,e.h))}function E_(e,t,n){e.i.set(t,n)}function T_(e){return E_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function I_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function A_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,N_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function N_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}k_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(A_(t,P_,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(A_(t,P_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(A_(n,"/"==n.charAt(0)?R_:O_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",A_(n,L_)),e.join("")};var P_=/[#\/\?@]/g,O_=/[#\?:]/g,R_=/[#\?]/g,D_=/[#\?@]/g,L_=/#/g;function M_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function j_(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function F_(e,t){j_(e),t=V_(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function U_(e,t){return j_(e),t=V_(e,t),e.g.has(t)}function B_(e,t,n){F_(e,t),0<n.length&&(e.i=null,e.g.set(V_(e,t),yw(n)),e.h+=n.length)}function V_(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(nw=M_.prototype).add=function(e,t){j_(this),this.i=null,e=V_(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},nw.forEach=function(e,t){j_(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},nw.ta=function(){j_(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},nw.Z=function(e){j_(this);var t=[];if("string"===typeof e)U_(this,e)&&(t=t.concat(this.g.get(V_(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},nw.set=function(e,t){return j_(this),this.i=null,U_(this,e=V_(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nw.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},nw.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var q_=y((function e(t,n){p(this,e),this.g=t,this.map=n}));function z_(e){this.l=e||W_,ow.PerformanceNavigationTiming?e=0<(e=ow.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ow.g&&ow.g.Ka&&ow.g.Ka()&&ow.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var W_=10;function H_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function K_(e){return e.h?1:e.g?e.g.size:0}function G_(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Q_(e,t){e.g?e.g.add(t):e.h=t}function Y_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $_(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return yw(e.i)}z_.prototype.cancel=function(){if(this.i=$_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var J_,X_=function(){function e(){p(this,e)}return y(e,[{key:"stringify",value:function(e){return ow.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return ow.JSON.parse(e,void 0)}}]),e}();function Z_(){this.g=new X_}function ex(e,t,n){var r=n||"";try{b_(e,(function(e,n){var i=e;uw(e)&&(i=pk(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function tx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function nx(e){this.l=e.fc||null,this.j=e.ob||!1}function rx(e,t){fk.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ix,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vw(nx,Yk),nx.prototype.g=function(){return new rx(this.l,this.j)},nx.prototype.i=(J_={},function(){return J_}),vw(rx,fk);var ix=0;function ax(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ox(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sx(e)}function sx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nw=rx.prototype).open=function(e,t){if(this.readyState!=ix)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sx(this)},nw.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ow).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},nw.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ox(this)),this.readyState=ix},nw.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sx(this)),this.g&&(this.readyState=3,sx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ow.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ax(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},nw.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ox(this):sx(this),3==this.readyState&&ax(this)}},nw.Za=function(e){this.g&&(this.response=this.responseText=e,ox(this))},nw.Ya=function(e){this.g&&(this.response=e,ox(this))},nw.ka=function(){this.g&&ox(this)},nw.setRequestHeader=function(e,t){this.v.append(e,t)},nw.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nw.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ux=ow.JSON.parse;function cx(e){fk.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lx,this.L=this.M=!1}vw(cx,fk);var lx="",fx=/^https?$/i,hx=["POST","PUT"];function dx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,px(e),mx(e)}function px(e){e.F||(e.F=!0,hk(e,"complete"),hk(e,"error"))}function vx(e){if(e.h&&"undefined"!=typeof aw&&(!e.C[1]||4!=yx(e)||2!=e.da()))if(e.v&&4==yx(e))Ak(e.La,0,e);else if(hk(e,"readystatechange"),4==yx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(w_)[1]||null;!a&&ow.self&&ow.self.location&&(a=ow.self.location.protocol.slice(0,-1)),i=!fx.test(a?a.toLowerCase():"")}t=i}if(t)hk(e,"complete"),hk(e,"success");else{e.m=6;try{var o=2<yx(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",px(e)}}finally{mx(e)}}}function mx(e,t){if(e.g){gx(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||hk(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function gx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ow.clearTimeout(e.A),e.A=null)}function yx(e){return e.g?e.g.readyState:0}function bx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case lx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(CC){return null}}function wx(e){var t="";return Kw(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function kx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wx(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):E_(e,t,n))}function _x(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xx(e){this.Ga=0,this.j=[],this.l=new Mk,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_x("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_x("baseRetryDelayMs",5e3,e),this.hb=_x("retryDelaySeedMs",1e4,e),this.eb=_x("forwardChannelMaxRetries",2,e),this.xa=_x("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new z_(e&&e.concurrentRequestLimit),this.Ja=new Z_,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Cx(e){if(Ex(e),3==e.H){var t=e.W++,n=__(e.I);if(E_(n,"SID",e.K),E_(n,"RID",t),E_(n,"TYPE","terminate"),Ax(e,n),(t=new r_(e,e.l,t)).L=2,t.v=T_(__(n)),n=!1,ow.navigator&&ow.navigator.sendBeacon)try{n=ow.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ow.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),d_(t)}Ux(e)}function Sx(e){e.g&&(Rx(e),e.g.cancel(),e.g=null)}function Ex(e){Sx(e),e.u&&(ow.clearTimeout(e.u),e.u=null),Lx(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ow.clearTimeout(e.m),e.m=null)}function Tx(e){if(!H_(e.i)&&!e.m){e.m=!0;var t=e.Na;_k||Sk(),xk||(_k(),xk=!0),Ck.add(t,e),e.C=0}}function Ix(e,t){var n;n=t?t.m:e.W++;var r=__(e.I);E_(r,"SID",e.K),E_(r,"RID",n),E_(r,"AID",e.V),Ax(e,r),e.o&&e.s&&kx(r,e.o,e.s),n=new r_(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Nx(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Q_(e.i,n),u_(n,r,t)}function Ax(e,t){e.na&&Kw(e.na,(function(e,n){E_(t,n,e)})),e.h&&b_({},(function(e,n){E_(t,n,e)}))}function Nx(e,t,n){n=Math.min(e.j.length,n);var r=e.h?dw(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{ex(l,o,"req"+c+"_")}catch(LC){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Px(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;_k||Sk(),xk||(_k(),xk=!0),Ck.add(t,e),e.A=0}}function Ox(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Kk(dw(e.Ma,e),jx(e,e.A)),e.A++,!0)}function Rx(e){null!=e.B&&(ow.clearTimeout(e.B),e.B=null)}function Dx(e){e.g=new r_(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=__(e.wa);E_(t,"RID","rpc"),E_(t,"SID",e.K),E_(t,"AID",e.V),E_(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&E_(t,"TO",e.qa),E_(t,"TYPE","xmlhttp"),Ax(e,t),e.o&&e.s&&kx(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=T_(__(t)),n.s=null,n.S=!0,c_(n,e)}function Lx(e){null!=e.v&&(ow.clearTimeout(e.v),e.v=null)}function Mx(e,t){var n=null;if(e.g==t){Lx(e),Rx(e),e.g=null;var r=2}else{if(!G_(e.i,t))return;n=t.F,Y_(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;hk(r=Bk(),new Hk(r,n)),Tx(e)}else Px(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(K_(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Kk(dw(e.Na,e,t),jx(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ox(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fx(e,5);break;case 4:Fx(e,10);break;case 3:Fx(e,6);break;default:Fx(e,2)}}function jx(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Fx(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=dw(e.pb,e);n||(n=new k_("//www.google.com/images/cleardot.gif"),ow.location&&"http"==ow.location.protocol||x_(n,"https"),T_(n)),function(e,t){var n=new Mk;if(ow.Image){var r=new Image;r.onload=pw(tx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pw(tx,n,r,"TestLoadImage: error",!1,t),r.onabort=pw(tx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pw(tx,n,r,"TestLoadImage: timeout",!1,t),ow.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wk(2);e.H=0,e.h&&e.h.za(t),Ux(e),Ex(e)}function Ux(e){if(e.H=0,e.ma=[],e.h){var t=$_(e.i);0==t.length&&0==e.j.length||(bw(e.ma,t),bw(e.ma,e.j),e.i.i.length=0,yw(e.j),e.j.length=0),e.h.ya()}}function Bx(e,t,n){var r=n instanceof k_?__(n):new k_(n);if(""!=r.g)t&&(r.g=t+"."+r.g),C_(r,r.m);else{var i=ow.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new k_(null);r&&x_(a,r),t&&(a.g=t),i&&C_(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&E_(r,n,t),E_(r,"VER",e.ra),Ax(e,r),r}function Vx(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new cx(new nx({ob:!0})):new cx(e.va)).Oa(e.J),t}function qx(){}function zx(){if(Aw&&!(10<=Number(Uw)))throw Error("Environmental error: no available transport.")}function Wx(e,t){fk.call(this),this.g=new xx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!_w(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_w(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gx(this)}function Hx(e){e_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Kx(){t_.call(this),this.status=1}function Gx(e){this.g=e}function Qx(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yx(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function $x(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(nw=cx.prototype).Oa=function(e){this.M=e},nw.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xk.g(),this.C=this.u?$k(this.u):$k(Xk),this.g.onreadystatechange=dw(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void dx(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=I(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ow.FormData&&e instanceof ow.FormData,!(0<=gw(hx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=I(n);try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gx(this),0<this.B&&((this.L=function(e){return Aw&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dw(this.ua,this)):this.A=Ak(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){dx(this,s)}},nw.ua=function(){"undefined"!=typeof aw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hk(this,"timeout"),this.abort(8))},nw.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hk(this,"complete"),hk(this,"abort"),mx(this))},nw.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mx(this,!0)),cx.$.N.call(this)},nw.La=function(){this.s||(this.G||this.v||this.l?vx(this):this.kb())},nw.kb=function(){vx(this)},nw.isActive=function(){return!!this.g},nw.da=function(){try{return 2<yx(this)?this.g.status:-1}catch(J_){return-1}},nw.ja=function(){try{return this.g?this.g.responseText:""}catch(J_){return""}},nw.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ux(t)}},nw.Ia=function(){return this.m},nw.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(nw=xx.prototype).ra=8,nw.H=1,nw.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new r_(this,this.l,e),n=this.s;if(this.U&&(n?Yw(n=Gw(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Nx(this,t,r),E_(i=__(this.I),"RID",e),E_(i,"CVER",22),this.F&&E_(i,"X-HTTP-Session-Id",this.F),Ax(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(wx(n)))+"&"+r:this.o&&kx(i,this.o,n)),Q_(this.i,t),this.bb&&E_(i,"TYPE","init"),this.P?(E_(i,"$req",r),E_(i,"SID","null"),t.aa=!0,u_(t,i,null)):u_(t,i,r),this.H=2}}else 3==this.H&&(e?Ix(this,e):0==this.j.length||H_(this.i)||Ix(this))},nw.Ma=function(){if(this.u=null,Dx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Kk(dw(this.jb,this),e)}},nw.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wk(10),Sx(this),Dx(this))},nw.ib=function(){null!=this.v&&(this.v=null,Sx(this),Ox(this),Wk(19))},nw.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Wk(2)):(this.l.info("Failed to ping google.com"),Wk(1))},nw.isActive=function(){return!!this.h&&this.h.isActive(this)},(nw=qx.prototype).Ba=function(){},nw.Aa=function(){},nw.za=function(){},nw.ya=function(){},nw.isActive=function(){return!0},nw.Va=function(){},zx.prototype.g=function(e,t){return new Wx(e,t)},vw(Wx,fk),Wx.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Wk(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Bx(e,null,e.Y),Tx(e)},Wx.prototype.close=function(){Cx(this.g)},Wx.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=pk(e),e=n);t.j.push(new q_(t.fb++,e)),3==t.H&&Tx(t)},Wx.prototype.N=function(){this.g.h=null,delete this.j,Cx(this.g),delete this.g,Wx.$.N.call(this)},vw(Hx,e_),vw(Kx,t_),vw(Gx,qx),Gx.prototype.Ba=function(){hk(this.g,"a")},Gx.prototype.Aa=function(e){hk(this.g,new Hx(e))},Gx.prototype.za=function(e){hk(this.g,new Kx)},Gx.prototype.ya=function(){hk(this.g,"b")},vw(Qx,(function(){this.blockSize=-1})),Qx.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qx.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Yx(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Yx(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Yx(this,r),i=0;break}}this.h=i,this.i+=t},Qx.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Jx={};function Xx(e){return-128<=e&&128>e?function(e,t){var n=Jx;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new $x([0|e],0>e?-1:0)})):new $x([0|e],0>e?-1:0)}function Zx(e){if(isNaN(e)||!isFinite(e))return tC;if(0>e)return oC(Zx(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=eC;return new $x(t,0)}var eC=4294967296,tC=Xx(0),nC=Xx(1),rC=Xx(16777216);function iC(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function aC(e){return-1==e.h}function oC(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new $x(n,~e.h).add(nC)}function sC(e,t){return e.add(oC(t))}function uC(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function cC(e,t){this.g=e,this.h=t}function lC(e,t){if(iC(t))throw Error("division by zero");if(iC(e))return new cC(tC,tC);if(aC(e))return t=lC(oC(e),t),new cC(oC(t.g),oC(t.h));if(aC(t))return t=lC(e,oC(t)),new cC(oC(t.g),t.h);if(30<e.g.length){if(aC(e)||aC(t))throw Error("slowDivide_ only works with positive integers.");for(var n=nC,r=t;0>=r.X(e);)n=fC(n),r=fC(r);var i=hC(n,1),a=hC(r,1);for(r=hC(r,2),n=hC(n,2);!iC(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=hC(r,1),n=hC(n,1)}return t=sC(e,i.R(t)),new cC(i,t)}for(i=tC;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Zx(n)).R(t);aC(o)||0<o.X(e);)o=(a=Zx(n-=r)).R(t);iC(a)&&(a=nC),i=i.add(a),e=sC(e,o)}return new cC(i,e)}function fC(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new $x(n,e.h)}function hC(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new $x(i,e.h)}(nw=$x.prototype).ea=function(){if(aC(this))return-oC(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:eC+r)*t,t*=eC}return e},nw.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(iC(this))return"0";if(aC(this))return"-"+oC(this).toString(e);for(var t=Zx(Math.pow(e,6)),n=this,r="";;){var i=lC(n,t).g,a=((0<(n=sC(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(iC(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},nw.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},nw.X=function(e){return aC(e=sC(this,e))?-1:iC(e)?0:1},nw.abs=function(){return aC(this)?oC(this):this},nw.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new $x(n,-2147483648&n[n.length-1]?-1:0)},nw.R=function(e){if(iC(this)||iC(e))return tC;if(aC(this))return aC(e)?oC(this).R(oC(e)):oC(oC(this).R(e));if(aC(e))return oC(this.R(oC(e)));if(0>this.X(rC)&&0>e.X(rC))return Zx(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,uC(n,2*r+2*i),n[2*r+2*i+1]+=a*u,uC(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,uC(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,uC(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new $x(n,0)},nw.gb=function(e){return lC(this,e).h},nw.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new $x(n,this.h&e.h)},nw.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new $x(n,this.h|e.h)},nw.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new $x(n,this.h^e.h)},zx.prototype.createWebChannel=zx.prototype.g,Wx.prototype.send=Wx.prototype.u,Wx.prototype.open=Wx.prototype.m,Wx.prototype.close=Wx.prototype.close,Gk.NO_ERROR=0,Gk.TIMEOUT=8,Gk.HTTP_ERROR=6,Qk.COMPLETE="complete",Jk.EventType=Zk,Zk.OPEN="a",Zk.CLOSE="b",Zk.ERROR="c",Zk.MESSAGE="d",fk.prototype.listen=fk.prototype.O,cx.prototype.listenOnce=cx.prototype.P,cx.prototype.getLastError=cx.prototype.Sa,cx.prototype.getLastErrorCode=cx.prototype.Ia,cx.prototype.getStatus=cx.prototype.da,cx.prototype.getResponseJson=cx.prototype.Wa,cx.prototype.getResponseText=cx.prototype.ja,cx.prototype.send=cx.prototype.ha,cx.prototype.setWithCredentials=cx.prototype.Oa,Qx.prototype.digest=Qx.prototype.l,Qx.prototype.reset=Qx.prototype.reset,Qx.prototype.update=Qx.prototype.j,$x.prototype.add=$x.prototype.add,$x.prototype.multiply=$x.prototype.R,$x.prototype.modulo=$x.prototype.gb,$x.prototype.compare=$x.prototype.X,$x.prototype.toNumber=$x.prototype.ea,$x.prototype.toString=$x.prototype.toString,$x.prototype.getBits=$x.prototype.D,$x.fromNumber=Zx,$x.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return oC(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Zx(Math.pow(n,8)),i=tC,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Zx(Math.pow(n,o)),i=i.R(o).add(Zx(s))):i=(i=i.R(r)).add(Zx(s))}return i};var dC=iw.createWebChannelTransport=function(){return new zx},pC=iw.getStatEventTarget=function(){return Bk()},vC=iw.ErrorCode=Gk,mC=iw.EventType=Qk,gC=iw.Event=Fk,yC=iw.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bC=iw.FetchXmlHttpFactory=nx,wC=iw.WebChannel=Jk,kC=iw.XhrIo=cx,_C=iw.Md5=Qx,xC=iw.Integer=$x,CC="@firebase/firestore",SC=function(){function e(t){p(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();SC.UNAUTHENTICATED=new SC(null),SC.GOOGLE_CREDENTIALS=new SC("google-credentials-uid"),SC.FIRST_PARTY=new SC("first-party-uid"),SC.MOCK_USER=new SC("mock-user");var EC="9.23.0",TC=new Dn("@firebase/firestore");function IC(){return TC.logLevel}function AC(e){if(TC.logLevel<=Tn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(OC);TC.debug.apply(TC,["Firestore (".concat(EC,"): ").concat(e)].concat(d(i)))}}function NC(e){if(TC.logLevel<=Tn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(OC);TC.error.apply(TC,["Firestore (".concat(EC,"): ").concat(e)].concat(d(i)))}}function PC(e){if(TC.logLevel<=Tn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(OC);TC.warn.apply(TC,["Firestore (".concat(EC,"): ").concat(e)].concat(d(i)))}}function OC(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function RC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(EC,") INTERNAL ASSERTION FAILED: ")+e;throw NC(t),new Error(t)}function DC(e,t){e||RC()}function LC(e,t){return e}var MC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jC=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(Qt),FC=y((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),UC=y((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),BC=function(){function e(){p(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(SC.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),VC=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qC=function(){function e(t){p(this,e),this.t=t,this.currentUser=SC.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new FC;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new FC,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){AC("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(AC("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new FC)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(AC("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(DC("string"==typeof n.accessToken),new UC(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return DC(null===e||"string"==typeof e),new SC(e)}}]),e}(),zC=function(){function e(t,n,r){p(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=SC.FIRST_PARTY,this.g=new Map}return y(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),WC=function(){function e(t,n,r){p(this,e),this.h=t,this.l=n,this.m=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new zC(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(SC.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),HC=y((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),KC=function(){function e(t){p(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&AC("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,AC("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){AC("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):AC("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(DC("string"==typeof t.token),e.T=t.token,new HC(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function GC(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var QC=function(){function e(){p(this,e)}return y(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=GC(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function YC(e,t){return e<t?-1:e>t?1:0}function $C(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function JC(e){return e+"\0"}var XC=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new jC(MC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jC(MC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new jC(MC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jC(MC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?YC(this.nanoseconds,e.nanoseconds):YC(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ZC=function(){function e(t){p(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new XC(0,0))}},{key:"max",value:function(){return new e(new XC(253402300799,999999999))}}]),e}(),eS=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&RC(),void 0===r?r=t.length-n:r>t.length-n&&RC(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),tS=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new jC(MC.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(eS),nS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rS=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return nS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new jC(MC.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new jC(MC.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jC(MC.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new jC(MC.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(eS),iS=function(){function e(t){p(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===tS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(tS.fromString(t))}},{key:"fromName",value:function(t){return new e(tS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(tS.emptyPath())}},{key:"comparator",value:function(e,t){return tS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new tS(t.slice()))}}]),e}(),aS=y((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function oS(e){return e.fields.find((function(e){return 2===e.kind}))}function sS(e){return e.fields.filter((function(e){return 2!==e.kind}))}aS.UNKNOWN_ID=-1;var uS=y((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var cS=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,hS.min())}}]),e}();function lS(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ZC.fromTimestamp(1e9===r?new XC(n+1,0):new XC(n,r));return new hS(i,iS.empty(),t)}function fS(e){return new hS(e.readTime,e.key,-1)}var hS=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(ZC.min(),iS.empty(),-1)}},{key:"max",value:function(){return new e(ZC.max(),iS.empty(),-1)}}]),e}();function dS(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=iS.comparator(e.documentKey,t.documentKey))?n:YC(e.largestBatchId,t.largestBatchId)}var pS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vS=function(){function e(){p(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function mS(e){return gS.apply(this,arguments)}function gS(){return(gS=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===MC.FAILED_PRECONDITION&&t.message===pS){e.next=2;break}throw t;case 2:AC("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yS=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&RC(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),bS=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new FC,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new _S(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=TS(e.target.error);r.v.reject(new _S(t,n))}}return y(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(AC("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new CS(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _S(n,t)}}}]),e}(),wS=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Bt())&&NC("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"$",value:function(){var e=_n(wn().mark((function e(t){var n=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return AC("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _S(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new jC(MC.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new jC(MC.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new _S(t,n))},i.onupgradeneeded=function(e){AC("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){AC("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=_n(wn().mark((function e(t,n,r,i){var a,o,s,u,c=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=wn().mark((function e(){var n,s,u,l;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=bS.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),yS.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,AC("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return AC("SimpleDb","Removing database:",e),SS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Gt())return!1;if(e.C())return!0;var t=Bt(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/toVoice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),kS=function(){function e(t){p(this,e),this.L=t,this.q=!1,this.U=null}return y(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return SS(this.L.delete())}}]),e}(),_S=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,MC.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(jC);function xS(e){return"IndexedDbTransactionError"===e.name}var CS=function(){function e(t){p(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(AC("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(AC("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),SS(n)}},{key:"add",value:function(e){return AC("SimpleDb","ADD",this.store.name,e,e),SS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return SS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),AC("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return AC("SimpleDb","DELETE",this.store.name,e),SS(this.store.delete(e))}},{key:"count",value:function(){return AC("SimpleDb","COUNT",this.store.name),SS(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new yS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new yS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){AC("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new yS((function(n,r){t.onerror=function(e){var t=TS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new yS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new kS(i),o=t(i.primaryKey,i.value,a);if(o instanceof yS){var s=o.catch((function(e){return a.done(),yS.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return yS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function SS(e){return new yS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=TS(e.target.error);n(t)}}))}var ES=!1;function TS(e){var t=wS.S(Bt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new jC("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ES||(ES=!0,setTimeout((function(){throw r}),0)),r}}return e}var IS=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return y(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;AC("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=AC,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!xS(e.t4)){e.next=17;break}AC("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,mS(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),AS=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"nt",value:function(){var e=_n(wn().mark((function e(){var t,n=this,r=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return yS.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return AC("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return AC("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=fS(t);dS(r,n)>0&&(n=r)})),new hS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),NS=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function PS(e){return null==e}function OS(e){return 0===e&&1/e==-1/0}function RS(e){return"number"==typeof e&&Number.isInteger(e)&&!OS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function DS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=MS(t)),t=LS(e.get(n),t);return MS(t)}function LS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function MS(e){return e+"\x01\x01"}function jS(e){var t=e.length;if(DC(t>=2),2===t)return DC("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),tS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&RC(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:RC()}a=o+2}return new tS(r)}NS.ct=-1;var FS=["userId","batchId"];function US(e,t){return[e,DS(t)]}function BS(e,t,n){return[e,DS(t),n]}var VS={},qS=["prefixPath","collectionGroup","readTime","documentId"],zS=["prefixPath","collectionGroup","documentId"],WS=["collectionGroup","readTime","prefixPath","documentId"],HS=["canonicalId","targetId"],KS=["targetId","path"],GS=["path","targetId"],QS=["collectionId","parent"],YS=["indexId","uid"],$S=["uid","sequenceNumber"],JS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XS=["indexId","uid","orderedDocumentKey"],ZS=["userId","collectionPath","documentId"],eE=["userId","collectionPath","largestBatchId"],tE=["userId","collectionGroup","largestBatchId"],nE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rE=[].concat(d(nE),["documentOverlays"]),iE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aE=iE,oE=[].concat(aE,["indexConfiguration","indexState","indexEntries"]),sE=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return y(n)}(vS);function uE(e,t){var n=LC(e);return wS.M(n.ht,t)}function cE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var hE=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||pE.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dE(this.root,e,this.comparator,!0)}}]),e}(),dE=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pE=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw RC();if(this.right.isRed())throw RC();var e=this.left.check();if(e!==this.right.check())throw RC();return e+(this.isRed()?0:1)}}]),e}();pE.EMPTY=null,pE.RED=!0,pE.BLACK=!1,pE.EMPTY=new(function(){function e(){p(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw RC()}},{key:"value",get:function(){throw RC()}},{key:"color",get:function(){throw RC()}},{key:"left",get:function(){throw RC()}},{key:"right",get:function(){throw RC()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vE=function(){function e(t){p(this,e),this.comparator=t,this.data=new hE(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mE(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mE(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),mE=function(){function e(t){p(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function gE(e){return e.hasNext()?e.getNext():void 0}var yE=function(){function e(t){p(this,e),this.fields=t,t.sort(rS.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new vE(rS.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=I(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $C(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),bE=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(E(Error));var wE=function(e){function t(e){p(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return YC(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bE("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();wE.EMPTY_BYTE_STRING=new wE("");var kE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _E(e){if(DC(!!e),"string"==typeof e){var t=0,n=kE.exec(e);if(DC(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xE(e.seconds),nanos:xE(e.nanos)}}function xE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function CE(e){return"string"==typeof e?wE.fromBase64String(e):wE.fromUint8Array(e)}function SE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function EE(e){var t=e.mapValue.fields.__previous_value__;return SE(t)?EE(t):t}function TE(e){var t=_E(e.mapValue.fields.__local_write_time__.timestampValue);return new XC(t.seconds,t.nanos)}var IE=y((function e(t,n,r,i,a,o,s,u,c){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),AE=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),NE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},PE={nullValue:"NULL_VALUE"};function OE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?SE(e)?4:KE(e)?9007199254740991:10:RC()}function RE(e,t){if(e===t)return!0;var n=OE(e);if(n!==OE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return TE(e).isEqual(TE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_E(e.timestampValue),r=_E(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return CE(e.bytesValue).isEqual(CE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xE(e.geoPointValue.latitude)===xE(t.geoPointValue.latitude)&&xE(e.geoPointValue.longitude)===xE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xE(e.integerValue)===xE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xE(e.doubleValue),r=xE(t.doubleValue);return n===r?OS(n)===OS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $C(e.arrayValue.values||[],t.arrayValue.values||[],RE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cE(n)!==cE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!RE(n[i],r[i])))return!1;return!0}(e,t);default:return RC()}}function DE(e,t){return void 0!==(e.values||[]).find((function(e){return RE(e,t)}))}function LE(e,t){if(e===t)return 0;var n=OE(e),r=OE(t);if(n!==r)return YC(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return YC(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xE(e.integerValue||e.doubleValue),r=xE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ME(e.timestampValue,t.timestampValue);case 4:return ME(TE(e),TE(t));case 5:return YC(e.stringValue,t.stringValue);case 6:return function(e,t){var n=CE(e),r=CE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=YC(n[i],r[i]);if(0!==a)return a}return YC(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=YC(xE(e.latitude),xE(t.latitude));return 0!==n?n:YC(xE(e.longitude),xE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=LE(n[i],r[i]);if(a)return a}return YC(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===NE.mapValue&&t===NE.mapValue)return 0;if(e===NE.mapValue)return 1;if(t===NE.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=YC(r[o],a[o]);if(0!==s)return s;var u=LE(n[r[o]],i[a[o]]);if(0!==u)return u}return YC(r.length,a.length)}(e.mapValue,t.mapValue);default:throw RC()}}function ME(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return YC(e,t);var n=_E(e),r=_E(t),i=YC(n.seconds,r.seconds);return 0!==i?i:YC(n.nanos,r.nanos)}function jE(e){return FE(e)}function FE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_E(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?CE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,iS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=FE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(FE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):RC();var t,n}function UE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function BE(e){return!!e&&"integerValue"in e}function VE(e){return!!e&&"arrayValue"in e}function qE(e){return!!e&&"nullValue"in e}function zE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function WE(e){return!!e&&"mapValue"in e}function HE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=HE(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=HE(e.arrayValue.values[r]);return n}return Object.assign({},e)}function KE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function GE(e){return"nullValue"in e?PE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?UE(AE.empty(),iS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:RC()}function QE(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?UE(AE.empty(),iS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?NE:RC()}function YE(e,t){var n=LE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $E(e,t){var n=LE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var JE=function(){function e(t){p(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!WE(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=HE(t)}},{key:"setAll",value:function(e){var t=this,n=rS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=HE(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());WE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return RE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];WE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lE(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(HE(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function XE(e){var t=[];return lE(e.fields,(function(e,n){var r=new rS([e]);if(WE(n)){var i=XE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=I(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new yE(t)}var ZE=function(){function e(t,n,r,i,a,o,s){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(ZC.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=JE.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=JE.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ZC.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ZC.min(),ZC.min(),ZC.min(),JE.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,ZC.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ZC.min(),ZC.min(),JE.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ZC.min(),ZC.min(),JE.empty(),2)}}]),e}(),eT=y((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function tT(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?iS.comparator(iS.fromName(o.referenceValue),n.key):LE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nT(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!RE(e.position[n],t.position[n]))return!1;return!0}var rT=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function iT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var aT=y((function e(){p(this,e)})),oT=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(LE(t,this.value)):null!==t&&OE(this.value)===OE(t)&&this.matchesComparison(LE(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return RC()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new mT(e,t,r):"array-contains"===t?new wT(e,r):"in"===t?new kT(e,r):"not-in"===t?new _T(e,r):"array-contains-any"===t?new xT(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new gT(e,n):new yT(e,n)}}]),n}(aT),sT=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return y(n,[{key:"matches",value:function(e){return uT(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=I(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(aT);function uT(e){return"and"===e.op}function cT(e){return"or"===e.op}function lT(e){return fT(e)&&uT(e)}function fT(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof sT)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function hT(e){if(e instanceof oT)return e.field.canonicalString()+e.op.toString()+jE(e.value);if(lT(e))return e.filters.map((function(e){return hT(e)})).join(",");var t=e.filters.map((function(e){return hT(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function dT(e,t){return e instanceof oT?function(e,t){return t instanceof oT&&e.op===t.op&&e.field.isEqual(t.field)&&RE(e.value,t.value)}(e,t):e instanceof sT?function(e,t){return t instanceof sT&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&dT(n,t.filters[r])}),!0)}(e,t):void RC()}function pT(e,t){var n=e.filters.concat(t);return sT.create(n,e.op)}function vT(e){return e instanceof oT?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(jE(e.value))}(e):e instanceof sT?function(e){return e.op.toString()+" {"+e.getFilters().map(vT).join(" ,")+"}"}(e):"Filter"}var mT=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=iS.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=iS.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(oT),gT=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=bT("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oT),yT=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=bT("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oT);function bT(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return iS.fromName(e.referenceValue)}))}var wT=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return VE(t)&&DE(t.arrayValue,this.value)}}]),n}(oT),kT=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&DE(this.value.arrayValue,t)}}]),n}(oT),_T=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(DE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!DE(this.value.arrayValue,t)}}]),n}(oT),xT=function(e){w(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!VE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return DE(t.value.arrayValue,e)}))}}]),n}(oT),CT=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function ST(e){return new CT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ET(e){var t=LC(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return hT(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),PS(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jE(e)})).join(",")),t.dt=n}return t.dt}function TT(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!iT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!dT(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nT(e.startAt,t.startAt)&&nT(e.endAt,t.endAt)}function IT(e){return iS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function AT(e,t){return e.filters.filter((function(e){return e instanceof oT&&e.field.isEqual(t)}))}function NT(e,t,n){var r,i=PE,a=!0,o=I(AT(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=PE,c=!0;switch(s.op){case"<":case"<=":u=GE(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=PE}YE({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];YE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function PT(e,t,n){var r,i=NE,a=!0,o=I(AT(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=NE,c=!0;switch(s.op){case">=":case">":u=QE(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=NE}$E({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$E({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var OT=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function RT(e,t,n,r,i,a,o,s){return new OT(e,t,n,r,i,a,o,s)}function DT(e){return new OT(e)}function LT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function MT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jT(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function FT(e){return null!==e.collectionGroup}function UT(e){var t=LC(e);if(null===t.wt){t.wt=[];var n=jT(t),r=MT(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new rT(n)),t.wt.push(new rT(rS.keyField(),"asc"));else{var i,a=!1,o=I(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new rT(rS.keyField(),u))}}}return t.wt}function BT(e){var t=LC(e);if(!t._t)if("F"===t.limitType)t._t=ST(t.path,t.collectionGroup,UT(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=I(UT(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rT(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new eT(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new eT(t.startAt.position,t.startAt.inclusive):null;t._t=ST(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function VT(e,t){t.getFirstInequalityField(),jT(e);var n=e.filters.concat([t]);return new OT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qT(e,t,n){return new OT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zT(e,t){return TT(BT(e),BT(t))&&e.limitType===t.limitType}function WT(e){return"".concat(ET(BT(e)),"|lt:").concat(e.limitType)}function HT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return vT(e)})).join(", "),"]")),PS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jE(e)})).join(",")),"Target(".concat(t,")")}(BT(e)),"; limitType=").concat(e.limitType,")")}function KT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):iS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(UT(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=tT(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,UT(e),t))&&!(e.endAt&&!function(e,t,n){var r=tT(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,UT(e),t))}(e,t)}function GT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function QT(e){return function(t,n){var r,i=!1,a=I(UT(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=YT(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function YT(e,t,n){var r=e.field.isKeyField()?iS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?LE(r,i):RC()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return RC()}}var $T=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lE(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),JT=new hE(iS.comparator);function XT(){return JT}var ZT=new hE(iS.comparator);function eI(){for(var e=ZT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tI(e){var t=ZT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nI(){return iI()}function rI(){return iI()}function iI(){return new $T((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var aI=new hE(iS.comparator),oI=new vE(iS.comparator);function sI(){for(var e=oI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var uI=new vE(YC);function cI(){return uI}function lI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:OS(t)?"-0":t}}function fI(e){return{integerValue:""+e}}function hI(e,t){return RS(t)?fI(t):lI(e,t)}var dI=y((function e(){p(this,e),this._=void 0}));function pI(e,t,n){return e instanceof gI?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&SE(t)&&(t=EE(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yI?bI(e,t):e instanceof wI?kI(e,t):function(e,t){var n=mI(e,t),r=xI(n)+xI(e.gt);return BE(n)&&BE(e.gt)?fI(r):lI(e.serializer,r)}(e,t)}function vI(e,t,n){return e instanceof yI?bI(e,t):e instanceof wI?kI(e,t):n}function mI(e,t){return e instanceof _I?BE(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gI=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n)}(dI),yI=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return y(n)}(dI);function bI(e,t){var n,r=CI(t),i=I(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return RE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wI=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return y(n)}(dI);function kI(e,t){var n,r=CI(t),i=I(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!RE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _I=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return y(n)}(dI);function xI(e){return xE(e.integerValue||e.doubleValue)}function CI(e){return VE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var SI=y((function e(t,n){p(this,e),this.field=t,this.transform=n}));var EI=y((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),TI=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function II(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var AI=y((function e(){p(this,e)}));function NI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qI(e.key,TI.none()):new LI(e.key,e.data,TI.none());var n,r=e.data,i=JE.empty(),a=new vE(rS.comparator),o=I(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new MI(e.key,i,new yE(a.toArray()),TI.none())}function PI(e,t,n){e instanceof LI?function(e,t,n){var r=e.value.clone(),i=FI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof MI?function(e,t,n){if(II(e.precondition,t)){var r=FI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function OI(e,t,n,r){return e instanceof LI?function(e,t,n,r){if(!II(e.precondition,t))return n;var i=e.value.clone(),a=UI(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof MI?function(e,t,n,r){if(!II(e.precondition,t))return n;var i=UI(e.fieldTransforms,r,t),a=t.data;return a.setAll(jI(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return II(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function RI(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=mI(a.transform,o||null);null!=s&&(null===r&&(r=JE.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function DI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$C(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yI&&t instanceof yI||e instanceof wI&&t instanceof wI?$C(e.elements,t.elements,RE):e instanceof _I&&t instanceof _I?RE(e.gt,t.gt):e instanceof gI&&t instanceof gI}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var LI=function(e){w(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AI),MI=function(e){w(n,e);var t=C(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(AI);function jI(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function FI(e,t,n){var r=new Map;DC(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,vI(o,s,n[i]))}return r}function UI(e,t,n){var r,i=new Map,a=I(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,pI(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var BI,VI,qI=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AI),zI=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AI),WI=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&PI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=OI(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=I(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=OI(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rI();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=NI(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ZC.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$C(this.mutations,e.mutations,(function(e,t){return DI(e,t)}))&&$C(this.baseMutations,e.baseMutations,(function(e,t){return DI(e,t)}))}}]),e}(),HI=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){DC(t.mutations.length===r.length);for(var i=aI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),KI=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),GI=y((function e(t,n){p(this,e),this.count=t,this.unchangedNames=n}));function QI(e){switch(e){default:return RC();case MC.CANCELLED:case MC.UNKNOWN:case MC.DEADLINE_EXCEEDED:case MC.RESOURCE_EXHAUSTED:case MC.INTERNAL:case MC.UNAVAILABLE:case MC.UNAUTHENTICATED:return!1;case MC.INVALID_ARGUMENT:case MC.NOT_FOUND:case MC.ALREADY_EXISTS:case MC.PERMISSION_DENIED:case MC.FAILED_PRECONDITION:case MC.ABORTED:case MC.OUT_OF_RANGE:case MC.UNIMPLEMENTED:case MC.DATA_LOSS:return!0}}function YI(e){if(void 0===e)return NC("GRPC error has no .code"),MC.UNKNOWN;switch(e){case BI.OK:return MC.OK;case BI.CANCELLED:return MC.CANCELLED;case BI.UNKNOWN:return MC.UNKNOWN;case BI.DEADLINE_EXCEEDED:return MC.DEADLINE_EXCEEDED;case BI.RESOURCE_EXHAUSTED:return MC.RESOURCE_EXHAUSTED;case BI.INTERNAL:return MC.INTERNAL;case BI.UNAVAILABLE:return MC.UNAVAILABLE;case BI.UNAUTHENTICATED:return MC.UNAUTHENTICATED;case BI.INVALID_ARGUMENT:return MC.INVALID_ARGUMENT;case BI.NOT_FOUND:return MC.NOT_FOUND;case BI.ALREADY_EXISTS:return MC.ALREADY_EXISTS;case BI.PERMISSION_DENIED:return MC.PERMISSION_DENIED;case BI.FAILED_PRECONDITION:return MC.FAILED_PRECONDITION;case BI.ABORTED:return MC.ABORTED;case BI.OUT_OF_RANGE:return MC.OUT_OF_RANGE;case BI.UNIMPLEMENTED:return MC.UNIMPLEMENTED;case BI.DATA_LOSS:return MC.DATA_LOSS;default:return RC()}}(VI=BI||(BI={}))[VI.OK=0]="OK",VI[VI.CANCELLED=1]="CANCELLED",VI[VI.UNKNOWN=2]="UNKNOWN",VI[VI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",VI[VI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",VI[VI.NOT_FOUND=5]="NOT_FOUND",VI[VI.ALREADY_EXISTS=6]="ALREADY_EXISTS",VI[VI.PERMISSION_DENIED=7]="PERMISSION_DENIED",VI[VI.UNAUTHENTICATED=16]="UNAUTHENTICATED",VI[VI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",VI[VI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",VI[VI.ABORTED=10]="ABORTED",VI[VI.OUT_OF_RANGE=11]="OUT_OF_RANGE",VI[VI.UNIMPLEMENTED=12]="UNIMPLEMENTED",VI[VI.INTERNAL=13]="INTERNAL",VI[VI.UNAVAILABLE=14]="UNAVAILABLE",VI[VI.DATA_LOSS=15]="DATA_LOSS";var $I=function(){function e(){p(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return y(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return JI}},{key:"getOrCreateInstance",value:function(){return null===JI&&(JI=new e),JI}}]),e}(),JI=null;function XI(){return new TextEncoder}var ZI=new xC([4294967295,4294967295],0);function eA(e){var t=XI().encode(e),n=new _C;return n.update(t),new Uint8Array(n.digest())}function tA(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new xC([n,r],0),new xC([i,a],0)]}var nA=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rA("Invalid padding: ".concat(n));if(r<0)throw new rA("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new rA("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new rA("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=xC.fromNumber(this.It)}return y(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(xC.fromNumber(n)));return 1===r.compare(ZI)&&(r=new xC([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=f(tA(eA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=f(tA(eA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),rA=function(e){w(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(E(Error)),iA=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,aA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(ZC.min(),i,new hE(YC),XT(),sI())}}]),e}(),aA=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sI(),sI(),sI())}}]),e}(),oA=y((function e(t,n,r,i){p(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),sA=y((function e(t,n){p(this,e),this.targetId=t,this.Vt=n})),uA=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),cA=function(){function e(){p(this,e),this.St=0,this.Dt=hA(),this.Ct=wE.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return y(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=sI(),t=sI(),n=sI();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:RC()}})),new aA(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=hA()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),lA=function(){function e(t){p(this,e),this.Gt=t,this.Qt=new Map,this.jt=XT(),this.zt=fA(),this.Wt=new hE(YC)}return y(e,[{key:"Ht",value:function(e){var t,n=I(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=I(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:RC()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(IT(a))if(0===r){var o=new iS(a.path);this.Yt(n,o,ZE.newNoDocument(o,ZC.min()))}else DC(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=$I.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=CE(c).toUint8Array()}catch(e){if(e instanceof bE)return PC("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new nA(a,f,d)}catch(e){return PC(e instanceof rA?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&IT(a.target)){var o=new iS(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,ZE.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=sI();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new iA(e,n,this.Wt,this.jt,r);return this.jt=XT(),this.zt=fA(),this.Wt=new hE(YC),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new cA,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new vE(YC),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||AC("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new cA),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fA(){return new hE(iS.comparator)}function hA(){return new hE(iS.comparator)}var dA={asc:"ASCENDING",desc:"DESCENDING"},pA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vA={and:"AND",or:"OR"},mA=y((function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n}));function gA(e,t){return e.useProto3Json||PS(t)?t:{value:t}}function yA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wA(e,t){return yA(e,t.toTimestamp())}function kA(e){return DC(!!e),ZC.fromTimestamp(function(e){var t=_E(e);return new XC(t.seconds,t.nanos)}(e))}function _A(e,t){return function(e){return new tS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xA(e){var t=tS.fromString(e);return DC(KA(t)),t}function CA(e,t){return _A(e.databaseId,t.path)}function SA(e,t){var n=xA(t);if(n.get(1)!==e.databaseId.projectId)throw new jC(MC.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jC(MC.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new iS(AA(n))}function EA(e,t){return _A(e.databaseId,t)}function TA(e){var t=xA(e);return 4===t.length?tS.emptyPath():AA(t)}function IA(e){return new tS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AA(e){return DC(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function NA(e,t,n){return{name:CA(e,t),fields:n.value.mapValue.fields}}function PA(e,t,n){var r=SA(e,t.name),i=kA(t.updateTime),a=t.createTime?kA(t.createTime):ZC.min(),o=new JE({mapValue:{fields:t.fields}}),s=ZE.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function OA(e,t){return"found"in t?function(e,t){DC(!!t.found),t.found.name,t.found.updateTime;var n=SA(e,t.found.name),r=kA(t.found.updateTime),i=t.found.createTime?kA(t.found.createTime):ZC.min(),a=new JE({mapValue:{fields:t.found.fields}});return ZE.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){DC(!!t.missing),DC(!!t.readTime);var n=SA(e,t.missing),r=kA(t.readTime);return ZE.newNoDocument(n,r)}(e,t):RC()}function RA(e,t){var n;if(t instanceof LI)n={update:NA(e,t.key,t.value)};else if(t instanceof qI)n={delete:CA(e,t.key)};else if(t instanceof MI)n={update:NA(e,t.key,t.data),updateMask:HA(t.fieldMask)};else{if(!(t instanceof zI))return RC();n={verify:CA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wI)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _I)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw RC()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:RC()}(e,t.precondition)),n}function DA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?TI.updateTime(kA(e.updateTime)):void 0!==e.exists?TI.exists(e.exists):TI.none()}(t.currentDocument):TI.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)DC("REQUEST_TIME"===t.setToServerValue),n=new gI;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new yI(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wI(i)}else"increment"in t?n=new _I(e,t.increment):RC();var a=rS.fromServerFormat(t.fieldPath);return new SI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=SA(e,t.update.name),a=new JE({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new yE(t.map((function(e){return rS.fromServerFormat(e)})))}(t.updateMask);return new MI(i,a,o,n,r)}return new LI(i,a,n,r)}if(t.delete){var s=SA(e,t.delete);return new qI(s,n)}if(t.verify){var u=SA(e,t.verify);return new zI(u,n)}return RC()}function LA(e,t){return{documents:[EA(e,t.path)]}}function MA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=EA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=EA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return WA(sT.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qA(e.field),direction:UA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=gA(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function jA(e){var t=TA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){DC(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=FA(e);return t instanceof sT&&lT(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new rT(zA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return PS(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new eT(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new eT(n,t)}(n.endAt)),RT(t,i,s,o,u,"F",c,l)}function FA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zA(e.unaryFilter.field);return oT.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zA(e.unaryFilter.field);return oT.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zA(e.unaryFilter.field);return oT.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zA(e.unaryFilter.field);return oT.create(i,"!=",{nullValue:"NULL_VALUE"});default:return RC()}}(e):void 0!==e.fieldFilter?function(e){return oT.create(zA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return RC()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sT.create(e.compositeFilter.filters.map((function(e){return FA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return RC()}}(e.compositeFilter.op))}(e):RC()}function UA(e){return dA[e]}function BA(e){return pA[e]}function VA(e){return vA[e]}function qA(e){return{fieldPath:e.canonicalString()}}function zA(e){return rS.fromServerFormat(e.fieldPath)}function WA(e){return e instanceof oT?function(e){if("=="===e.op){if(zE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NAN"}};if(qE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NOT_NAN"}};if(qE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qA(e.field),op:BA(e.op),value:e.value}}}(e):e instanceof sT?function(e){var t=e.getFilters().map((function(e){return WA(e)}));return 1===t.length?t[0]:{compositeFilter:{op:VA(e.op),filters:t}}}(e):RC()}function HA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function KA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var GA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ZC.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ZC.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wE.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),QA=y((function e(t){p(this,e),this.fe=t}));function YA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$A(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:CA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yA(e,t.version.toTimestamp()),createTime:yA(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:JA(t.version)};else{if(!t.isUnknownDocument())return RC();r.unknownDocument={path:n.path.toArray(),version:JA(t.version)}}return r}function $A(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function JA(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function XA(e){var t=new XC(e.seconds,e.nanoseconds);return ZC.fromTimestamp(t)}function ZA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return DA(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return DA(e.fe,t)})),s=XC.fromMillis(t.localWriteTimeMs);return new WI(t.batchId,s,n,o)}function eN(e){var t,n,r=XA(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?XA(e.lastLimboFreeSnapshotVersion):ZC.min();return void 0!==e.query.documents?(DC(1===(n=e.query).documents.length),t=BT(DT(TA(n.documents[0])))):t=function(e){return BT(jA(e))}(e.query),new GA(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,wE.fromBase64String(e.resumeToken))}function tN(e,t){var n,r=JA(t.snapshotVersion),i=JA(t.lastLimboFreeSnapshotVersion);n=IT(t.target)?LA(e.fe,t.target):MA(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ET(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function nN(e){var t=jA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qT(t,t.limit,"L"):t}function rN(e,t){return new KI(t.largestBatchId,DA(e.fe,t.overlayMutation))}function iN(e,t){var n=t.path.lastSegment();return[e,DS(t.path.popLast()),n]}function aN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:JA(r.readTime),documentKey:DS(r.documentKey.path),largestBatchId:r.largestBatchId}}var oN=function(){function e(){p(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return sN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:XA(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return sN(e).put({bundleId:(n=t).id,createTime:JA(kA(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return uN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:nN(t.bundledQuery),readTime:XA(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return uN(e).put(function(e){return{name:e.name,readTime:JA(kA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function sN(e){return uE(e,"bundles")}function uN(e){return uE(e,"namedQueries")}var cN=function(){function e(t,n){p(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return lN(e).get(iN(this.userId,t)).next((function(e){return e?rN(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=nI();return yS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new KI(t,a);i.push(r.we(e,o))})),yS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(DS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(lN(e).J("collectionPathOverlayIndex",i))})),yS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=nI(),a=DS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lN(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=rN(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=nI(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lN(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=rN(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return lN(e).put(function(e,t,n){var r=f(iN(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:RA(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function lN(e){return uE(e,"documentOverlays")}var fN=function(){function e(){p(this,e)}return y(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(xE(e.integerValue));else if("doubleValue"in e){var n=xE(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),OS(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(CE(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?KE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):RC()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),iS.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function hN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function dN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=hN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}fN.Ve=new fN;var pN=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=dN(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=dN(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),vN=function(){function e(t){p(this,e),this.je=t}return y(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),mN=function(){function e(t){p(this,e),this.je=t}return y(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),gN=function(){function e(){p(this,e),this.je=new pN,this.ze=new vN(this.je),this.We=new mN(this.je)}return y(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),yN=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function bN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=wN(e.arrayValue,t.arrayValue))?n:0!==(n=wN(e.directionalValue,t.directionalValue))?n:iS.comparator(e.documentKey,t.documentKey)}function wN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var kN=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=I(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"tn",value:function(e){DC(e.collectionGroup===this.collectionId);var t=oS(e);if(void 0!==t&&!this.en(t))return!1;for(var n=sS(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=I(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function _N(e){var t,n;if(DC(e instanceof oT||e instanceof sT),e instanceof oT){if(e instanceof kT){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return oT.create(e.field,"==",t)})))||[];return sT.create(r,"or")}return e}var i=e.filters.map((function(e){return _N(e)}));return sT.create(i,e.op)}function xN(e){if(0===e.getFilters().length)return[];var t=TN(_N(e));return DC(EN(t)),CN(t)||SN(t)?[t]:t.getFilters()}function CN(e){return e instanceof oT}function SN(e){return e instanceof sT&&lT(e)}function EN(e){return CN(e)||SN(e)||function(e){if(e instanceof sT&&cT(e)){var t,n=I(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!CN(r)&&!SN(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function TN(e){if(DC(e instanceof oT||e instanceof sT),e instanceof oT)return e;if(1===e.filters.length)return TN(e.filters[0]);var t=e.filters.map((function(e){return TN(e)})),n=sT.create(t,e.op);return EN(n=NN(n))?n:(DC(n instanceof sT),DC(uT(n)),DC(n.filters.length>1),n.filters.reduce((function(e,t){return IN(e,t)})))}function IN(e,t){var n;return DC(e instanceof oT||e instanceof sT),DC(t instanceof oT||t instanceof sT),n=e instanceof oT?t instanceof oT?function(e,t){return sT.create([e,t],"and")}(e,t):AN(e,t):t instanceof oT?AN(t,e):function(e,t){if(DC(e.filters.length>0&&t.filters.length>0),uT(e)&&uT(t))return pT(e,t.getFilters());var n=cT(e)?e:t,r=cT(e)?t:e,i=n.filters.map((function(e){return IN(e,r)}));return sT.create(i,"or")}(e,t),NN(n)}function AN(e,t){if(uT(t))return pT(t,e.getFilters());var n=t.filters.map((function(t){return IN(e,t)}));return sT.create(n,"or")}function NN(e){if(DC(e instanceof oT||e instanceof sT),e instanceof oT)return e;var t=e.getFilters();if(1===t.length)return NN(t[0]);if(fT(e))return e;var n=t.map((function(e){return NN(e)})),r=[];return n.forEach((function(t){t instanceof oT?r.push(t):t instanceof sT&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:sT.create(r,e.op)}var PN=function(){function e(){p(this,e),this.rn=new ON}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),yS.resolve()}},{key:"getCollectionParents",value:function(e,t){return yS.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return yS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return yS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return yS.resolve(null)}},{key:"getIndexType",value:function(e,t){return yS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return yS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return yS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return yS.resolve(hS.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return yS.resolve(hS.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return yS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return yS.resolve()}}]),e}(),ON=function(){function e(){p(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vE(tS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vE(tS.comparator)).toArray()}}]),e}(),RN=new Uint8Array(0),DN=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this.on=new ON,this.un=new $T((function(e){return ET(e)}),(function(e,t){return TT(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:DS(i)};return LN(e).put(a)}return yS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[JC(t),""],!1,!0);return LN(e).j(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(jS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=jN(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=FN(e);return a.next((function(e){o.put(aN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=jN(e),r=FN(e),i=MN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=MN(e),i=!0,a=new Map;return yS.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sI(),o=[];return yS.forEach(a,(function(i,a){var s;AC("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ET(t)));var u=function(e,t){var n=oS(t);if(void 0===n)return null;var r,i=I(AT(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=I(sS(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=I(AT(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=I(sS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?NT(e,o.fieldPath,e.startAt):PT(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new eT(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=I(sS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?PT(e,o.fieldPath,e.endAt):NT(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new eT(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return yS.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=iS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return yS.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:xN(sT.create(e.filters,"and")).map((function(t){return ST(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[h/c]):RN,f=s.wn(e,u,n[h%c],r),p=s._n(e,u,i[h%c],a),v=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,d(s.createRange(f,p,v)))},h=0;h<u;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new yN(e,iS.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new yN(e,iS.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new kN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return yS.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new vE(rS.comparator),r=!1,i=I(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=I(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=I(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new gN,i=I(sS(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);fN.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new gN;return fN.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new gN;return fN.Ve._e(UE(this.databaseId,t),n.He(function(e){var t=sS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new gN);var i,a=0,o=I(sS(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=I(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&VE(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);fN.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=d(e),a=[],o=I(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=I(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new gN;f.seed(l.Qe()),fN.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof oT&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=jN(e),i=FN(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return yS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new cS(t.sequenceNumber,new hS(XA(t.readTime),new iS(jS(t.documentKey)),t.largestBatchId)):cS.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new uS(rS.fromServerFormat(n),r)}));return new aS(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:YC(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=jN(e),a=FN(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return yS.forEach(t,(function(t){return a.put(aN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return yS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?yS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),yS.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?yS.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return MN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return MN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=MN(e),i=new vE(bN);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new yN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new vE(bN),r=this.mn(t,e);if(null==r)return n;var i=oS(t);if(null!=i){var a=e.data.field(i.fieldPath);if(VE(a)){var o,s=I(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new yN(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new yN(t.indexId,e.key,RN,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;AC("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=gE(a),u=gE(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=gE(o)):l?(i(s),s=gE(a)):(s=gE(a),u=gE(o))}}(r,i,bN,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),yS.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return FN(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return bN(e,t)})).filter((function(e,t,n){return!t||0!==bN(e,n[t-1])}));var r=[];r.push(e);var i,a=I(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=bN(o,e),u=bN(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,RN,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,RN,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return bN(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(UN)}},{key:"getMinOffset",value:function(e,t){var n=this;return yS.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||RC()}))})).next(UN)}}]),e}();function LN(e){return uE(e,"collectionParents")}function MN(e){return uE(e,"indexEntries")}function jN(e){return uE(e,"indexConfiguration")}function FN(e){return uE(e,"indexState")}function UN(e){DC(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;dS(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new hS(t.readTime,t.documentKey,n)}var BN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VN=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function qN(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){DC(1===s)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=BS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return yS.waitFor(a).next((function(){return l}))}function zN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw RC();t=e.noDocument}return JSON.stringify(t).length}VN.DEFAULT_COLLECTION_PERCENTILE=10,VN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,VN.DEFAULT=new VN(41943040,VN.DEFAULT_COLLECTION_PERCENTILE,VN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),VN.DISABLED=new VN(-1,0,0);var WN=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return KN(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=GN(e),o=KN(e);return o.add({}).next((function(s){DC("number"==typeof s);var u,c=new WI(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return RA(e.fe,t)})),i=n.mutations.map((function(t){return RA(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new vE((function(e,t){return YC(e.canonicalString(),t.canonicalString())})),d=I(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=BS(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,VS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),yS.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return KN(e).get(t).next((function(e){return e?(DC(e.userId===n.userId),ZA(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?yS.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return KN(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(DC(t.batchId>=r),a=ZA(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return KN(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return KN(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return ZA(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=US(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return GN(e).X({range:i},(function(r,i,o){var s=f(r,3),u=s[0],c=s[1],l=s[2],h=jS(c);if(u===n.userId&&t.path.isEqual(h))return KN(e).get(l).next((function(e){if(!e)throw RC();DC(e.userId===n.userId),a.push(ZA(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vE(YC),i=[];return t.forEach((function(t){var a=US(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=GN(e).X({range:o},(function(e,i,a){var o=f(e,3),s=o[0],u=o[1],c=o[2],l=jS(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),yS.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=US(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new vE(YC);return GN(e).X({range:o},(function(e,t,a){var o=f(e,3),u=o[0],c=o[1],l=o[2],h=jS(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(KN(e).get(t).next((function(e){if(null===e)throw RC();DC(e.userId===n.userId),r.push(ZA(n.serializer,e))})))})),yS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return qN(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),yS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return yS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return GN(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=jS(e[1]);i.push(a)}else r.done()})).next((function(){DC(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return HN(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return QN(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return DC(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function HN(e,t,n){var r=US(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return GN(e).X({range:a,Y:!0},(function(e,n,r){var a=f(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function KN(e){return uE(e,"mutations")}function GN(e){return uE(e,"documentMutations")}function QN(e){return uE(e,"mutationQueues")}var YN=function(){function e(t){p(this,e),this.Nn=t}return y(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),$N=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new YN(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return ZC.fromTimestamp(new XC(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return JN(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return DC(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return JN(e).X((function(o,s){var u=eN(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return yS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return JN(e).X((function(e,n){var r=eN(n);t(r)}))}},{key:"$n",value:function(e){return XN(e).get("targetGlobalKey").next((function(e){return DC(null!==e),e}))}},{key:"On",value:function(e,t){return XN(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return JN(e).put(tN(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ET(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return JN(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=eN(n);TT(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ZN(e);return t.forEach((function(t){var o=DS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),yS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ZN(e);return yS.forEach(t,(function(t){var a=DS(t.path);return yS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ZN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ZN(e),i=sI();return r.X({range:n,Y:!0},(function(e,t,n){var r=jS(e[1]),a=new iS(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=DS(t.path),r=IDBKeyRange.bound([n],[JC(n)],!1,!0),i=0;return ZN(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return JN(e).get(t).next((function(e){return e?eN(e):null}))}}]),e}();function JN(e){return uE(e,"targets")}function XN(e){return uE(e,"targetGlobal")}function ZN(e){return uE(e,"targetDocuments")}function eP(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],s=a[1],u=YC(r,o);return 0===u?YC(i,s):u}var tP=function(){function e(t){p(this,e),this.Ln=t,this.buffer=new vE(eP),this.qn=0}return y(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();eP(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),nP=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;AC("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!xS(e.t0)){e.next=12;break}AC("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,mS(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),rP=function(){function e(t,n){p(this,e),this.jn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return yS.resolve(NS.ct);var r=new tP(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(AC("LruGarbageCollector","Garbage collection skipped; disabled"),yS.resolve(BN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(AC("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),BN):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(AC("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),IC()<=Tn.DEBUG&&AC("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),yS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function iP(e,t){return new rP(e,t)}var aP=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=iP(this,n)}return y(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return oP(e,n)}},{key:"removeReference",value:function(e,t,n){return oP(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return oP(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return QN(e).Z((function(r){return HN(e,r,t).next((function(e){return e&&(n=!0),yS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ZC.min()),ZN(e).delete([0,DS(o.path)])}))}));i.push(u)}})).next((function(){return yS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return oP(e,t)}},{key:"Yn",value:function(e,t){var n,r=ZN(e),i=NS.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==NS.ct&&t(new iS(jS(n)),i),i=u,n=s):i=NS.ct})).next((function(){i!==NS.ct&&t(new iS(jS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function oP(e,t){return ZN(e).put(function(e,t){return{targetId:0,path:DS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var sP=function(){function e(){p(this,e),this.changes=new $T((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ZE.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?yS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),uP=function(){function e(t){p(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return hP(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return hP(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],$A(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ZE.newInvalidDocument(t);return hP(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(dP(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:ZE.newInvalidDocument(t)};return hP(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(dP(t))},(function(e,i){r={document:n.ts(t,i),size:zN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=XT();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=XT(),i=new hE(iS.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,zN(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return yS.resolve();var r=new vE(vP);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(dP(r.first()),dP(r.last())),a=r.getIterator(),o=a.getNext();return hP(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=iS.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&vP(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(dP(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),$A(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hP(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=XT(),o=I(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(iS.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(KT(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=XT(),o=pP(t,n),s=pP(t,hS.max());return hP(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(iS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new lP(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return fP(e).get("remoteDocumentGlobalKey").next((function(e){return DC(!!e),e}))}},{key:"Zn",value:function(e,t){return fP(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=PA(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=iS.fromSegments(t.noDocument.path),i=XA(t.noDocument.readTime);n=ZE.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return RC();var a=iS.fromSegments(t.unknownDocument.path),o=XA(t.unknownDocument.version);n=ZE.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new XC(e[0],e[1]);return ZC.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(ZC.min()))return n}return ZE.newInvalidDocument(e)}}]),e}();function cP(e){return new uP(e)}var lP=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new $T((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new vE((function(e,t){return YC(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=YA(t.os.serializer,o);i=i.add(a.path.popLast());var c=zN(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=YA(t.os.serializer,o.convertToNoDocument(ZC.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),yS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(sP);function fP(e){return uE(e,"remoteDocumentGlobal")}function hP(e){return uE(e,"remoteDocumentsV14")}function dP(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pP(e,t){var n=t.documentKey.path.toArray();return[e,$A(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vP(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=YC(n[a],r[a]))return i;return(i=YC(n.length,r.length))||((i=YC(n[n.length-2],r[r.length-2]))||YC(n[n.length-1],r[r.length-1]))}var mP=y((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),gP=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&OI(r.mutation,e,yE.empty(),XC.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sI(),i=nI();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=eI();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nI();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=XT(),a=iI(),o=iI();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof MI)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),OI(o.mutation,t,o.mutation.getFieldMask(),XC.now())):a.set(t.key,yE.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new mP(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=iI(),i=new hE((function(e,t){return e-t})),a=sI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=I(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||yE.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||sI()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=rI();c.forEach((function(e){if(!a.has(e)){var n=NI(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return yS.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return iS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):yS.resolve(nI()),s=-1,u=a;return o.next((function(t){return yS.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?yS.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,sI())})).next((function(e){return{batchId:s,changes:tI(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new iS(t)).next((function(e){var t=eI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=eI();return this.indexManager.getCollectionParents(e,i).next((function(o){return yS.forEach(o,(function(o){var s=function(e,t){return new OT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ZE.newInvalidDocument(r)))}));var n=eI();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&OI(a.mutation,i,yE.empty(),XC.now()),KT(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),yP=function(){function e(t){p(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return yS.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:kA(n.createTime)}),yS.resolve()}},{key:"getNamedQuery",value:function(e,t){return yS.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:nN(e.bundledQuery),readTime:kA(e.readTime)}}(t)),yS.resolve()}}]),e}(),bP=function(){function e(){p(this,e),this.overlays=new hE(iS.comparator),this.ls=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return yS.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nI();return yS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),yS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),yS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nI(),i=t.length+1,a=new iS(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return yS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new hE((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=nI(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=nI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return yS.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new KI(t,n));var a=this.ls.get(t);void 0===a&&(a=sI(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),wP=function(){function e(){p(this,e),this.fs=new vE(kP.ds),this.ws=new vE(kP._s)}return y(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kP(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new kP(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new iS(new tS([])),r=new kP(n,e),i=new kP(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new iS(new tS([])),n=new kP(t,e),r=new kP(t,e+1),i=sI();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kP(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kP=function(){function e(t,n){p(this,e),this.key=t,this.As=n}return y(e,null,[{key:"ds",value:function(e,t){return iS.comparator(e.key,t.key)||YC(e.As,t.As)}},{key:"_s",value:function(e,t){return YC(e.As,t.As)||iS.comparator(e.key,t.key)}}]),e}(),_P=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new vE(kP.ds)}return y(e,[{key:"checkEmpty",value:function(e){return yS.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new WI(i,t,n,r);this.mutationQueue.push(a);var o,s=I(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new kP(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return yS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return yS.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return yS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return yS.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return yS.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kP(t,0),i=new kP(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),yS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vE(YC);return t.forEach((function(e){var t=new kP(e,0),i=new kP(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),yS.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;iS.isDocumentKey(i)||(i=i.child(""));var a=new kP(new iS(i),0),o=new vE(YC);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),yS.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;DC(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return yS.forEach(t.mutations,(function(i){var a=new kP(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kP(t,0),r=this.Rs.firstAfterOrEqual(n);return yS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,yS.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),xP=function(){function e(t){p(this,e),this.Ds=t,this.docs=new hE(iS.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return yS.resolve(n?n.document.mutableCopy():ZE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=XT();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ZE.newInvalidDocument(e))})),yS.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=XT(),a=t.path,o=new iS(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||dS(fS(l),n)<=0||(r.has(l.key)||KT(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return yS.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){RC()}},{key:"Cs",value:function(e,t){return yS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new CP(this)}},{key:"getSize",value:function(e){return yS.resolve(this.size)}}]),e}(),CP=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).os=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),yS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(sP),SP=function(){function e(t){p(this,e),this.persistence=t,this.xs=new $T((function(e){return ET(e)}),TT),this.lastRemoteSnapshotVersion=ZC.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wP,this.targetCount=0,this.Ms=YN.kn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),yS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return yS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return yS.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),yS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),yS.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new YN(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,yS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),yS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,yS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),yS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return yS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return yS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),yS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),yS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),yS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return yS.resolve(n)}},{key:"containsKey",value:function(e,t){return yS.resolve(this.ks.containsKey(t))}}]),e}(),EP=function(){function e(t,n){var r=this;p(this,e),this.$s={},this.overlays={},this.Os=new NS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new SP(this),this.indexManager=new PN,this.remoteDocumentCache=new xP((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new QA(n),this.qs=new yP(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new _P(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;AC("MemoryPersistence","Starting transaction:",e);var i=new TP(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return yS.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),TP=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(vS),IP=function(){function e(t){p(this,e),this.persistence=t,this.Qs=new wP,this.js=null}return y(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw RC()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),yS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),yS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),yS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yS.forEach(this.Ws,(function(r){var i=iS.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,ZC.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return yS.or([function(){return yS.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),AP=function(){function e(t){p(this,e),this.serializer=t}return y(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new bS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FS,{unique:!0}),e.createObjectStore("documentMutations")}(e),NP(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=yS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),NP(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ZC.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return yS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ZS});t.createIndex("collectionPathOverlayIndex",eE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qS});t.createIndex("documentKeyIndex",zS),t.createIndex("collectionGroupIndex",WS)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:YS}).createIndex("sequenceNumberIndex",$S,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:JS}).createIndex("documentKeyIndex",XS,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=zN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return yS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return yS.forEach(r,(function(r){DC(r.userId===n.userId);var i=ZA(t.serializer,r);return qN(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new tS(n),o=function(e){return[0,DS(e)]}(a);r.push(t.get(o).next((function(n){return n?yS.resolve():function(n){return t.put({targetId:0,path:DS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return yS.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:QS});var n=t.store("collectionParents"),r=new ON,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:DS(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new tS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],jS(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=eN(r),a=tN(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new iS(tS.fromString(i.document.name).popFirst(5)):i.noDocument?iS.fromSegments(i.noDocument.path):i.unknownDocument?iS.fromSegments(i.unknownDocument.path):RC()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return yS.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=cP(this.serializer),a=new EP(IP.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sI();ZA(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),yS.forEach(r,(function(e,r){var o=new SC(r),s=cN.de(n.serializer,o),u=a.getIndexManager(o),c=WN.de(o,n.serializer,u,a.referenceDelegate);return new gP(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new sE(t,NS.ct),e).next()}))}))}}]),e}();function NP(e){e.createObjectStore("targetDocuments",{keyPath:KS}).createIndex("documentTargetsIndex",GS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HS,{unique:!0}),e.createObjectStore("targetGlobal")}var PP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",OP=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new jC(MC.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aP(this,i),this.di=n+"main",this.serializer=new QA(u),this.wi=new wS(this.di,this.ui,new AP(this.serializer)),this.Bs=new $N(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cP(this.serializer),this.qs=new oN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&NC("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new jC(MC.FAILED_PRECONDITION,PP);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new NS(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=_n(wn().mark((function n(r){return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=_n(wn().mark((function t(n){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return DP(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(xS(t))return AC("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return AC("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return RP(e).get("owner").next((function(e){return yS.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return DP(e).delete(this.clientId)}},{key:"bi",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i,a=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uE(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return yS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?yS.resolve(!0):RP(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new jC(MC.FAILED_PRECONDITION,PP);return!1}}return!(!t.networkEnabled||!t.inForeground)||DP(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&AC("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=_n(wn().mark((function e(){var t=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new sE(e,NS.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return DP(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return WN.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new DN(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return cN.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;AC("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?oE:14===i?aE:13===i?iE:12===i?rE:11===i?nE:void RC();return this.wi.runTransaction(e,o,s,(function(i){return a=new sE(i,r.Os?r.Os.next():NS.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw NC("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new jC(MC.FAILED_PRECONDITION,pS);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return RP(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new jC(MC.FAILED_PRECONDITION,PP)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RP(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=RP(e);return n.get("owner").next((function(e){return t.Ri(e)?(AC("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):yS.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(NC("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!qt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return AC("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return NC("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){NC("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return wS.D()}}]),e}();function RP(e){return uE(e,"owner")}function DP(e){return uE(e,"clientMetadata")}function LP(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var MP=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return y(e,null,[{key:"Li",value:function(t,n){var r,i=sI(),a=sI(),o=I(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),jP=function(){function e(){p(this,e),this.qi=!1}return y(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(LT(t))return yS.resolve(null);var r=BT(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qT(t,null,"F"),r=BT(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sI.apply(void 0,d(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,qT(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return LT(t)||r.isEqual(ZC.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(IC()<=Tn.DEBUG&&AC("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),HT(t)),i.Wi(e,o,t,lS(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new vE(QT(e));return t.forEach((function(t,r){KT(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return IC()<=Tn.DEBUG&&AC("QueryEngine","Using full collection scan to execute query:",HT(t)),this.Ui.getDocumentsMatchingQuery(e,t,hS.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),FP=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new hE(YC),this.Yi=new $T((function(e){return ET(e)}),TT),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return y(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function UP(e,t,n,r){return new FP(e,t,n,r)}function BP(e,t){return VP.apply(this,arguments)}function VP(){return VP=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=sI(),u=I(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=I(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=I(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),VP.apply(this,arguments)}function qP(e,t){var n=LC(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=yS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);DC(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function zP(e){var t=LC(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function WP(e,t){var n=LC(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(wE.EMPTY_BYTE_STRING,ZC.min()).withLastLimboFreeSnapshotVersion(ZC.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=XT(),u=sI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(HP(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(ZC.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return yS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function HP(e,t,n){var r=sI(),i=sI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=XT();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ZC.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):AC("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function KP(e,t){var n=LC(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function GP(e,t){var n=LC(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,yS.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new GA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function QP(e,t,n){return YP.apply(this,arguments)}function YP(){return YP=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=LC(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),xS(e.t1)){e.next=12;break}throw e.t1;case 12:AC("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),YP.apply(this,arguments)}function $P(e,t,n){var r=LC(e),i=ZC.min(),a=sI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=LC(e),i=r.Yi.get(n);return void 0!==i?yS.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,BT(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:ZC.min(),n?a:sI())})).next((function(e){return ZP(r,GT(t),e),{documents:e,ir:a}}))}))}function JP(e,t){var n=LC(e),r=LC(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function XP(e,t){var n=LC(e),r=n.Xi.get(t)||ZC.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,lS(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ZP(n,t,e),e}))}function ZP(e,t,n){var r=e.Xi.get(t)||ZC.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function eO(e,t,n,r){return tO.apply(this,arguments)}function tO(){return tO=_n(wn().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=LC(t),o=sI(),s=XT(),u=I(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,GP(a,function(e){return BT(DT(tS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return HP(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),tO.apply(this,arguments)}function nO(e,t){return rO.apply(this,arguments)}function rO(){return rO=_n(wn().mark((function e(t,n){var r,i,a,o=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sI(),e.next=3,GP(t,BT(nN(n.bundledQuery)));case 3:return i=e.sent,a=LC(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(wE.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rO.apply(this,arguments)}function iO(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function aO(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function oO(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var sO=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new jC(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(NC("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),uO=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jC(i.error.code,i.error.message))),a?new e(t,i.state,r):(NC("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),cO=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=cI(),o=0;i&&o<r.activeTargetIds.length;++o)i=RS(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(NC("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),lO=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(NC("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),fO=function(){function e(){p(this,e),this.activeTargetIds=cI()}return y(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),hO=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new hE(YC),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=iO(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new fO),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return y(e,[{key:"start",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(iO(this.persistenceKey,i)))&&(o=cO.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=I(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(oO(this.persistenceKey,e));if(n){var r=uO.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(oO(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return AC("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){AC("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){AC("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(AC("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void NC("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(_n(wn().mark((function e(){var r,i,a,o,s,u,c;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=NS.ct;if(null!=e)try{var n=JSON.parse(e);DC("number"==typeof n),t=n}catch(e){NC("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==NS.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new sO(this.currentUser,e,t,n),i=aO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=aO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=oO(this.persistenceKey,e),i=new uO(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return cO.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sO.ar(new SC(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return uO.ar(r,t)}},{key:"br",value:function(e){return lO.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:AC("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=cI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),dO=function(){function e(){p(this,e),this.Hr=new fO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new fO,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),pO=function(){function e(){p(this,e)}return y(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),vO=function(){function e(){var t=this;p(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return y(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){AC("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){AC("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),mO=null;function gO(){return null===mO?mO=268435456+Math.round(2147483648*Math.random()):mO++,"0x"+mO.toString(16)}var yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bO=function(){function e(t){p(this,e),this.ro=t.ro,this.oo=t.oo}return y(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),wO="WebChannelConnection",kO=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return y(n,[{key:"Ao",value:function(e,t,n,r){var i=gO();return new Promise((function(a,o){var s=new kC;s.setWithCredentials(!0),s.listenOnce(mC.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case vC.NO_ERROR:var t=s.getResponseJson();AC(wO,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case vC.TIMEOUT:AC(wO,"RPC '".concat(e,"' ").concat(i," timed out")),o(new jC(MC.DEADLINE_EXCEEDED,"Request time out"));break;case vC.HTTP_ERROR:var n=s.getStatus();if(AC(wO,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(MC).indexOf(t)>=0?t:MC.UNKNOWN}(u.status);o(new jC(c,u.message))}else o(new jC(MC.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new jC(MC.UNAVAILABLE,"Connection failed."));break;default:RC()}}finally{AC(wO,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);AC(wO,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=gO(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=dC(),o=pC(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new bC({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");AC(wO,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new bO({ro:function(t){h?AC(wO,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(AC(wO,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),AC(wO,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,wC.EventType.OPEN,(function(){h||AC(wO,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,wC.EventType.CLOSE,(function(){h||(h=!0,AC(wO,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,wC.EventType.ERROR,(function(t){h||(h=!0,PC(wO,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new jC(MC.UNAVAILABLE,"The operation could not be completed")))})),p(l,wC.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];DC(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){AC(wO,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=BI[e];if(void 0!==t)return YI(t)}(s),c=o.message;void 0===u&&(u=MC.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new jC(u,c)),l.close()}else AC(wO,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,gC.STAT_EVENT,(function(t){t.stat===yC.PROXY?AC(wO,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===yC.NOPROXY&&AC(wO,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return y(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=gO(),o=this.To(e,t);AC("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return AC("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw PC("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+EC,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=yO[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function _O(){return"undefined"!=typeof window?window:null}function xO(){return"undefined"!=typeof document?document:null}function CO(e){return new mA(e,!0)}var SO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&AC("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),EO=function(){function e(t,n,r,i,a,o,s,u){p(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SO(t,n)}return y(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===MC.RESOURCE_EXHAUSTED?(NC(n.toString()),NC("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===MC.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new jC(MC.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return AC("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(AC("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),TO=function(e){w(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return y(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:RC()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(DC(void 0===t||"string"==typeof t),wE.fromBase64String(t||"")):(DC(void 0===t||t instanceof Uint8Array),wE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?MC.UNKNOWN:YI(e.code);return new jC(t,e.message||"")}(o);n=new uA(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=SA(e,u.document.name),l=kA(u.document.updateTime),f=u.document.createTime?kA(u.document.createTime):ZC.min(),h=new JE({mapValue:{fields:u.document.fields}}),d=ZE.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new oA(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=SA(e,m.document),y=m.readTime?kA(m.readTime):ZC.min(),b=ZE.newNoDocument(g,y),w=m.removedTargetIds||[];n=new oA([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var _=SA(e,k.document),x=k.removedTargetIds||[];n=new oA([],x,_,null)}else{if(!("filter"in t))return RC();t.filter;var C=t.filter;C.targetId;var S=C.count,E=void 0===S?0:S,T=C.unchangedNames,I=new GI(E,T),A=C.targetId;n=new sA(A,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ZC.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ZC.min():t.readTime?kA(t.readTime):ZC.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=IA(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=IT(r)?{documents:LA(e,r)}:{query:MA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bA(e,t.resumeToken);var i=gA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(ZC.min())>0){n.readTime=yA(e,t.snapshotVersion.toTimestamp());var a=gA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return RC()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=IA(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(EO),IO=function(e){w(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return y(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Ih(k(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(DC(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(DC(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kA(e.updateTime):kA(t);return n.isEqual(ZC.min())&&(n=kA(t)),new EI(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kA(e.commitTime);return this.listener.cu(n,t)}return DC(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=IA(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return RA(t.serializer,e)}))};this.Wo(n)}}]),n}(EO),AO=function(e){w(n,e);var t=C(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return y(n,[{key:"fu",value:function(){if(this.lu)throw new jC(MC.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===MC.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jC(MC.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===MC.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new jC(MC.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return y((function e(){p(this,e)}))}());var NO=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return y(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(NC(t),this.mu=!1):AC("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),PO=y((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qO(o),!e.t0){e.next=5;break}return AC("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=LC(t)).vu.add(4),e.next=4,DO(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,OO(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new NO(r,i)}));function OO(e){return RO.apply(this,arguments)}function RO(){return(RO=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qO(t)){e.next=18;break}n=I(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function DO(e){return LO.apply(this,arguments)}function LO(){return(LO=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function MO(e,t){var n=LC(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),VO(n)?BO(n):gR(n).Ko()&&FO(n,t))}function jO(e,t){var n=LC(e),r=gR(n);n.Au.delete(t),r.Ko()&&UO(n,t),0===n.Au.size&&(r.Ko()?r.jo():qO(n)&&n.bu.set("Unknown"))}function FO(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ZC.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gR(e).su(t)}function UO(e,t){e.Vu.qt(t),gR(e).iu(t)}function BO(e){e.Vu=new lA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),gR(e).start(),e.bu.gu()}function VO(e){return qO(e)&&!gR(e).Uo()&&e.Au.size>0}function qO(e){return 0===LC(e).vu.size}function zO(e){e.Vu=void 0}function WO(e){return HO.apply(this,arguments)}function HO(){return(HO=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){FO(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KO(e,t){return GO.apply(this,arguments)}function GO(){return(GO=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zO(t),VO(t)?(t.bu.Iu(n),BO(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QO(e,t,n){return YO.apply(this,arguments)}function YO(){return YO=_n(wn().mark((function e(t,n,r){var i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof uA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),AC("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,$O(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof oA?t.Vu.Ht(n):n instanceof sA?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(ZC.min())){e.next=29;break}return e.prev=14,e.next=17,zP(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(wE.EMPTY_BYTE_STRING,r.snapshotVersion)),UO(e,t);var i=new GA(r.target,t,n,r.sequenceNumber);FO(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),AC("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,$O(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),YO.apply(this,arguments)}function $O(e,t,n){return JO.apply(this,arguments)}function JO(){return(JO=_n(wn().mark((function e(t,n,r){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xS(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,DO(t);case 5:t.bu.set("Offline"),r||(r=function(){return zP(t.localStore)}),t.asyncQueue.enqueueRetryable(_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AC("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,OO(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XO(e,t){return t().catch((function(n){return $O(e,n,t)}))}function ZO(e){return eR.apply(this,arguments)}function eR(){return(eR=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=LC(t),r=yR(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!tR(n)){e.next=19;break}return e.prev=3,e.next=6,KP(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,nR(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,$O(n,e.t0);case 17:e.next=2;break;case 19:rR(n)&&iR(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function tR(e){return qO(e)&&e.Eu.length<10}function nR(e,t){e.Eu.push(t);var n=yR(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function rR(e){return qO(e)&&!yR(e).Uo()&&e.Eu.length>0}function iR(e){yR(e).start()}function aR(e){return oR.apply(this,arguments)}function oR(){return(oR=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yR(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sR(e){return uR.apply(this,arguments)}function uR(){return(uR=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yR(t),r=I(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cR(e,t,n){return lR.apply(this,arguments)}function lR(){return(lR=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=HI.from(i,n,r),e.next=3,XO(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ZO(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fR(e,t){return hR.apply(this,arguments)}function hR(){return hR=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yR(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!QI(i=n.code)||i===MC.ABORTED){e.next=7;break}return r=t.Eu.shift(),yR(t).Qo(),e.next=5,XO(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ZO(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:rR(t)&&iR(t);case 5:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function dR(e,t){return pR.apply(this,arguments)}function pR(){return(pR=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=LC(t)).asyncQueue.verifyOperationInProgress(),AC("RemoteStore","RemoteStore received new credentials"),i=qO(r),r.vu.add(3),e.next=6,DO(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,OO(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vR(e,t){return mR.apply(this,arguments)}function mR(){return(mR=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=LC(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,OO(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,DO(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gR(e){return e.Su||(e.Su=function(e,t,n){var r=LC(e);return r.fu(),new TO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:WO.bind(null,e),ao:KO.bind(null,e),nu:QO.bind(null,e)}),e.Ru.push(function(){var t=_n(wn().mark((function t(n){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),VO(e)?BO(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:zO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function yR(e){return e.Du||(e.Du=function(e,t,n){var r=LC(e);return r.fu(),new IO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:aR.bind(null,e),ao:fR.bind(null,e),au:sR.bind(null,e),cu:cR.bind(null,e)}),e.Ru.push(function(){var t=_n(wn().mark((function t(n){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,ZO(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(AC("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var bR=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new FC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jC(MC.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wR(e,t){if(NC("AsyncQueue","".concat(t,": ").concat(e)),xS(e))return new jC(MC.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var kR=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||iS.comparator(e.key,n.key)}:function(e,t){return iS.comparator(e.key,t.key)},this.keyedMap=eI(),this.sortedSet=new hE(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_R=function(){function e(){p(this,e),this.Cu=new hE(iS.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):RC():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),xR=function(){function e(t,n,r,i,a,o,s,u,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,kR.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),CR=y((function e(){p(this,e),this.Nu=void 0,this.listeners=[]})),SR=y((function e(){p(this,e),this.queries=new $T((function(e){return WT(e)}),zT),this.onlineState="Unknown",this.ku=new Set}));function ER(e,t){return TR.apply(this,arguments)}function TR(){return TR=_n(wn().mark((function e(t,n){var r,i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=LC(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new CR),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=wR(e.t0,"Initialization of query '".concat(HT(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&OR(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),TR.apply(this,arguments)}function IR(e,t){return AR.apply(this,arguments)}function AR(){return AR=_n(wn().mark((function e(t,n){var r,i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=LC(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),AR.apply(this,arguments)}function NR(e,t){var n,r=LC(e),i=!1,a=I(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=I(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&OR(r)}function PR(e,t,n){var r=LC(e),i=r.queries.get(t);if(i){var a,o=I(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function OR(e){e.ku.forEach((function(e){e.next()}))}var RR=function(){function e(t,n,r){p(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new xR(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=xR.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),DR=function(){function e(t,n){p(this,e),this.Gu=t,this.byteLength=n}return y(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),LR=function(){function e(t){p(this,e),this.serializer=t}return y(e,[{key:"rr",value:function(e){return SA(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?PA(this.serializer,e.document,!1):ZE.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return kA(e)}}]),e}(),MR=function(){function e(t,n,r){p(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jR(t)}return y(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=tS.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new LR(this.serializer),i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=I(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||sI()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eO(this.localStore,new LR(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nO(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function jR(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var FR=y((function e(t){p(this,e),this.key=t})),UR=y((function e(t){p(this,e),this.key=t})),BR=function(){function e(t,n){p(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=sI(),this.mutatedKeys=sI(),this.tc=QT(t),this.ec=new kR(this.tc)}return y(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new _R,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=KT(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return RC()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new xR(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _R,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=sI(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new UR(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new FR(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=sI();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return xR.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),VR=y((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),qR=y((function e(t){p(this,e),this.key=t,this.fc=!1})),zR=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new $T((function(e){return WT(e)}),zT),this._c=new Map,this.mc=new Set,this.gc=new hE(iS.comparator),this.yc=new Map,this.Ic=new wP,this.Tc={},this.Ec=new Map,this.Ac=YN.Mn(),this.onlineState="Unknown",this.vc=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function WR(e,t){return HR.apply(this,arguments)}function HR(){return HR=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jD(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,GP(r.localStore,BT(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,KR(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&MO(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),HR.apply(this,arguments)}function KR(e,t,n,r,i){return GR.apply(this,arguments)}function GR(){return GR=_n(wn().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=_n(wn().mark((function e(t,n,r,i){var a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,$P(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(dD(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,$P(t.localStore,n,!0);case 3:return o=e.sent,s=new BR(n,o.ir),u=s.sc(o.documents),c=aA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),dD(t,r,l.cc),f=new VR(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),GR.apply(this,arguments)}function QR(e,t){return YR.apply(this,arguments)}function YR(){return(YR=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=LC(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!zT(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,QP(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jO(r.remoteStore,i.targetId),fD(r,i.targetId)})).catch(mS);case 9:e.next=14;break;case 11:return fD(r,i.targetId),e.next=14,QP(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $R(e,t,n){return JR.apply(this,arguments)}function JR(){return JR=_n(wn().mark((function e(t,n,r){var i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=FD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=LC(e),a=XC.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=XT(),u=sI();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=I(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=RI(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new MI(c.key,l,XE(l.value.mapValue),TI.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tI(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new hE(YC)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,mD(i,a.changes);case 9:return e.next=11,ZO(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wR(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),JR.apply(this,arguments)}function XR(e,t){return ZR.apply(this,arguments)}function ZR(){return(ZR=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),e.prev=1,e.next=4,WP(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(DC(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?DC(n.fc):e.removedDocuments.size>0&&(DC(n.fc),n.fc=!1))})),e.next=8,mD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,mS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function eD(e,t,n){var r=LC(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=LC(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=I(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&OR(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tD(e,t,n){return nD.apply(this,arguments)}function nD(){return nD=_n(wn().mark((function e(t,n,r){var i,a,o,s,u,c;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=LC(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new hE(iS.comparator)).insert(o,ZE.newNoDocument(o,ZC.min())),u=sI().add(o),c=new iA(ZC.min(),new Map,new hE(YC),s,u),e.next=9,XR(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),vD(i),e.next=16;break;case 14:return e.next=16,QP(i.localStore,n,!1).then((function(){return fD(i,n,r)})).catch(mS);case 16:case"end":return e.stop()}}),e)}))),nD.apply(this,arguments)}function rD(e,t){return iD.apply(this,arguments)}function iD(){return(iD=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),i=n.batch.batchId,e.prev=1,e.next=4,qP(r.localStore,n);case 4:return a=e.sent,lD(r,i,null),cD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,mD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function aD(e,t,n){return oD.apply(this,arguments)}function oD(){return(oD=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=LC(t),e.prev=1,e.next=4,function(e,t){var n=LC(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return DC(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,lD(i,n,r),cD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,mD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function sD(e,t){return uD.apply(this,arguments)}function uD(){return(uD=_n(wn().mark((function e(t,n){var r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qO((r=LC(t)).remoteStore)||AC("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=LC(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wR(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function cD(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function lD(e,t,n){var r=LC(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function fD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||hD(e,t)}))}function hD(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(jO(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),vD(e))}function dD(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof FR?(e.Ic.addReference(a.key,t),pD(e,a)):a instanceof UR?(AC("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||hD(e,a.key)):RC()}}catch(o){i.e(o)}finally{i.f()}}function pD(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(AC("SyncEngine","New document in limbo: "+n),e.mc.add(r),vD(e))}function vD(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new iS(tS.fromString(t)),r=e.Ac.next();e.yc.set(r,new qR(n)),e.gc=e.gc.insert(n,r),MO(e.remoteStore,new GA(BT(DT(n.path)),r,"TargetPurposeLimboResolution",NS.ct))}}function mD(e,t,n){return gD.apply(this,arguments)}function gD(){return gD=_n(wn().mark((function e(t,n,r){var i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=LC(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=MP.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=_n(wn().mark((function e(t,n){var r,i,a,o,s,u,c,l;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return yS.forEach(n,(function(t){return yS.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return yS.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),xS(e.t0)){e.next=10;break}throw e.t0;case 10:AC("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function yD(e,t){return bD.apply(this,arguments)}function bD(){return(bD=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=LC(t)).currentUser.isEqual(n)){e.next=11;break}return AC("SyncEngine","User change. New user:",n.toKey()),e.next=5,BP(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new jC(MC.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,mD(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wD(e,t){var n=LC(e),r=n.yc.get(t);if(r&&r.fc)return sI().add(r.key);var i=sI(),a=n._c.get(t);if(!a)return i;var o,s=I(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function kD(e,t){return _D.apply(this,arguments)}function _D(){return(_D=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),e.next=3,$P(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&dD(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xD(e,t){return CD.apply(this,arguments)}function CD(){return(CD=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),e.abrupt("return",XP(r.localStore,n).then((function(e){return mD(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SD(e,t,n,r){return ED.apply(this,arguments)}function ED(){return ED=_n(wn().mark((function e(t,n,r,i){var a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=LC(t),e.next=3,function(e,t){var n=LC(e),r=LC(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):yS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ZO(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(lD(a,n,i||null),cD(a,n),function(e,t){LC(LC(e).mutationQueue).Cn(t)}(a.localStore,n)):RC();case 11:return e.next=13,mD(a,o);case 13:e.next=16;break;case 15:AC("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),ED.apply(this,arguments)}function TD(e,t){return ID.apply(this,arguments)}function ID(){return(ID=_n(wn().mark((function e(t,n){var r,i,a,o,s,u,c,l;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jD(r=LC(t)),FD(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,AD(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,vR(r.remoteStore,!0);case 9:o=I(a);try{for(o.s();!(s=o.n()).done;)u=s.value,MO(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return fD(r,t),QP(r.localStore,t,!0)})),jO(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,AD(r,c);case 21:return function(e){var t=LC(e);t.yc.forEach((function(e,n){jO(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new hE(iS.comparator)}(r),r.vc=!1,e.next=25,vR(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AD(e,t,n){return ND.apply(this,arguments)}function ND(){return ND=_n(wn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=LC(t),a=[],o=[],s=I(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,GP(i.localStore,BT(f[0]));case 11:l=e.sent,h=I(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,kD(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,JP(i.localStore,c);case 36:return g=e.sent,e.next=39,GP(i.localStore,g);case 39:return l=e.sent,e.next=42,KR(i,PD(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ND.apply(this,arguments)}function PD(e){return RT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function OD(e){var t=LC(e);return LC(LC(t.localStore).persistence).$i()}function RD(e,t,n,r){return DD.apply(this,arguments)}function DD(){return DD=_n(wn().mark((function e(t,n,r,i){var a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=LC(t)).vc){e.next=3;break}return e.abrupt("return",void AC("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,XP(a.localStore,GT(o[0]));case 10:return s=e.sent,u=iA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,wE.EMPTY_BYTE_STRING),e.next=14,mD(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,QP(a.localStore,n,!0);case 17:return fD(a,n,i),e.abrupt("break",20);case 19:RC();case 20:case"end":return e.stop()}}),e)}))),DD.apply(this,arguments)}function LD(e,t,n){return MD.apply(this,arguments)}function MD(){return(MD=_n(wn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jD(t)).vc){e.next=45;break}a=I(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return AC("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,JP(i.localStore,s);case 12:return u=e.sent,e.next=15,GP(i.localStore,u);case 15:return c=e.sent,e.next=18,KR(i,PD(u),c.targetId,!1,c.resumeToken);case 18:MO(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=I(r),e.prev=30,h=wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,QP(i.localStore,t,!1).then((function(){jO(i.remoteStore,t),fD(i,t)})).catch(mS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function jD(e){var t=LC(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tD.bind(null,t),t.dc.nu=NR.bind(null,t.eventManager),t.dc.Pc=PR.bind(null,t.eventManager),t}function FD(e){var t=LC(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,t),t}function UD(e,t,n){var r=LC(e);(function(){var e=_n(wn().mark((function e(t,n,r){var i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=LC(e),r=kA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(jR(i)),a=new MR(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,mD(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=LC(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(PC("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var BD=function(){function e(){p(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=CO(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return UP(this.persistence,new jP,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new EP(IP.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new dO}},{key:"terminate",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VD=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=_n(wn().mark((function e(t){var r=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,FD(this.Vc.syncEngine);case 6:return e.next=8,ZO(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return UP(this.persistence,new jP,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new nP(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new AS(t,this.persistence);return new IS(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=LP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?VN.withCacheSize(this.cacheSizeBytes):VN.DEFAULT;return new OP(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_O(),xO(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new dO}}]),n}(BD),qD=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=_n(wn().mark((function e(t){var r,i=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof hO,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:SD.bind(null,r),zr:RD.bind(null,r),Wr:LD.bind(null,r),$i:OD.bind(null,r),Qr:xD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TD(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=_O();if(!hO.D(t))throw new jC(MC.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=LP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hO(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(VD),zD=function(){function e(){p(this,e)}return y(e,[{key:"initialize",value:function(){var e=_n(wn().mark((function e(t,n){var r=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return eD(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),e.next=12,vR(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new SR}},{key:"createDatastore",value:function(e){var t,n=CO(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new kO(t));return function(e,t,n,r){return new AO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return eD(o.syncEngine,e,0)},a=vO.D()?new vO:new pO,new PO(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new zR(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=LC(t),AC("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,DO(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function WD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return _n(wn().mark((function r(){var i;return wn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return _n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var HD=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):NC("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),KD=function(){function e(t,n){var r=this;p(this,e),this.Cc=t,this.serializer=n,this.metadata=new FC,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=_n(wn().mark((function e(){var t,n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new DR(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=_n(wn().mark((function e(){var t,n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),GD=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=_n(wn().mark((function e(t){var n,r=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new jC(MC.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),i=IA(r.serializer)+"/documents",a={documents:n.map((function(e){return CA(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=OA(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());DC(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qI(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=_n(wn().mark((function e(){var t,n=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=iS.fromPath(t);n.mutations.push(new zI(r,n.precondition(r)))})),e.next=7,function(){var e=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t),i=IA(r.serializer)+"/documents",a={writes:n.map((function(e){return RA(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw RC();t=ZC.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new jC(MC.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ZC.min())?TI.exists(!1):TI.updateTime(t):TI.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ZC.min()))throw new jC(MC.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return TI.updateTime(t)}return TI.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),QD=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new SO(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(_n(wn().mark((function t(){var n,r;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new GD(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!PS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!QI(t)}return!1}}]),e}(),YD=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=SC.UNAUTHENTICATED,this.clientId=QC.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AC("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return AC("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new jC(MC.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new FC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_n(wn().mark((function n(){var r;return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wR(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function $D(e,t){return JD.apply(this,arguments)}function JD(){return JD=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),AC("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,BP(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),JD.apply(this,arguments)}function XD(e,t){return ZD.apply(this,arguments)}function ZD(){return(ZD=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,tL(t);case 3:return r=e.sent,AC("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return dR(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return dR(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eL(e){return"FirebaseError"===e.name?e.code===MC.FAILED_PRECONDITION||e.code===MC.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function tL(e){return nL.apply(this,arguments)}function nL(){return(nL=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return AC("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,$D(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),eL(n=e.t0)){e.next=13;break}throw n;case 13:return PC("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,$D(t,new BD);case 16:e.next=21;break;case 18:return AC("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,$D(t,new BD);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function rL(e){return iL.apply(this,arguments)}function iL(){return(iL=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return AC("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,XD(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return AC("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,XD(t,new zD);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aL(e){return tL(e).then((function(e){return e.persistence}))}function oL(e){return tL(e).then((function(e){return e.localStore}))}function sL(e){return rL(e).then((function(e){return e.remoteStore}))}function uL(e){return rL(e).then((function(e){return e.syncEngine}))}function cL(e){return rL(e).then((function(e){return e.datastore}))}function lL(e){return fL.apply(this,arguments)}function fL(){return(fL=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rL(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=WR.bind(null,n.syncEngine),r.onUnlisten=QR.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function i(){return wn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HD({next:function(a){t.enqueueAndForget((function(){return IR(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new jC(MC.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new jC(MC.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new RR(DT(n.path),a,{includeMetadataChanges:!0,Ku:!0});return ER(e,o)},i.next=3,lL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function dL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function i(){return wn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HD({next:function(n){t.enqueueAndForget((function(){return IR(e,o)})),n.fromCache&&"server"===r.source?i.reject(new jC(MC.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new RR(n,a,{includeMetadataChanges:!0,Ku:!0});return ER(e,o)},i.next=3,lL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function pL(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var vL=new Map;function mL(e,t,n){if(!n)throw new jC(MC.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gL(e,t,n,r){if(!0===t&&!0===r)throw new jC(MC.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function yL(e){if(!iS.isDocumentKey(e))throw new jC(MC.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bL(e){if(iS.isDocumentKey(e))throw new jC(MC.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":RC()}function kL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jC(MC.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wL(e);throw new jC(MC.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function _L(e,t){if(t<=0)throw new jC(MC.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var xL=function(){function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new jC(MC.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jC(MC.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pL(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new jC(MC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new jC(MC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new jC(MC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),CL=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xL({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new jC(MC.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new jC(MC.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xL(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new BC;switch(e.type){case"firstParty":return new WC(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new jC(MC.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vL.get(e);t&&(AC("ComponentProvider","Removing Datastore"),vL.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function SL(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=kL(e,CL))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&PC("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=SC.MOCK_USER;else{s=Ut(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new jC(MC.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new SC(c)}e._authCredentials=new VC(new UC(s,u))}}var EL=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new IL(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),TL=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),IL=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,DT(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new EL(this.firestore,null,new iS(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(TL);function AL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bn(e),mL("collection","path",t),e instanceof CL){var a=tS.fromString.apply(tS,[t].concat(r));return bL(a),new IL(e,null,a)}if(!(e instanceof EL||e instanceof IL))throw new jC(MC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tS.fromString.apply(tS,[t].concat(r)));return bL(o),new IL(e.firestore,null,o)}function NL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bn(e),1===arguments.length&&(t=QC.A()),mL("doc","path",t),e instanceof CL){var a=tS.fromString.apply(tS,[t].concat(r));return yL(a),new EL(e,null,new iS(a))}if(!(e instanceof EL||e instanceof IL))throw new jC(MC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tS.fromString.apply(tS,[t].concat(r)));return yL(o),new EL(e.firestore,e instanceof IL?e.converter:null,new iS(o))}function PL(e,t){return e=bn(e),t=bn(t),(e instanceof EL||e instanceof IL)&&(t instanceof EL||t instanceof IL)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OL(e,t){return e=bn(e),t=bn(t),e instanceof TL&&t instanceof TL&&e.firestore===t.firestore&&zT(e._query,t._query)&&e.converter===t.converter}var RL=function(){function e(){var t=this;p(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SO(this,"async_queue_retry"),this.Xc=function(){var e=xO();e&&AC("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=xO();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return y(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=xO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new FC;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=_n(wn().mark((function e(){var t=this;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),xS(e.t0)){e.next=12;break}throw e.t0;case 12:AC("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw NC("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=bR.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&RC()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=I(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function DL(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var LL=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new FC,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ML=function(e){w(n,e);var t=C(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new RL,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||FL(this),this._firestoreClient.terminate()}}]),n}(CL);function jL(e){return e._firestoreClient||FL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FL(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new IE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pL(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new YD(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function UL(e,t,n){var r=new FC;return e.asyncQueue.enqueue(_n(wn().mark((function i(){var a;return wn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,$D(e,n);case 3:return i.next=5,XD(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),eL(a=i.t0)){i.next=13;break}throw a;case 13:PC("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function BL(e){return function(e){return e.asyncQueue.enqueue(_n(wn().mark((function t(){var n,r;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,aL(e);case 2:return n=t.sent,t.next=5,sL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=LC(e);return t.vu.delete(0),OO(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(jL(e=kL(e,ML)))}function VL(e){return function(e){return e.asyncQueue.enqueue(_n(wn().mark((function t(){var n,r;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,aL(e);case 2:return n=t.sent,t.next=5,sL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=LC(t)).vu.add(0),e.next=4,DO(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(jL(e=kL(e,ML)))}function qL(e,t){var n=jL(e=kL(e,ML)),r=new LL;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new KD(e,t)}(function(e,t){if(e instanceof Uint8Array)return WD(e,t);if(e instanceof ArrayBuffer)return WD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?XI().encode(e):e),t)}(n,CO(t));e.asyncQueue.enqueueAndForget(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UD,t.next=3,uL(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function zL(e,t){return function(e,t){return e.asyncQueue.enqueue(_n(wn().mark((function n(){return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=LC(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,oL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(jL(e=kL(e,ML)),t).then((function(t){return t?new TL(e,null,t.query):null}))}function WL(e){if(e._initialized||e._terminated)throw new jC(MC.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var HL=function(){function e(t){p(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(wE.fromBase64String(t))}catch(t){throw new jC(MC.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(wE.fromUint8Array(t))}}]),e}(),KL=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new jC(MC.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rS(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var GL=y((function e(t){p(this,e),this._methodName=t})),QL=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new jC(MC.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new jC(MC.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return YC(this._lat,e._lat)||YC(this._long,e._long)}}]),e}(),YL=/^__.*__$/,$L=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new MI(e,this.data,this.fieldMask,t,this.fieldTransforms):new LI(e,this.data,t,this.fieldTransforms)}}]),e}(),JL=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new MI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function XL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw RC()}}var ZL=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return bM(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(XL(this.ca)&&YL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),eM=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||CO(t)}return y(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ZL({ca:e,methodName:t,ga:n,path:rS.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function tM(e){var t=e._freezeSettings(),n=CO(e._databaseId);return new eM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);vM("Data must be an object, but it was:",o,r);var s,u,c=dM(r,o);if(a.merge)s=new yE(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=I(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=mM(t,l.value,n);if(!o.contains(d))throw new jC(MC.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));wM(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new yE(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new $L(new JE(c),s,u)}var rM=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GL);function iM(e,t,n){return new ZL({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var aM=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new SI(e.path,new gI)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GL),oM=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).pa=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=iM(this,e,!0),n=this.pa.map((function(e){return hM(e,t)})),r=new yI(n);return new SI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GL),sM=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).pa=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=iM(this,e,!0),n=this.pa.map((function(e){return hM(e,t)})),r=new wI(n);return new SI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GL),uM=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).Ia=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new _I(e.serializer,hI(e.serializer,this.Ia));return new SI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GL);function cM(e,t,n,r){var i=e.ya(1,t,n);vM("Data must be an object, but it was:",i,r);var a=[],o=JE.empty();lE(r,(function(e,r){var s=yM(t,e,n);r=bn(r);var u=i.da(s);if(r instanceof rM)a.push(s);else{var c=hM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new yE(a);return new JL(o,s,i.fieldTransforms)}function lM(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[mM(t,r,n)],u=[i];if(a.length%2!=0)throw new jC(MC.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(mM(t,a[c])),u.push(a[c+1]);for(var l=[],f=JE.empty(),h=s.length-1;h>=0;--h)if(!wM(l,s[h])){var d=s[h],p=u[h];p=bn(p);var v=o.da(d);if(p instanceof rM)l.push(d);else{var m=hM(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new yE(l);return new JL(f,g,o.fieldTransforms)}function fM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hM(n,e.ya(r?4:3,t))}function hM(e,t){if(pM(e=bn(e)))return vM("Unsupported field value:",t,e),dM(e,t);if(e instanceof GL)return function(e,t){if(!XL(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=I(e);try{for(a.s();!(n=a.n()).done;){var o=hM(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=bn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=XC.fromDate(e);return{timestampValue:yA(t.serializer,n)}}if(e instanceof XC){var r=new XC(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yA(t.serializer,r)}}if(e instanceof QL)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HL)return{bytesValue:bA(t.serializer,e._byteString)};if(e instanceof EL){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:_A(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(wL(e)))}(e,t)}function dM(e,t){var n={};return fE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lE(e,(function(e,r){var i=hM(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof XC||e instanceof QL||e instanceof HL||e instanceof EL||e instanceof GL)}function vM(e,t,n){if(!pM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wL(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function mM(e,t,n){if((t=bn(t))instanceof KL)return t._internalPath;if("string"==typeof t)return yM(e,t);throw bM("Field path arguments must be of type string or ",e,!1,void 0,n)}var gM=new RegExp("[~\\*/\\[\\]]");function yM(e,t,n){if(t.search(gM)>=0)throw bM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(KL,d(t.split(".")))._internalPath}catch(r){throw bM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new jC(MC.INVALID_ARGUMENT,s+e+u)}function wM(e,t){return e.some((function(e){return e.isEqual(t)}))}var kM=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new EL(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_M=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return Ih(k(n.prototype),"data",this).call(this)}}]),n}(kM);function xM(e,t){return"string"==typeof t?yM(e,t):t instanceof KL?t._internalPath:t._delegate._internalPath}function CM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new jC(MC.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var SM=y((function e(){p(this,e)})),EM=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n)}(SM);function TM(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof SM&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof AM})).length,n=e.filter((function(e){return e instanceof IM})).length;if(t>1||t>0&&n>0)throw new jC(MC.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=I(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var IM=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return VM(e._query,t),new TL(e.firestore,e.converter,VT(e._query,t))}},{key:"_parse",value:function(e){var t=tM(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new jC(MC.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){BM(o,a);var u,c=[],l=I(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(UM(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=UM(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||BM(o,a),s=fM(n,"where",o,"in"===a||"not-in"===a);return oT.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(EM);var AM=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:sT.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=I(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;VM(r,a),r=VT(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new TL(e.firestore,e.converter,VT(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(SM);var NM=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new jC(MC.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new jC(MC.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rT(t,n);return function(e,t){if(null===MT(e)){var n=jT(e);null!==n&&qM(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new TL(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new OT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(EM);var PM=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new TL(e.firestore,e.converter,qT(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(EM);var OM=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=FM(e,this.type,this._docOrFields,this._inclusive);return new TL(e.firestore,e.converter,function(e,t){return new OT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(EM);function RM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OM._create("startAt",t,!0)}function DM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OM._create("startAfter",t,!1)}var LM=function(e){w(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=FM(e,this.type,this._docOrFields,this._inclusive);return new TL(e.firestore,e.converter,function(e,t){return new OT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(EM);function MM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LM._create("endBefore",t,!1)}function jM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LM._create("endAt",t,!0)}function FM(e,t,n,r){if(n[0]=bn(n[0]),n[0]instanceof kM)return function(e,t,n,r,i){if(!r)throw new jC(MC.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=I(UT(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(UE(t,r.key));else{var c=r.data.field(u.field);if(SE(c))throw new jC(MC.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new jC(MC.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new eT(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tM(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new jC(MC.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new jC(MC.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!FT(e)&&-1!==c.indexOf("/"))throw new jC(MC.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(tS.fromString(c));if(!iS.isDocumentKey(l))throw new jC(MC.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new iS(l);s.push(UE(t,f))}else{var h=fM(n,r,c);s.push(h)}}return new eT(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function UM(e,t,n){if("string"==typeof(n=bn(n))){if(""===n)throw new jC(MC.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(t)&&-1!==n.indexOf("/"))throw new jC(MC.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(tS.fromString(n));if(!iS.isDocumentKey(r))throw new jC(MC.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return UE(e,new iS(r))}if(n instanceof EL)return UE(e,n._key);throw new jC(MC.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wL(n),"."))}function BM(e,t){if(!Array.isArray(e)||0===e.length)throw new jC(MC.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function VM(e,t){if(t.isInequality()){var n=jT(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new jC(MC.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=MT(e);null!==i&&qM(e,r,i)}var a=function(e,t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i,a=I(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new jC(MC.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new jC(MC.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function qM(e,t,n){if(!n.isEqual(t))throw new jC(MC.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var zM=function(){function e(){p(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(OE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(CE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw RC()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return lE(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new QL(xE(e.latitude),xE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=EE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(TE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_E(e);return new XC(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=tS.fromString(e);DC(KA(n));var r=new AE(n.get(1),n.get(3)),i=new iS(n.popFirst(5));return r.isEqual(t)||NC("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function WM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var HM=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new HL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new EL(this.firestore,null,t)}}]),n}(zM);var KM=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),GM=function(e){w(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return y(n,[{key:"exists",value:function(){return Ih(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new QM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kM),QM=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ih(k(n.prototype),"data",this).call(this,e)}}]),n}(GM),YM=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new KM(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new QM(n._firestore,n._userDataWriter,r.key,r,new KM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new jC(MC.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new QM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new QM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$M(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function $M(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return RC()}}function JM(e,t){return e instanceof GM&&t instanceof GM?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YM&&t instanceof YM&&e._firestore===t._firestore&&OL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var XM=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new HL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new EL(this.firestore,null,t)}}]),n}(zM);function ZM(e){e=kL(e,EL);var t=kL(e.firestore,ML),n=jL(t),r=new XM(t);return function(e,t){var n=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function r(){return wn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_n(wn().mark((function e(t,n,r){var i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=LC(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new jC(MC.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wR(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new GM(t,r,e._key,n,new KM(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ej(e){e=kL(e,TL);var t=kL(e.firestore,ML),n=jL(t),r=new XM(t);return function(e,t){var n=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function r(){return wn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=_n(wn().mark((function e(t,n,r){var i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$P(t,n,!0);case 3:i=e.sent,a=new BR(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=wR(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new YM(t,r,e,n)}))}function tj(e,t,n){e=kL(e,EL);var r=kL(e.firestore,ML),i=WM(e.converter,t,n);return aj(r,[nM(tM(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,TI.none())])}function nj(e,t,n){e=kL(e,EL);for(var r=kL(e.firestore,ML),i=tM(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return aj(r,[("string"==typeof(t=bn(t))||t instanceof KL?lM(i,"updateDoc",e._key,t,n,o):cM(i,"updateDoc",e._key,t)).toMutation(e._key,TI.exists(!0))])}function rj(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=bn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||DL(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(DL(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof EL)l=kL(e.firestore,ML),f=DT(e._key.path),c={next:function(t){n[u]&&n[u](oj(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=kL(e,TL);l=kL(p.firestore,ML),f=p._query;var v=new XM(l);c={next:function(e){n[u]&&n[u](new YM(l,v,p,e))},error:n[u+1],complete:n[u+2]},CM(e._query)}return function(e,t,n,r){var i=new HD(r),a=new RR(t,i,n);return e.asyncQueue.enqueueAndForget(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ER,t.next=3,lL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=IR,t.next=3,lL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(jL(l),f,h,c)}function ij(e,t){return function(e,t){var n=new HD(t);return e.asyncQueue.enqueueAndForget(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){LC(e).ku.add(t),t.next()},t.next=3,lL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(_n(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){LC(e).ku.delete(t)},t.next=3,lL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(jL(e=kL(e,ML)),DL(t)?t:{next:t})}function aj(e,t){return function(e,t){var n=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function r(){return wn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=$R,r.next=3,uL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(jL(e),t)}function oj(e,t,n){var r=n.docs.get(t._key),i=new XM(e);return new GM(e,i,t._key,r,new KM(n.hasPendingWrites,n.fromCache),t.converter)}var sj={maxAttempts:5},uj=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tM(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=cj(e,this._firestore),i=WM(r.converter,t,n),a=nM(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,TI.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=cj(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=bn(t))||t instanceof KL?lM(this._dataReader,"WriteBatch.update",i._key,t,n,o):cM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,TI.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=cj(e,this._firestore);return this._mutations=this._mutations.concat(new qI(t._key,TI.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new jC(MC.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function cj(e,t){if((e=bn(e)).firestore!==t)throw new jC(MC.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lj=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=cj(e,this._firestore),i=new XM(this._firestore);return Ih(k(n.prototype),"get",this).call(this,e).then((function(e){return new GM(t._firestore,i,r._key,e._document,new KM(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=tM(t)}return y(e,[{key:"get",value:function(e){var t=this,n=cj(e,this._firestore),r=new HM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return RC();var i=e[0];if(i.isFoundDocument())return new kM(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kM(t._firestore,r,n._key,null,n.converter);throw RC()}))}},{key:"set",value:function(e,t,n){var r=cj(e,this._firestore),i=WM(r.converter,t,n),a=nM(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=cj(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=bn(t))||t instanceof KL?lM(this._dataReader,"Transaction.update",i._key,t,n,o):cM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=cj(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function fj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oM("arrayUnion",t)}function hj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sM("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){EC=e}(br),hr(new xn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ML(new qC(e.getProvider("auth-internal")),new KC(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jC(MC.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new AE(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Sr(CC,"3.13.0",e),Sr(CC,"3.13.0","esm2017")}();function dj(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jC("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function pj(){if("undefined"===typeof Uint8Array)throw new jC("unimplemented","Uint8Arrays are not available in this environment.")}function vj(){if("undefined"==typeof atob)throw new jC("unimplemented","Blobs are unavailable in Firestore in this environment.")}var mj=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return vj(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return pj(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return vj(),new e(HL.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return pj(),new e(HL.fromUint8Array(t))}}]),e}();function gj(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var yj=function(){function e(){p(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){WL(e=kL(e,ML));var n=jL(e);if(n._uninitializedComponentsProvider)throw new jC(MC.FAILED_PRECONDITION,"SDK cache is already specified.");PC("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new zD;return UL(n,i,new VD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){WL(e=kL(e,ML));var t=jL(e);if(t._uninitializedComponentsProvider)throw new jC(MC.FAILED_PRECONDITION,"SDK cache is already specified.");PC("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new zD;return UL(t,r,new qD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new jC(MC.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new FC;return e._queue.enqueueAndForgetEvenWhileRestricted(_n(wn().mark((function n(){return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wS.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wS.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(LP(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bj=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof AE||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||PC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};SL(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return BL(this._delegate)}},{key:"disableNetwork",value:function(){return VL(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&gL("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function n(){return wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=sD,n.next=3,uL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(jL(kL(this._delegate,ML)))}},{key:"onSnapshotsInSync",value:function(e){return ij(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new jC("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Rj(this,AL(this._delegate,e))}catch(t){throw Sj(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Cj(this,NL(this._delegate,e))}catch(t){throw Sj(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Nj(this,function(e,t){if(e=kL(e,CL),mL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jC(MC.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new TL(e,null,function(e){return new OT(tS.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Sj(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=kL(e,ML);var r=Object.assign(Object.assign({},sj),n);return function(e){if(e.maxAttempts<1)throw new jC(MC.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new FC;return e.asyncQueue.enqueueAndForget(_n(wn().mark((function i(){var a;return wn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,cL(e);case 2:a=i.sent,new QD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(jL(e),(function(n){return t(new lj(e,n))}),r)}(this._delegate,(function(n){return e(new kj(t,n))}))}},{key:"batch",value:function(){var e=this;return jL(this._delegate),new _j(new uj(this._delegate,(function(t){return aj(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return qL(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return zL(this._delegate,e).then((function(e){return e?new Nj(t,e):null}))}}]),e}(),wj=function(e){w(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new mj(new HL(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Cj.forKey(t,this.firestore,null)}}]),n}(zM);var kj=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new wj(t)}return y(e,[{key:"get",value:function(e){var t=this,n=Dj(e);return this._delegate.get(n).then((function(e){return new Ij(t._firestore,new GM(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Dj(e);return n?(dj("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Dj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Dj(e);return this._delegate.delete(t),this}}]),e}(),_j=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=Dj(e);return n?(dj("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Dj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Dj(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),xj=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new QM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Aj(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new wj(t),n),i.set(n,a)),a}}]),e}();xj.INSTANCES=new WeakMap;var Cj=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wj(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Rj(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Rj(this.firestore,AL(this._delegate,e))}catch(t){throw Sj(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=bn(e))instanceof EL&&PL(this._delegate,e)}},{key:"set",value:function(e,t){t=dj("DocumentReference.set",t);try{return t?tj(this._delegate,e,t):tj(this._delegate,e)}catch(n){throw Sj(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nj(this._delegate,e):nj.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Sj(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return aj(kL((e=this._delegate).firestore,ML),[new qI(e._key,TI.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ej(n),a=Tj(n,(function(t){return new Ij(e.firestore,new GM(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rj(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ZM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kL(e,EL);var t=kL(e.firestore,ML);return hL(jL(t),e._key,{source:"server"}).then((function(n){return oj(t,e,n)}))}(this._delegate):function(e){e=kL(e,EL);var t=kL(e.firestore,ML);return hL(jL(t),e._key).then((function(n){return oj(t,e,n)}))}(this._delegate)).then((function(e){return new Ij(t.firestore,new GM(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xj.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new jC("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new EL(n._delegate,r,new iS(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new EL(n._delegate,r,t))}}]),e}();function Sj(e,t,n){return e.message=e.message.replace(t,n),e}function Ej(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!gj(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Tj(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gj(e[0])?e[0]:gj(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ij=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new Cj(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return JM(this._delegate,e._delegate)}}]),e}(),Aj=function(e){w(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||RC(),t}}]),n}(Ij),Nj=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wj(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,TM(this._delegate,function(e,t,n){var r=t,i=xM("where",e);return IM._create(i,r,n)}(t,n,r)))}catch(i){throw Sj(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,TM(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xM("orderBy",e);return NM._create(n,t)}(t,n)))}catch(r){throw Sj(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,TM(this._delegate,(_L("limit",n=t),PM._create("limit",n,"F"))))}catch(r){throw Sj(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,TM(this._delegate,(_L("limitToLast",n=t),PM._create("limitToLast",n,"L"))))}catch(r){throw Sj(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,TM(this._delegate,RM.apply(void 0,arguments)))}catch(t){throw Sj(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,TM(this._delegate,DM.apply(void 0,arguments)))}catch(t){throw Sj(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,TM(this._delegate,MM.apply(void 0,arguments)))}catch(t){throw Sj(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,TM(this._delegate,jM.apply(void 0,arguments)))}catch(t){throw Sj(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return OL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ej(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kL(e,TL);var t=kL(e.firestore,ML),n=jL(t),r=new XM(t);return dL(n,e._query,{source:"server"}).then((function(n){return new YM(t,r,e,n)}))}(this._delegate):function(e){e=kL(e,TL);var t=kL(e.firestore,ML),n=jL(t),r=new XM(t);return CM(e._query),dL(n,e._query).then((function(n){return new YM(t,r,e,n)}))}(this._delegate)).then((function(e){return new Oj(t.firestore,new YM(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ej(n),a=Tj(n,(function(t){return new Oj(e.firestore,new YM(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rj(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xj.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Pj=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Aj(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Oj=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new Nj(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Aj(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Pj(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Aj(n._firestore,r))}))}},{key:"isEqual",value:function(e){return JM(this._delegate,e._delegate)}}]),e}(),Rj=function(e){w(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Cj(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Cj(this.firestore,void 0===e?NL(this._delegate):NL(this._delegate,e))}catch(t){throw Sj(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=kL(e.firestore,ML),r=NL(e),i=WM(e.converter,t);return aj(n,[nM(tM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,TI.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Cj(t.firestore,e)}))}},{key:"isEqual",value:function(e){return PL(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(xj.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Nj);function Dj(e){return kL(e,EL)}var Lj=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(KL,n)}return y(e,[{key:"isEqual",value:function(e){return(e=bn(e))instanceof KL&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(rS.keyField().canonicalString())}}]),e}(),Mj=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new aM("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new rM("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=fj.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hj.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new uM("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),jj={Firestore:bj,GeoPoint:QL,Timestamp:XC,Blob:mj,Transaction:kj,WriteBatch:_j,DocumentReference:Cj,DocumentSnapshot:Ij,Query:Nj,QueryDocumentSnapshot:Aj,QuerySnapshot:Oj,CollectionReference:Rj,FieldPath:Lj,FieldValue:Mj,setLogLevel:function(e){var t;t=e,TC.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new xn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},jj)))}(e,(function(e,t){return new bj(e,t,new yj)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(Jr);var Fj,Uj,Bj=function(e,t){return t.some((function(t){return e instanceof t}))};var Vj=new WeakMap,qj=new WeakMap,zj=new WeakMap,Wj=new WeakMap,Hj=new WeakMap;var Kj={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qj.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zj.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yj(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Gj(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Uj||(Uj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($j(this),n),Yj(Vj.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yj(e.apply($j(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[$j(this),t].concat(r));return zj.set(a,t.sort?t.sort():[t]),Yj(a)}}function Qj(e){return"function"===typeof e?Gj(e):(e instanceof IDBTransaction&&function(e){if(!qj.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));qj.set(e,t)}}(e),Bj(e,Fj||(Fj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Kj):e)}function Yj(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Yj(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Vj.set(t,e)})).catch((function(){})),Hj.set(t,e),t}(e);if(Wj.has(e))return Wj.get(e);var t=Qj(e);return t!==e&&(Wj.set(e,t),Hj.set(t,e)),t}var $j=function(e){return Hj.get(e)};var Jj,Xj=["get","getKey","getAll","getAllKeys","count"],Zj=["put","add","delete","clear"],eF=new Map;function tF(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(eF.get(t))return eF.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Zj.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xj.includes(n))){var a=function(){var e=_n(wn().mark((function e(t){var a,o,s,u,c,l,f=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return eF.set(t,a),a}}}!function(e){Kj=e(Kj)}((function(e){return Mn(Mn({},e),{},{get:function(t,n,r){return tF(t,n)||e.get(t,n,r)},has:function(t,n){return!!tF(t,n)||e.has(t,n)}})}));var nF="@firebase/installations",rF="0.6.4",iF=1e4,aF="w:".concat(rF),oF="FIS_v2",sF="https://firebaseinstallations.googleapis.com/v1",uF=36e5,cF=(_t(Jj={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),_t(Jj,"not-registered","Firebase Installation is not registered."),_t(Jj,"installation-not-found","Firebase Installation not found."),_t(Jj,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),_t(Jj,"app-offline","Could not process request. Application offline."),_t(Jj,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Jj),lF=new Yt("installations","Installations",cF);function fF(e){return e instanceof Qt&&e.code.includes("request-failed")}function hF(e){var t=e.projectId;return"".concat(sF,"/projects/").concat(t,"/installations")}function dF(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function pF(e,t){return vF.apply(this,arguments)}function vF(){return(vF=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",lF.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mF(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gF(e,t){var n=t.refreshToken,r=mF(e);return r.append("Authorization",function(e){return"".concat(oF," ").concat(e)}(n)),r}function yF(e){return bF.apply(this,arguments)}function bF(){return bF=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),bF.apply(this,arguments)}function wF(e,t){return kF.apply(this,arguments)}function kF(){return(kF=_n(wn().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=hF(r),s=mF(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:oF,appId:r.appId,sdkVersion:aF},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,yF((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:dF(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,pF("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _F(e){return new Promise((function(t){setTimeout(t,e)}))}var xF=/^[cdef][\w-]{21}$/,CF="";function SF(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,d(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return xF.test(t)?t:CF}catch(PD){return CF}}function EF(e){return"".concat(e.appName,"!").concat(e.appId)}var TF=new Map;function IF(e,t){var n=EF(e);AF(n,t),function(e,t){var n=PF();n&&n.postMessage({key:e,fid:t});OF()}(n,t)}function AF(e,t){var n=TF.get(e);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var NF=null;function PF(){return!NF&&"BroadcastChannel"in self&&((NF=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){AF(e.data.key,e.data.fid)}),NF}function OF(){0===TF.size&&NF&&(NF.close(),NF=null)}var RF="firebase-installations-database",DF=1,LF="firebase-installations-store",MF=null;function jF(){return MF||(MF=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Yj(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Yj(s.result),e.oldVersion,e.newVersion,Yj(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(RF,DF,{upgrade:function(e,t){if(0===t)e.createObjectStore(LF)}})),MF}function FF(e,t){return UF.apply(this,arguments)}function UF(){return UF=_n(wn().mark((function e(t,n){var r,i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EF(t),e.next=3,jF();case 3:return i=e.sent,a=i.transaction(LF,"readwrite"),o=a.objectStore(LF),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||IF(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),UF.apply(this,arguments)}function BF(e){return VF.apply(this,arguments)}function VF(){return VF=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EF(t),e.next=3,jF();case 3:return r=e.sent,i=r.transaction(LF,"readwrite"),e.next=7,i.objectStore(LF).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),VF.apply(this,arguments)}function qF(e,t){return zF.apply(this,arguments)}function zF(){return zF=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EF(t),e.next=3,jF();case 3:return i=e.sent,a=i.transaction(LF,"readwrite"),o=a.objectStore(LF),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||IF(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),zF.apply(this,arguments)}function WF(e){return HF.apply(this,arguments)}function HF(){return(HF=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qF(t.appConfig,(function(e){var r=KF(e),i=GF(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==CF){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KF(e){return XF(e||{fid:SF(),registrationStatus:0})}function GF(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(lF.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return QF.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:YF(e)}:{installationEntry:t}}function QF(){return(QF=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wF(t,n);case 3:return r=e.sent,e.abrupt("return",FF(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!fF(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,BF(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,FF(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function YF(e){return $F.apply(this,arguments)}function $F(){return($F=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JF(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,_F(100);case 6:return e.next=8,JF(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,WF(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JF(e){return qF(e,(function(e){if(!e)throw lF.create("installation-not-found");return XF(e)}))}function XF(e){return 1===(t=e).registrationStatus&&t.registrationTime+iF<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ZF(e,t){return eU.apply(this,arguments)}function eU(){return(eU=_n(wn().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=tU(r,n),o=gF(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:aF,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,yF((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=dF(h),e.abrupt("return",d);case 22:return e.next=24,pF("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tU(e,t){var n=t.fid;return"".concat(hF(e),"/").concat(n,"/authTokens:generate")}function nU(e){return rU.apply(this,arguments)}function rU(){return rU=_n(wn().mark((function e(t){var n,r,i,a,o=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,qF(t.appConfig,(function(e){if(!cU(e))throw lF.create("not-registered");var i=e.authToken;if(!n&&lU(i))return e;if(1===i.requestStatus)return r=iU(t,n),e;if(!navigator.onLine)throw lF.create("app-offline");var a=fU(e);return r=sU(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),rU.apply(this,arguments)}function iU(e,t){return aU.apply(this,arguments)}function aU(){return(aU=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oU(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,_F(100);case 6:return e.next=8,oU(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",nU(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oU(e){return qF(e,(function(e){if(!cU(e))throw lF.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+iF<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function sU(e,t){return uU.apply(this,arguments)}function uU(){return(uU=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ZF(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,FF(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!fF(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,BF(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,FF(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function cU(e){return void 0!==e&&2===e.registrationStatus}function lU(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+uF}(e)}function fU(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function hU(){return(hU=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,WF(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):nU(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dU(){return dU=_n(wn().mark((function e(t){var n,r,i,a=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,pU(r);case 4:return e.next=6,nU(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),dU.apply(this,arguments)}function pU(e){return vU.apply(this,arguments)}function vU(){return(vU=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WF(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mU(e){return lF.create("missing-app-config-values",{valueName:e})}var gU="installations",yU=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw mU("App Configuration");if(!e.name)throw mU("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw mU(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:dr(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},bU=function(e){var t=dr(e.getProvider("app").getImmediate(),gU).getImmediate(),n={getId:function(){return function(e){return hU.apply(this,arguments)}(t)},getToken:function(e){return function(e){return dU.apply(this,arguments)}(t,e)}};return n};hr(new xn(gU,yU,"PUBLIC")),hr(new xn("installations-internal",bU,"PRIVATE")),Sr(nF,rF),Sr(nF,rF,"esm2017");var wU,kU,_U=function(e,t){return t.some((function(t){return e instanceof t}))};var xU=new WeakMap,CU=new WeakMap,SU=new WeakMap,EU=new WeakMap,TU=new WeakMap;var IU={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return CU.get(e);if("objectStoreNames"===t)return e.objectStoreNames||SU.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return PU(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function AU(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kU||(kU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(OU(this),n),PU(xU.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PU(e.apply(OU(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[OU(this),t].concat(r));return SU.set(a,t.sort?t.sort():[t]),PU(a)}}function NU(e){return"function"===typeof e?AU(e):(e instanceof IDBTransaction&&function(e){if(!CU.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));CU.set(e,t)}}(e),_U(e,wU||(wU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,IU):e)}function PU(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(PU(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&xU.set(t,e)})).catch((function(){})),TU.set(t,e),t}(e);if(EU.has(e))return EU.get(e);var t=NU(e);return t!==e&&(EU.set(e,t),TU.set(t,e)),t}var OU=function(e){return TU.get(e)};function RU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=PU(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(PU(s.result),e.oldVersion,e.newVersion,PU(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}function DU(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),PU(n).then((function(){}))}var LU,MU=["get","getKey","getAll","getAllKeys","count"],jU=["put","add","delete","clear"],FU=new Map;function UU(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(FU.get(t))return FU.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=jU.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||MU.includes(n))){var a=function(){var e=_n(wn().mark((function e(t){var a,o,s,u,c,l,f=arguments;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return FU.set(t,a),a}}}!function(e){IU=e(IU)}((function(e){return Mn(Mn({},e),{},{get:function(t,n,r){return UU(t,n)||e.get(t,n,r)},has:function(t,n){return!!UU(t,n)||e.has(t,n)}})}));var BU,VU,qU="/firebase-messaging-sw.js",zU="/firebase-cloud-messaging-push-scope",WU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",HU="https://fcmregistrations.googleapis.com/v1",KU="google.c.a.c_id",GU="google.c.a.c_l",QU="google.c.a.ts",YU="google.c.a.e";function $U(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,d(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function JU(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(BU||(BU={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(VU||(VU={}));var XU="fcm_token_details_db",ZU=5,eB="fcm_token_object_Store";function tB(e){return nB.apply(this,arguments)}function nB(){return nB=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(XU)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,RU(XU,ZU,{upgrade:function(){var e=_n(wn().mark((function e(n,r,a,o){var s,u,c,l,f,h;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(eB)){e.next=4;break}return e.abrupt("return");case 4:return u=o.objectStore(eB),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:$U(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:$U(f.auth),p256dh:$U(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:$U(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:$U(h.auth),p256dh:$U(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:$U(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,DU(XU);case 14:return e.next=16,DU("fcm_vapid_details_db");case 16:return e.next=18,DU("undefined");case 18:return e.abrupt("return",rB(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),nB.apply(this,arguments)}function rB(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var iB="firebase-messaging-database",aB=1,oB="firebase-messaging-store",sB=null;function uB(){return sB||(sB=RU(iB,aB,{upgrade:function(e,t){if(0===t)e.createObjectStore(oB)}})),sB}function cB(e){return lB.apply(this,arguments)}function lB(){return lB=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vB(t),e.next=3,uB();case 3:return r=e.sent,e.next=6,r.transaction(oB).objectStore(oB).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,tB(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,fB(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),lB.apply(this,arguments)}function fB(e,t){return hB.apply(this,arguments)}function hB(){return hB=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vB(t),e.next=3,uB();case 3:return i=e.sent,a=i.transaction(oB,"readwrite"),e.next=7,a.objectStore(oB).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),hB.apply(this,arguments)}function dB(e){return pB.apply(this,arguments)}function pB(){return pB=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vB(t),e.next=3,uB();case 3:return r=e.sent,i=r.transaction(oB,"readwrite"),e.next=7,i.objectStore(oB).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),pB.apply(this,arguments)}function vB(e){return e.appConfig.appId}var mB=(_t(LU={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),_t(LU,"only-available-in-window","This method is available in a Window context."),_t(LU,"only-available-in-sw","This method is available in a service worker context."),_t(LU,"permission-default","The notification permission was not granted and dismissed instead."),_t(LU,"permission-blocked","The notification permission was not granted and blocked instead."),_t(LU,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),_t(LU,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),_t(LU,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),_t(LU,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),_t(LU,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),_t(LU,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),_t(LU,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),_t(LU,"token-update-no-token","FCM returned no token when updating the user to push."),_t(LU,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),_t(LU,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),_t(LU,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),_t(LU,"invalid-vapid-key","The public VAPID key must be a string."),_t(LU,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),LU),gB=new Yt("messaging","Messaging",mB);function yB(e,t){return bB.apply(this,arguments)}function bB(){return(bB=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SB(t);case 2:return r=e.sent,i=TB(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(CB(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),gB.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,gB.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw gB.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function wB(e,t){return kB.apply(this,arguments)}function kB(){return(kB=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SB(t);case 2:return r=e.sent,i=TB(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(CB(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),gB.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,gB.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw gB.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function _B(e,t){return xB.apply(this,arguments)}function xB(){return(xB=_n(wn().mark((function e(t,n){var r,i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SB(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(CB(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,gB.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),gB.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function CB(e){var t=e.projectId;return"".concat(HU,"/projects/").concat(t,"/registrations")}function SB(e){return EB.apply(this,arguments)}function EB(){return(EB=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TB(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==WU&&(a.web.applicationPubKey=i),a}var IB=6048e5;function AB(e){return NB.apply(this,arguments)}function NB(){return(NB=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jB(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:$U(n.getKey("auth")),p256dh:$U(n.getKey("p256dh"))},e.next=6,cB(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",LB(t.firebaseDependencies,r));case 11:if(UB(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,_B(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",LB(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+IB)){e.next=27;break}return e.abrupt("return",RB(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function PB(e){return OB.apply(this,arguments)}function OB(){return(OB=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cB(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,_B(t.firebaseDependencies,n.token);case 6:return e.next=8,dB(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RB(e,t){return DB.apply(this,arguments)}function DB(){return(DB=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wB(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,fB(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,PB(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function LB(e,t){return MB.apply(this,arguments)}function MB(){return(MB=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yB(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,fB(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jB(e,t){return FB.apply(this,arguments)}function FB(){return(FB=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:JU(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UB(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function BB(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var u=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function VB(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function qB(e){return gB.create("missing-app-config-values",{valueName:e})}VB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),VB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var zB=function(){function e(t,n,r){p(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw qB("App Configuration Object");if(!e.name)throw qB("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw qB(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return y(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function WB(e){return HB.apply(this,arguments)}function HB(){return(HB=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(qU,{scope:zU});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),gB.create("failed-service-worker-registration",{browserErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function KB(e,t){return GB.apply(this,arguments)}function GB(){return(GB=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,WB(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw gB.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QB(e,t){return YB.apply(this,arguments)}function YB(){return(YB=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=WU);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $B(e,t){return JB.apply(this,arguments)}function JB(){return(JB=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw gB.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw gB.create("permission-blocked");case 7:return e.next=9,QB(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,KB(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",AB(t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XB(e,t,n){return ZB.apply(this,arguments)}function ZB(){return(ZB=_n(wn().mark((function e(t,n,r){var i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eV(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[KU],message_name:r[GU],message_time:r[QU],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eV(e){switch(e){case VU.NOTIFICATION_CLICKED:return"notification_open";case VU.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function tV(){return(tV=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===VU.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(BB(r)):t.onMessageHandler.next(BB(r))),i=r.data,"object"!==typeof(a=i)||!a||!(KU in a)||"1"!==i[YU]){e.next=8;break}return e.next=8,XB(t,r.messageType,i);case 8:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}var nV,rV="@firebase/messaging",iV="0.12.4",aV=function(e){var t=new zB(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return tV.apply(this,arguments)}(t,e)})),t},oV=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return $B(t,e)}}};function sV(){return(sV=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw gB.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,WB(t);case 5:return e.abrupt("return",PB(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uV(e,t){return cV.apply(this,arguments)}function cV(){return(cV=_n(wn().mark((function e(t,n){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=bn(t),e.abrupt("return",$B(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lV(e){return function(e){return sV.apply(this,arguments)}(e=bn(e))}function fV(e,t){return function(e,t){if(!navigator)throw gB.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=bn(e),t)}hr(new xn("messaging",aV,"PUBLIC")),hr(new xn("messaging-internal",oV,"PRIVATE")),Sr(rV,iV),Sr(rV,iV,"esm2017");var hV,dV,pV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vV="https://fcmregistrations.googleapis.com/v1",mV="FCM_MSG",gV="google.c.a.c_id",yV=3,bV=1;function wV(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,d(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kV(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(hV||(hV={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(dV||(dV={}));var _V="fcm_token_details_db",xV=5,CV="fcm_token_object_Store";function SV(e){return EV.apply(this,arguments)}function EV(){return EV=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(_V)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,RU(_V,xV,{upgrade:function(){var e=_n(wn().mark((function e(n,r,a,o){var s,u,c,l,f,h;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(CV)){e.next=4;break}return e.abrupt("return");case 4:return u=o.objectStore(CV),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:wV(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:wV(f.auth),p256dh:wV(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:wV(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:wV(h.auth),p256dh:wV(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:wV(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,DU(_V);case 14:return e.next=16,DU("fcm_vapid_details_db");case 16:return e.next=18,DU("undefined");case 18:return e.abrupt("return",TV(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),EV.apply(this,arguments)}function TV(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var IV="firebase-messaging-database",AV=1,NV="firebase-messaging-store",PV=null;function OV(){return PV||(PV=RU(IV,AV,{upgrade:function(e,t){if(0===t)e.createObjectStore(NV)}})),PV}function RV(e){return DV.apply(this,arguments)}function DV(){return DV=_n(wn().mark((function e(t){var n,r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UV(t),e.next=3,OV();case 3:return r=e.sent,e.next=6,r.transaction(NV).objectStore(NV).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,SV(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,LV(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),DV.apply(this,arguments)}function LV(e,t){return MV.apply(this,arguments)}function MV(){return MV=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UV(t),e.next=3,OV();case 3:return i=e.sent,a=i.transaction(NV,"readwrite"),e.next=7,a.objectStore(NV).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),MV.apply(this,arguments)}function jV(e){return FV.apply(this,arguments)}function FV(){return FV=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UV(t),e.next=3,OV();case 3:return r=e.sent,i=r.transaction(NV,"readwrite"),e.next=7,i.objectStore(NV).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),FV.apply(this,arguments)}function UV(e){return e.appConfig.appId}var BV=(_t(nV={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),_t(nV,"only-available-in-window","This method is available in a Window context."),_t(nV,"only-available-in-sw","This method is available in a service worker context."),_t(nV,"permission-default","The notification permission was not granted and dismissed instead."),_t(nV,"permission-blocked","The notification permission was not granted and blocked instead."),_t(nV,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),_t(nV,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),_t(nV,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),_t(nV,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),_t(nV,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),_t(nV,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),_t(nV,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),_t(nV,"token-update-no-token","FCM returned no token when updating the user to push."),_t(nV,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),_t(nV,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),_t(nV,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),_t(nV,"invalid-vapid-key","The public VAPID key must be a string."),_t(nV,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),nV),VV=new Yt("messaging","Messaging",BV);function qV(e,t){return zV.apply(this,arguments)}function zV(){return(zV=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YV(t);case 2:return r=e.sent,i=JV(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(QV(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),VV.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,VV.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw VV.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function WV(e,t){return HV.apply(this,arguments)}function HV(){return(HV=_n(wn().mark((function e(t,n){var r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YV(t);case 2:return r=e.sent,i=JV(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(QV(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),VV.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,VV.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw VV.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function KV(e,t){return GV.apply(this,arguments)}function GV(){return(GV=_n(wn().mark((function e(t,n){var r,i,a,o,s;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YV(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(QV(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,VV.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),VV.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function QV(e){var t=e.projectId;return"".concat(vV,"/projects/").concat(t,"/registrations")}function YV(e){return $V.apply(this,arguments)}function $V(){return($V=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JV(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==pV&&(a.web.applicationPubKey=i),a}var XV=6048e5;function ZV(e){return eq.apply(this,arguments)}function eq(){return(eq=_n(wn().mark((function e(t){var n,r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sq(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:wV(n.getKey("auth")),p256dh:wV(n.getKey("p256dh"))},e.next=6,RV(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",aq(t.firebaseDependencies,r));case 11:if(cq(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,KV(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",aq(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+XV)){e.next=27;break}return e.abrupt("return",rq(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function tq(e){return nq.apply(this,arguments)}function nq(){return(nq=_n(wn().mark((function e(t){var n,r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RV(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,KV(t.firebaseDependencies,n.token);case 6:return e.next=8,jV(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rq(e,t){return iq.apply(this,arguments)}function iq(){return(iq=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WV(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,LV(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,tq(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function aq(e,t){return oq.apply(this,arguments)}function oq(){return(oq=_n(wn().mark((function e(t,n){var r,i;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qV(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,LV(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sq(e,t){return uq.apply(this,arguments)}function uq(){return(uq=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kV(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cq(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function lq(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var u=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function fq(e){return new Promise((function(t){setTimeout(t,e)}))}function hq(e,t){return dq.apply(this,arguments)}function dq(){return(dq=_n(wn().mark((function e(t,n){var r;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pq,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),vq(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pq(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=hV.DISPLAY_NOTIFICATION.toString():i.message_type=hV.DATA_MESSAGE.toString(),i.sdk_platform=yV.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=bV.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function vq(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function mq(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function gq(){return gq=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,tq(n);case 4:return e.abrupt("return");case 5:return e.next=7,RV(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,tq(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:pV,e.next=13,ZV(n);case 13:case"end":return e.stop()}}),e)}))),gq.apply(this,arguments)}function yq(){return(yq=_n(wn().mark((function e(t,n){var r,i,a;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kq(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,hq(n,r);case 6:return e.next=8,Eq();case 8:if(!Cq(i=e.sent)){e.next=11;break}return e.abrupt("return",Sq(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,Tq(wq(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(a=lq(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(a);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bq(){return bq=_n(wn().mark((function e(t){var n,r,i,a,o,s,u;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[mV]){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=Iq(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),s=new URL(self.location.origin),o.host===s.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,_q(o);case 18:if(u=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return u=e.sent,e.next=25,fq(3e3);case 25:e.next=30;break;case 27:return e.next=29,u.focus();case 29:u=e.sent;case 30:if(u){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=dV.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",u.postMessage(i));case 35:case"end":return e.stop()}}),e)}))),bq.apply(this,arguments)}function wq(e){var t=Object.assign({},e.notification);return t.data=_t({},mV,e),t}function kq(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function _q(e){return xq.apply(this,arguments)}function xq(){return xq=_n(wn().mark((function e(t){var n,r,i,a,o;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eq();case 2:n=e.sent,r=I(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),xq.apply(this,arguments)}function Cq(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function Sq(e,t){t.isFirebaseMessaging=!0,t.messageType=dV.PUSH_RECEIVED;var n,r=I(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function Eq(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Tq(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function Iq(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&gV in i?self.location.origin:null)}function Aq(e){return VV.create("missing-app-config-values",{valueName:e})}mq("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mq("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Nq=function(){function e(t,n,r){p(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Aq("App Configuration Object");if(!e.name)throw Aq("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Aq(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return y(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),Pq=function(e){var t=new Nq(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return yq.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return gq.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return bq.apply(this,arguments)}(e))})),t};function Oq(e,t){return function(e,t){if(void 0!==self.document)throw VV.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=bn(e),t)}hr(new xn("messaging-sw",Pq,"PUBLIC"));var Rq=function(){function e(t,n){p(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return y(e,[{key:"getToken",value:function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uV(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=_n(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lV(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return fV(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return Oq(this._delegate,e)}}]),e}(),Dq=function(e){return self&&"ServiceWorkerGlobalScope"in self?new Rq(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new Rq(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},Lq={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Gt()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&Gt()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};Jr.INTERNAL.registerComponent(new xn("messaging-compat",Dq,"PUBLIC").setServiceProps(Lq)),Jr.registerVersion("@firebase/messaging-compat","0.2.4");var Mq=Jr.initializeApp({apiKey:"AIzaSyD9I36KpKtK-fXYZQ7sCGsbUiDq0yCeti4",authDomain:"immersive-rise.firebaseapp.com",databaseURL:"https://immersive-rise-default-rtdb.firebaseio.com",projectId:"immersive-rise",storageBucket:"immersive-rise.appspot.com",messagingSenderId:"1034665642886",appId:"1:1034665642886:web:e9119d2163712394c53a07",measurementId:"G-6JGCGK17RF"}),jq=Mq.database(),Fq=(Mq.storage(),Mq.auth()),Uq=Jr,Bq=n(5737),Vq=n.n(Bq),qq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/classCallCheck.js").default,zq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/createClass.js").default,Wq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/assertThisInitialized.js").default,Hq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/inherits.js").default,Kq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/createSuper.js").default,Gq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/wrapNativeSuper.js").default,Qq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/slicedToArray.js").default,Yq=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/toConsumableArray.js").default,$q=require("C:/Users/joy/TextToVoice/web_text_to_voice/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js").default;!function(){var e=Object.defineProperty,t=Math.pow,n=function(t,n,r){return function(t,n,r){n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r}(t,"symbol"!=typeof n?n+"":n,r),r},r="pointers-overlap",i="pointers-min-distance",a="pointers-max-distance",o="range-dragging",s="data",u="step",c="round",l="type",f="theme",h="disabled",d="keyboard-disabled",p="mousewheel-disabled",v="animate-onclick",m="vertical",g="horizontal",y=function(e,t,n,r,i){var a=t-e;return 0===a?n:(r-n)*(i-e)/a+n},b=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},w=function(e,t){return b(e)?Number(e):t},k=function(e,t){return 0===t?0:Math.round(e/t)*t},_=function(e){return null!=e&&("boolean"==typeof e?e:"true"===e.trim().toLowerCase())},x=function(e,t,n){var r,i,a,o,s=0,u=!1,c=function(t){if(!u){switch(t.key){case"ArrowLeft":t.preventDefault(),"function"==typeof r&&r(n);break;case"ArrowRight":t.preventDefault(),"function"==typeof i&&i(n);break;case"ArrowUp":t.preventDefault(),"function"==typeof a&&a(n);break;case"ArrowDown":t.preventDefault(),"function"==typeof o&&o(n)}!function(e,t){e.dispatchEvent(new CustomEvent("onKeyDown",{detail:{nativeEvent:t}}))}(e,t)}},l=function(){u||function(e,t){e.dispatchEvent(new CustomEvent("onPointerClicked",{detail:{$pointer:t}}))}(e,t)};return t.className="pointer pointer-".concat(n),t.addEventListener("keydown",c),t.addEventListener("click",l),{$pointer:t,get percent(){return s},get disabled(){return u},set disabled(e){!function(e){u=e,t.classList.toggle("disabled",u),u?t.setAttribute("aria-disabled","true"):t.hasAttribute("aria-disabled")&&t.removeAttribute("aria-disabled")}(e)},updatePosition:function(e,n,r,i,a,o){var u=s;void 0!==r&&e>r&&(e=r),void 0!==n&&e<n&&(e=n);var c=s=e;return(i===m&&o||i===g&&a)&&(c=100-c),i===m?t.style.top="".concat(c,"%"):t.style.left="".concat(c,"%"),u!==s},isClicked:function(e){return e===t||t.contains(e)},setCallbacks:function(e,t,n,s){r=e,i=t,a=n,o=s},setAttr:function(e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},getAttr:function(e){return t.getAttribute(e)},destroy:function(){t.removeEventListener("keydown",c),t.removeEventListener("click",l),t.remove()}}},C="--animate-onclick",S=function(e,t,n){var r,i=new Map,a=$q(e.attributes);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.nodeName.trim().toLowerCase();if(t.test(s)){var u=s.replace(/\D/g,"").trim(),c=""===u||"0"===u||"1"===u?0:w(u,0)-1,l=n&&"function"==typeof n?n(o.value):o.value;i.set(c,l)}}}catch(f){a.e(f)}finally{a.f()}return i},E=[["--width","slider-width","sliderWidth",null],["--height","slider-height","sliderHeight",null],["--panel-bg-border-radius","slider-radius","sliderRadius",null],["--panel-bg","slider-bg","sliderBg",null],["--panel-bg-hover","slider-bg-hover","sliderBgHover",null],["--panel-bg-fill","slider-bg-fill","sliderBgFill",null],["--pointer-width","pointer-width","pointer#Width",/^pointer([0-9]*)-width$/],["--pointer-height","pointer-height","pointer#Height",/^pointer([0-9]*)-height$/],["--pointer-border-radius","pointer-radius","pointer#Radius",/^pointer([0-9]*)-radius$/],["--pointer-bg","pointer-bg","pointer#Bg",/^pointer([0-9]*)-bg$/],["--pointer-bg-hover","pointer-bg-hover","pointer#BgHover",/^pointer([0-9]*)-bg-hover$/],["--pointer-bg-focus","pointer-bg-focus","pointer#BgFocus",/^pointer([0-9]*)-bg-focus$/],["--pointer-shadow","pointer-shadow","pointer#Shadow",/^pointer([0-9]*)-shadow$/],["--pointer-shadow-hover","pointer-shadow-hover","pointer#ShadowHover",/^pointer([0-9]*)-shadow-hover$/],["--pointer-shadow-focus","pointer-shadow-focus","pointer#ShadowFocus",/^pointer([0-9]*)-shadow-focus$/],["--pointer-border","pointer-border","pointer#Border",/^pointer([0-9]*)-border$/],["--pointer-border-hover","pointer-border-hover","pointer#BorderHover",/^pointer([0-9]*)-border-hover$/],["--pointer-border-focus","pointer-border-focus","pointer#BorderFocus",/^pointer([0-9]*)-border-focus$/]],T=function(e,t,n){var r=null,i=[],a=new Map,o=function(e){var n,r=Yq((arguments.length>1&&void 0!==arguments[1]?arguments[1]:t).classList),i=$q(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.startsWith(e)&&t.classList.remove(a)}}catch(o){i.e(o)}finally{i.f()}},s=function(){o("shape");var e,n=t.querySelectorAll(".pointer"),r=$q(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;o("shape",i)}}catch(a){r.e(a)}finally{r.f()}},u=function(e){r=e,o("theme-"),"string"==typeof e&&t.classList.add("theme-".concat(e))},c=function(){if(s(),!(i.length<=0)){t.classList.add("shape","shape-".concat(i[0]));for(var e=1;e<i.length;e++){var n=i[e];if(n){var r=t.querySelector(".pointer-".concat(e));!r||r.classList.add("shape","shape-".concat(n))}}}},l=function(e,t){return"".concat(e,"-").concat(t)},h=function(e,r,i){var o=n[i];if(o){var s=0===i?t:o.$pointer;if(null==r)return a.has(l(e,i))&&a.delete(l(e,i)),void s.style.removeProperty(e);a.set(l(e,i),r),s.style.setProperty(e,r)}},d=function(e,t){return a.get(l(e,t))};return function(){for(var t=function(){var t=a[r],i=Qq(t,4),o=i[0],s=i[1],u=i[2],c=i[3];if(c){var l,f=S(e,c),p=$q(f);try{for(p.s();!(l=p.n()).done;){var v=l.value,m=v[0],g=v[1];h(o,g,m)}}catch(C){p.e(C)}finally{p.f()}}else{var y=e.getAttribute(s);h(o,y,0)}var b=[];if(-1===u.indexOf("#"))b.push([u,0]);else{b.push([u.replace("#",""),0]),b.push([u.replace("#","0"),0]),b.push([u.replace("#","1"),0]);for(var w=1;w<n.length;w++)b.push([u.replace("#",(w+1).toString()),w])}for(var k=function(){var t=x[_];try{var n=t[0],r=t[1];Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{get:function(){return d(o,r)},set:function(e){h(o,e,r)}})}catch(v){console.error(v)}},_=0,x=b;_<x.length;_++)k()},r=0,a=E;r<a.length;r++)t();u(e.getAttribute(f)),function(){s();var t=S(e,/^pointer([0-9]*)-shape$/);if(!(t.size<=0)){var n,r=$q(t);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a[0];i[o]=a[1]}}catch(u){r.e(u)}finally{r.f()}c()}}()}(),{setStyle:h,getStyle:d,get theme(){return r},set theme(e){u(e)},get pointerShapes(){return i},setPointerShape:function(e,t){i[e]=t,c()}}},I="animate-on-click",A="range-dragging",N=function(e,t,n,r,i,a,o){try{Object.defineProperty(e,r,{configurable:!0,get:function(){if(t){var e=t.pointers[n];if(e){var r=t.getTextValue(e.percent);return b(r)?w(r,r):r}}},set:function(e){t.pointers[n]?null==t||t.setValue(e,n):null==t||t.addPointer(e)}}),Object.defineProperty(e,i,{configurable:!0,get:function(){var e,r;return null!=(r=null==(e=null==t?void 0:t.pointers[n])?void 0:e.getAttr("aria-label"))?r:void 0},set:function(e){!t||t.setAriaLabel(n,e)}}),Object.defineProperty(e,a,{configurable:!0,get:function(){var e,r;return null!=(r=null==(e=null==t?void 0:t.styles)?void 0:e.pointerShapes[n])?r:null},set:function(e){!t||!t.styles||t.styles.setPointerShape(n,e)}}),Object.defineProperty(e,o,{configurable:!0,get:function(){var e;return null!=(e=null==t?void 0:t.pointers[n].disabled)&&e},set:function(e){if(t){var r=null==t?void 0:t.pointers[n];!r||(r.disabled=e)}}})}catch(ow){console.error(ow)}},P=function(e,t,n){var r,i=null==(r=n.shadowRoot)?void 0:r.querySelector(".container");if(i){var a,o=$q(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;t?i.prepend(s.$pointer):i.append(s.$pointer)}}catch(u){o.e(u)}finally{o.f()}}},O=100,R="0.3s",D=function(e,n,f){var E,N,D,L,M=f.map((function(e){return e[0]})),j=null,F=null,U=null,B=null,V=0,q=O,z=g,W=2,H=!1,K=!1,G=!1,Q=0,Y=1/0,$=!1,J=!1,X=!1,Z=!1,ee=R,te=[],ne=function(t){J||(t.preventDefault&&t.preventDefault(),ae(t),window.addEventListener("mousemove",ae),window.addEventListener("mouseup",re),function(e,t){e.dispatchEvent(new CustomEvent("onMouseDown",{detail:{nativeEvent:t}}))}(e,t))},re=function t(r){J||(D=void 0,L=void 0,window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",t),ee&&n.classList.add(I),function(e,t){e.dispatchEvent(new CustomEvent("onMouseUp",{detail:{nativeEvent:t}}))}(e,r))},ie=function(){return M.findIndex((function(e){return j===e&&!e.disabled}))},ae=function(e){var t;if(z===m){var r=n.getBoundingClientRect(),i=r.height,a=r.top,o=-1!==e.type.indexOf("mouse")?e.clientY:e.touches[0].clientY;t=100*Math.min(Math.max(0,o-a),i)/i}else{var s=n.getBoundingClientRect(),u=s.width,c=s.left,l=-1!==e.type.indexOf("mouse")?e.clientX:e.touches[0].clientX;t=100*Math.min(Math.max(0,l-c),u)/u}if((H||K)&&(t=100-t),j=function(e,t){if(!(M.length<=0)){if(1===M.length)return M[0].isClicked(e)&&ee&&n.classList.remove(I),M[0];var r=he(e);if($){var i=t,a=ge(i);void 0!==a&&(i=k(i,a)),r?(D=i,L=0,ee&&n.classList.remove(I)):void 0!==D&&(L=i-D,D=i)}if(!fe(e)&&!r){var o,s=$q(M);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.isClicked(e)&&!u.disabled)return ee&&n.classList.remove(I),u}}catch(y){s.e(y)}finally{s.f()}var c,l=$q(M);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(j===f)return f}}catch(y){l.e(y)}finally{l.f()}}var h,d=1/0,p=null,v=$q(M);try{for(v.s();!(h=v.n()).done;){var m=h.value;if(!m.disabled){var g=Math.abs(t-m.percent);g<d&&(d=g,p=m)}}}catch(y){v.e(y)}finally{v.f()}return p}}(e.target,t),$&&M.length>1&&void 0!==L){var f=M[0],h=M[M.length-1],d=f.percent+L<0,p=h.percent+L>100;if(d||p)return;for(var v=0;v<M.length;v++)Ve(v,M[v].percent+L)}else{var g=ie();-1!==g&&(Ve(g,t),null==j||j.$pointer.focus())}},oe=function(t){if(!J&&document.activeElement===e&&!(null==j?void 0:j.disabled)){t.stopPropagation(),t.preventDefault();var n=t.deltaY<0,r=H||K,i=n?!r:r,a=ie();-1!==a&&(i?de(a,M[a].percent):pe(a,M[a].percent))}},se=function(e){J||X||(z===m?Ve(e,K?100:0):H?pe(e,M[e].percent):de(e,M[e].percent))},ue=function(e){J||X||(z===m?Ve(e,K?0:100):H?de(e,M[e].percent):pe(e,M[e].percent))},ce=function(e){J||X||(z===m?K?pe(e,M[e].percent):de(e,M[e].percent):Ve(e,H?100:0))},le=function(e){J||X||(z===m?K?de(e,M[e].percent):pe(e,M[e].percent):Ve(e,H?0:100))},fe=function(e){return e.classList.contains("panel")},he=function(e){return e.classList.contains("panel-fill")},de=function(e,t){if(void 0!==t){var n=ge(t);null==n&&(n=1),(t-=n)<0&&(t=0),Ve(e,t)}},pe=function(e,t){if(void 0!==t){var n=ge(t);null==n&&(n=1),(t+=n)>100&&(t=100),Ve(e,t)}},ve=function(){!B||B.update({percents:Ce(),values:Se(),$pointers:Ee(),min:Te(),max:Ie(),data:Ae(),step:ke(),round:Pe(),type:Ne(),textMin:be(),textMax:we(),rightToLeft:De(),bottomToTop:Le(),pointersOverlap:Ue(),pointersMinDistance:Oe(),pointersMaxDistance:Re(),rangeDragging:Be(),disabled:Me(),keyboardDisabled:je(),mousewheelDisabled:Fe()})},me=function(){ve()},ge=function(e){var t;if("function"==typeof E){var n=y(0,100,V,q,e);t=E(n,e)}else t=E;if(b(t)){var r=q-V;return t=0===r?0:100*t/r}},ye=function(e){if(void 0!==e){var n=y(0,100,V,q,e);return void 0!==N?N[Math.round(n)]:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(n===1/0)return e;var r=t(10,n);return Math.round(e*r)/r}(n,W)}},be=function(){return void 0!==N?N[V]:V},we=function(){return void 0!==N?N[q]:q},ke=function(){return E},_e=function(e){var t;return e<=0||G?be():null!=(t=ye(M[e-1].percent))?t:""},xe=function(e){var t;return M.length<=1||e>=M.length-1||G?we():null!=(t=ye(M[e+1].percent))?t:""},Ce=function(){return M.map((function(e){return e.percent}))},Se=function(){return M.map((function(e){return ye(e.percent)}))},Ee=function(){return M.map((function(e){return e.$pointer}))},Te=function(){return V},Ie=function(){return q},Ae=function(){return N},Ne=function(){return z},Pe=function(){return W},Oe=function(){return Q},Re=function(){return Y},De=function(){return H},Le=function(){return K},Me=function(){return J},je=function(){return X},Fe=function(){return Z},Ue=function(){return G},Be=function(){return $},Ve=function(t,n){if(void 0!==n){var r=ge(n);void 0!==r&&(n=k(n,r));var i=M[t];if(i){var a=i.updatePosition(n,function(e){if(!(G||M.length<=1||q===V)){if(0===e){var t=100*Y/(q-V);return Math.max(0,M[e+1].percent-t)}var n=100*Q/(q-V);return Math.min(M[e-1].percent+n,100)}}(t),function(e){if(!(G||M.length<=1||q===V)){if(e===M.length-1){var t=100*Y/(q-V);return Math.min(M[e-1].percent+t,100)}var n=100*Q/(q-V);return Math.max(0,M[e+1].percent-n)}}(t),z,H,K);null==F||F.updatePosition(z,M.map((function(e){return e.percent})),H,K),ve();var o,s=$q(M);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=ye(u.percent);void 0!==c&&(u.setAttr("aria-valuenow",c.toString()),u.setAttr("aria-valuetext",c.toString()))}}catch(l){s.e(l)}finally{s.f()}ze(),a&&function(e,t){if(t&&!(t.length<=0)){var n=t.map((function(e){return b(e)?w(e,e):e})),r={values:n||[]};r.value=n[0],r.value0=n[0],r.value1=n[0];for(var i=1;i<n.length;i++)r["value".concat(i+1)]=n[i];e.dispatchEvent(new CustomEvent("change",{detail:r}))}}(e,M.map((function(e){return ye(e.percent)})))}}},qe=function(){for(var e=0;e<M.length;e++)Ve(e,M[e].percent)},ze=function(){for(var e,t,n=0;n<M.length;n++){var r=M[n];r.setAttr("aria-valuemin",(null!=(e=_e(n))?e:"").toString()),r.setAttr("aria-valuemax",(null!=(t=xe(n))?t:"").toString())}},We=function(e){(V=w(e,0))>q&&(q=V+O),qe()},He=function(e){(q=w(e,O))<V&&(q=V+O),qe()},Ke=function(e){G=!0;for(var t=0;t<e.length;t++)Ge(e[t],t);G=!1;for(var n=0;n<e.length;n++)Ge(e[n],n)},Ge=function(e,t){var n;void 0!==N?(n=null==e?0:function(e,t){return t?t.findIndex((function(t){return t===e||t.toString().trim()===e.toString().trim()})):-1}(e,N),-1===n&&(n=0)):((n=w(e,V))<V&&(n=V),n>q&&(n=q));var r=y(V,q,0,100,n);Ve(t,r)},Qe=function(e){if(null!=e){if("function"==typeof e)return E=e,void qe();if(b(e)){E=w(e,1);var t=Math.abs(q-V);return E>t&&(E=void 0),void qe()}E=void 0}else E=void 0},Ye=function(e){G=e,qe()},$e=function(e){(!b(e)||e<0)&&(e=0),Q=e},Je=function(e){(!b(e)||e<0)&&(e=1/0),Y=e},Xe=function(e){J=e,n.classList.toggle("disabled",J),J?n.setAttribute("aria-disabled","true"):n.hasAttribute("aria-disabled")&&n.removeAttribute("aria-disabled")},Ze=function(e){X=e},et=function(e){(Z=e)?document.removeEventListener("wheel",oe):document.addEventListener("wheel",oe,{passive:!1})},tt=function(e){null!=e?(N=function(e){if(null!=e){if(Array.isArray(e))return e;if(""!==e.trim()){for(var t=e.split(","),n=[],r=!0,i=0;i<t.length;i++){var a=t[i].trim();""!==a&&(n.push(a),b(a)||(r=!1))}return r?n.map((function(e){return Number(e)})):n}}}(e),void 0===N||N.length<=0?N=void 0:(We(0),He(N.length-1),void 0===E&&Qe(1))):N=void 0},nt=function(t){var n;z="string"==typeof t&&t.trim().toLowerCase()===m?m:g;var r=null==(n=e.shadowRoot)?void 0:n.querySelector(".range-slider-box");if(r){r.className="range-slider-box type-".concat(z),qe();var i,a=z===m?"vertical":"horizontal",o=$q(M);try{for(o.s();!(i=o.n()).done;){i.value.setAttr("aria-orientation",a)}}catch(s){o.e(s)}finally{o.f()}}},rt=function(t){H=t,M.length>1&&P(M,H,e),qe(),ve()},it=function(t){K=t,M.length>1&&P(M,K,e),qe(),ve()},at=function(e){(W=w(e,2))<0&&(W=2),ve()},ot=function(e){null==e||"false"===e.toString().trim().toLowerCase()?(ee=void 0,n.style.removeProperty(C),n.classList.remove(I)):(ee=e.toString(),n.style.setProperty(C,ee),n.classList.add(I))},st=function(e,t){var n=M[e];!n||(n.setAttr("aria-label",t),te[e]=t)},ut=function(e){if(D=void 0,M.length<=1)return $=!1,void n.classList.remove(A);$=e,n.classList.toggle(A,$)};return function(){var t,g,y,b=$q(M);try{for(b.s();!(y=b.n()).done;){y.value.setCallbacks(se,ue,ce,le)}}catch(x){b.e(x)}finally{b.f()}var k=null==(t=e.shadowRoot)?void 0:t.querySelector(".panel-fill");k&&(F=function(e){return{updatePosition:function(t,n,r,i){if(!(n.length<=0)){var a=1===n.length,o=n[0],s=n[n.length-1];t===m?(e.style.removeProperty("width"),e.style.removeProperty("right"),e.style.removeProperty("left"),e.style.height="".concat(a?o:Math.abs(o-s),"%"),i?(e.style.bottom="0%",e.style.top=a?"auto":"".concat(Math.min(100-s,100-o),"%")):(e.style.bottom="auto",e.style.top=a?"0%":"".concat(Math.min(o,s),"%"))):(e.style.removeProperty("height"),e.style.removeProperty("top"),e.style.removeProperty("bottom"),e.style.width="".concat(a?o:Math.abs(o-s),"%"),r?(e.style.right="0%",e.style.left=a?"auto":"".concat(Math.min(100-s,100-o),"%")):(e.style.right="auto",e.style.left=a?"0%":"".concat(Math.min(o,s),"%")))}}}}(k)),nt(e.getAttribute(l)),rt(_(e.getAttribute("rtl"))),it(_(e.getAttribute("btt"))),function(e,t){V=void 0!==N?0:w(e,0),q=void 0!==N?N.length-1:w(t,O),We(V),He(q)}(e.getAttribute("min"),e.getAttribute("max")),Qe(e.getAttribute(u)),tt(e.getAttribute(s)),Ke(f.map((function(e){return e[1]}))),Ye(_(e.getAttribute(r))),$e(w(e.getAttribute(i),0)),Je(w(e.getAttribute(a),1/0)),ut(_(e.getAttribute(o))),at(w(e.getAttribute(c),2)),function(){Xe(_(e.getAttribute(h))),X=_(e.getAttribute(d)),Z=_(e.getAttribute(p));var t,n=S(e,/^pointer([0-9]*)-disabled$/,(function(e){return _(e)})),r=$q(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i[0];!M[a]||(M[a].disabled=i[1])}}catch(x){r.e(x)}finally{r.f()}}(),function(){var t,n=S(e,/^aria-label([0-9]*)$/),r=$q(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i[0];st(a,i[1])}}catch(x){r.e(x)}finally{r.f()}}(),U=T(e,n,M),ot(null!=(g=e.getAttribute(v))?g:R),n.addEventListener("mousedown",ne),n.addEventListener("mouseup",re),n.addEventListener("touchmove",ae),n.addEventListener("touchstart",ae),Z||document.addEventListener("wheel",oe,{passive:!1}),B=function(e,t,n,r){var i=[],a=function(t){if(t.gettersAndSetters){var n,r=$q(t.gettersAndSetters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.name&&i.attributes)try{Object.prototype.hasOwnProperty.call(e,i.name)||Object.defineProperty(e,i.name,i.attributes)}catch(W){console.error("defineSettersGetters error:",W)}}}catch(x){r.e(x)}finally{r.f()}}},o=function(t){var n;if(t.css){var r=null==(n=e.shadowRoot)?void 0:n.querySelector("style");!r||(r.innerHTML+=t.css)}};return{init:function(){if(window.tcRangeSliderPlugins){var s,u=$q(window.tcRangeSliderPlugins);try{for(u.s();!(s=u.n()).done;){var c=(0,s.value)();i.push(c),c.init&&"function"==typeof c.init&&(c.init(e,t,n,r),a(c),o(c))}}catch(x){u.e(x)}finally{u.f()}}},update:function(e){for(var t=0,n=i;t<n.length;t++){var r=n[t];r.update&&"function"==typeof r.update&&r.update(e)}},onAttrChange:function(e,t){for(var n=0,r=i;n<r.length;n++){var a=r[n];a.onAttrChange&&"function"==typeof a.onAttrChange&&a.onAttrChange(e,t)}},destroy:function(){for(var e=0,t=i;e<t.length;e++){var n=t[e];n.destroy&&"function"==typeof n.destroy&&n.destroy()}}}}(e,me,{setValues:Ke,setMin:We,setMax:He,setStep:Qe,setPointersOverlap:Ye,setPointersMinDistance:$e,setPointersMaxDistance:Je,setDisabled:Xe,setType:nt,setRightToLeft:rt,setBottomToTop:it,setRound:at,setKeyboardDisabled:Ze,setMousewheelDisabled:et,setRangeDragging:ut,setData:tt},{getPercents:Ce,getValues:Se,getPointerElements:Ee,getMin:Te,getMax:Ie,getStep:ke,getData:Ae,getType:Ne,getRound:Pe,getTextMin:be,getTextMax:we,isRightToLeft:De,isBottomToTop:Le,isDisabled:Me,isKeyboardDisabled:je,isMousewheelDisabled:Fe,isPointersOverlap:Ue,isRangeDraggingEnabled:Be,getPointersMinDistance:Oe,getPointersMaxDistance:Re}),B.init()}(),{get pointers(){return M},get styles(){return U},get pluginsManager(){return B},get min(){return be()},get max(){return we()},get step(){return ke()},get pointersOverlap(){return Ue()},set pointersOverlap(e){Ye(e)},get pointersMinDistance(){return Oe()},set pointersMinDistance(e){$e(e)},get pointersMaxDistance(){return Re()},set pointersMaxDistance(e){Je(e)},get disabled(){return Me()},set disabled(e){Xe(e)},get data(){return Ae()},get type(){return Ne()},set type(e){nt(e)},get rightToLeft(){return De()},set rightToLeft(e){rt(e)},get bottomToTop(){return Le()},set bottomToTop(e){it(e)},get round(){return Pe()},set round(e){at(e)},get animateOnClick(){return ee},set animateOnClick(e){ot(e)},get keyboardDisabled(){return je()},set keyboardDisabled(e){Ze(e)},get mousewheelDisabled(){return Fe()},set mousewheelDisabled(e){et(e)},get rangeDragging(){return Be()},set rangeDragging(e){ut(e)},setMin:We,setMax:He,setValue:Ge,setStep:Qe,setData:tt,getTextValue:ye,setAriaLabel:st,getAriaLabel:function(e){return te[e]},addPointer:function(t){var n=M.length,r=M[n-1].$pointer,i=r.cloneNode(!0);r.after(i);var a=x(e,i,n);return a.setCallbacks(se,ue,ce,le),M.push(a),Ge(t,n),qe(),ve(),n},removePointer:function(){var e=M.length,t=M[e-1];return t?(t.destroy(),M.pop(),M.length<=1&&ut(!1),qe(),ve(),e-1):-1},destroy:function(){n.removeEventListener("mousedown",ne),n.removeEventListener("mouseup",re),n.removeEventListener("touchmove",ae),n.removeEventListener("touchstart",ae),document.removeEventListener("wheel",oe);var e,t=$q(M);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}null==B||B.destroy()}}},L=function(e){Hq(m,e);var t=Kq(m);function m(){var e;return qq(this,m),e=t.call(this),n(Wq(e),"slider"),n(Wq(e),"_externalCSSList",[]),n(Wq(e),"_observer",null),e.attachShadow({mode:"open"}),e}return zq(m,[{key:"step",get:function(){var e;return null==(e=this.slider)?void 0:e.step},set:function(e){this.slider&&this.slider.setStep(e)}},{key:"disabled",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.disabled)&&t},set:function(e){this.slider&&(this.slider.disabled=e)}},{key:"data",get:function(){var e;return null==(e=this.slider)?void 0:e.data},set:function(e){var t;null==(t=this.slider)||t.setData(e)}},{key:"min",get:function(){var e;return null==(e=this.slider)?void 0:e.min},set:function(e){var t;null==(t=this.slider)||t.setMin(e)}},{key:"max",get:function(){var e;return null==(e=this.slider)?void 0:e.max},set:function(e){var t;null==(t=this.slider)||t.setMax(e)}},{key:"round",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.round)?t:2},set:function(e){!this.slider||(this.slider.round=e)}},{key:"type",get:function(){var e;return(null==(e=this.slider)?void 0:e.type)||g},set:function(e){!this.slider||(this.slider.type=null!=e?e:g)}},{key:"pointersOverlap",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.pointersOverlap)&&t},set:function(e){!this.slider||(this.slider.pointersOverlap=e)}},{key:"pointersMinDistance",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.pointersMinDistance)?t:0},set:function(e){!this.slider||(this.slider.pointersMinDistance=e)}},{key:"pointersMaxDistance",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.pointersMaxDistance)?t:1/0},set:function(e){!this.slider||(this.slider.pointersMaxDistance=e)}},{key:"theme",get:function(){var e,t,n;return null!=(n=null==(t=null==(e=this.slider)?void 0:e.styles)?void 0:t.theme)?n:null},set:function(e){!this.slider||!this.slider.styles||(this.slider.styles.theme=e)}},{key:"rtl",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.rightToLeft)&&t},set:function(e){!this.slider||(this.slider.rightToLeft=e)}},{key:"btt",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.bottomToTop)&&t},set:function(e){!this.slider||(this.slider.bottomToTop=e)}},{key:"keyboardDisabled",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.keyboardDisabled)&&t},set:function(e){!this.slider||(this.slider.keyboardDisabled=e)}},{key:"mousewheelDisabled",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.mousewheelDisabled)&&t},set:function(e){!this.slider||(this.slider.mousewheelDisabled=e)}},{key:"animateOnClick",get:function(){var e;return null==(e=this.slider)?void 0:e.animateOnClick},set:function(e){!this.slider||(this.slider.animateOnClick=e)}},{key:"rangeDragging",get:function(){var e,t;return null!=(t=null==(e=this.slider)?void 0:e.rangeDragging)&&t},set:function(e){this.slider&&(this.slider.rangeDragging=_(e))}},{key:"externalCSSList",get:function(){return this._externalCSSList}},{key:"addPointer",value:function(e){var t;if(this.slider){var n=null==(t=this.slider)?void 0:t.addPointer(e);N(this,this.slider,n,"value".concat(n+1),"ariaLabel".concat(n+1),"pointerShape".concat(n+1),"pointer".concat(n+1,"Disabled"))}}},{key:"removePointer",value:function(){var e;!this.slider||null==(e=this.slider)||e.removePointer()}},{key:"addCSS",value:function(e){if(this.shadowRoot){var t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}}},{key:"connectedCallback",value:function(){var e,t,n=this;if(this.shadowRoot){this._externalCSSList=function(e){if(!e)return null;var t=e.getAttribute("css-links");if(!t)return null;var n,r=t.split(";"),i=[],a=$q(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;""!==o.trim()&&i.push(o.trim())}}catch(s){a.e(s)}finally{a.f()}return i}(this),this.shadowRoot.innerHTML=function(e,t){return" ".concat(t&&t.length>0?t.map((function(e){return'<link rel="stylesheet" href="'.concat(e,'" />')})).join(""):""," <style> ").concat(e,' </style> <div class="range-slider-box"> <div class="row"> <div id="range-slider" class="range-slider"> <div class="container"> <div class="panel"></div> <div class="panel-fill"></div> <div class="container"> <div class="pointer" tabindex="0" role="slider"> <div class="pointer-shape"></div> </div> </div> </div> </div> </div> </div>')}(":host{--width:300px;--height:.25rem;--opacity:.4;--panel-bg:#cbd5e1;--panel-bg-hover:#94a3b8;--panel-bg-fill:#475569;--panel-bg-border-radius:1rem;--pointer-width:1rem;--pointer-height:1rem;--pointer-bg:#fff;--pointer-bg-hover:#dcdcdc;--pointer-bg-focus:#dcdcdc;--pointer-shadow:0 0 2px rgba(0,0,0,0.8);--pointer-shadow-hover:0 0 2px #000;--pointer-shadow-focus:var(--pointer-shadow-hover);--pointer-border:1px solid hsla(0,0%,88%,0.5);--pointer-border-hover:1px solid #94a3b8;--pointer-border-focus:var(--pointer-border-hover);--pointer-border-radius:100%;--animate-onclick:.3s}:host{max-width:100%}.range-slider-box{display:flex;position:relative;flex-direction:column}.range-slider{position:relative;width:var(--width,100%);height:var(--height,0.25rem);touch-action:none;max-width:100%;box-sizing:border-box;cursor:pointer}.row{width:100%;display:flex;align-items:center}.range-slider.disabled{opacity:var(--opacity,0.4);cursor:default}.pointer.disabled{-webkit-filter:brightness(0.8);filter:brightness(0.8);cursor:default}.range-slider *{box-sizing:border-box}.container{position:absolute;width:100%;height:100%}.panel{position:absolute;z-index:10;width:100%;height:100%;background:var(--panel-bg,#2d4373);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;transition:.3s all ease}.panel-fill{background:var(--panel-bg-fill,#000);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;height:100%;position:absolute;z-index:10}.panel:hover{background:var(--panel-bg-hover,#5f79b7)}.disabled .panel:hover{background:var(--panel-bg,#5f79b7)}.pointer{position:absolute;z-index:20;outline:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;box-shadow:var(--pointer-shadow);border:var(--pointer-border);border-radius:var(--pointer-border-radius,100%);-webkit-transform:translateX(-50%);transform:translateX(-50%);width:var(--pointer-width,15px);height:var(--pointer-height,15px);transition:.3s all ease}.pointer-shape:hover{background:var(--pointer-bg-hover,#fff);background-size:contain;border:var(--pointer-border-hover);box-shadow:var(--pointer-shadow-hover)}.disabled .pointer-shape:hover{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.pointer:focus .pointer-shape{background:var(--pointer-bg-focus,#fff);background-size:contain;border:var(--pointer-border-focus);box-shadow:var(--pointer-shadow-focus)}.disabled .pointer:focus .pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.type-vertical .range-slider{--width:.25rem;--height:300px;max-height:100%}.type-vertical .range-slider .pointer{left:50%}.type-vertical .range-slider .panel-fill{width:100%}.type-vertical.range-slider-box{flex-direction:row}.type-vertical .row{flex-direction:column}.animate-on-click .pointer,.animate-on-click .panel-fill{transition:all var(--animate-onclick)}.range-dragging .panel-fill{cursor:move}",this._externalCSSList);var m=null==(e=this.shadowRoot)?void 0:e.querySelector(".pointer");if(m){var g=null==(t=this.shadowRoot)?void 0:t.getElementById("range-slider");if(g){var y=function(e,t){var n,r=new Map,i=/^value([0-9]*)$/,a=$q(e.attributes);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.nodeName.trim().toLowerCase();if(i.test(s)){var u=s.replace("value","").trim(),c=""===u||"0"===u||"1"===u?0:w(u,0)-1,l=b(o.value)?w(o.value,0):o.value;r.set(c,l)}}}catch(m){a.e(m)}finally{a.f()}var f=Math.max.apply(Math,Yq(Array.from(r.keys()))),h=[];h.push([x(e,t,0),r.get(0)]);for(var d=t,p=1;p<=f;p++){var v=t.cloneNode(!0);d.after(v),d=v,h.push([x(e,v,p),r.get(p)])}return h}(this,m);this.slider=D(this,g,y),function(e,t){for(var n=[["value","ariaLabel","pointerShape","pointerDisabled",0],["value0","ariaLabel0","pointerShape0","pointer0Disabled",0],["value1","ariaLabel1","pointerShape1","pointer1Disabled",0]],r=2;r<10;r++)n.push(["value".concat(r),"ariaLabel".concat(r),"pointer".concat(r,"Shape"),"pointer".concat(r,"Disabled"),r-1]);for(var i=0,a=n;i<a.length;i++){var o=a[i];N(e,t,o[4],o[0],o[1],o[2],o[3])}}(this,this.slider),this._observer=new MutationObserver((function(e){e.forEach((function(e){var t;if(n.slider&&"attributes"===e.type){var m=e.attributeName;!m||function(e,t,n){var m=E.find((function(e){var n=Qq(e,4),r=(n[0],n[1]);return n[2],n[3],r.replace("#","")===t.replace(/\d+/g,"")}));if(m&&e.styles){var g=Qq(m,4),y=g[0],b=(g[1],g[2],g[3],t.replace(/\D/g,"").trim()),k=""===b||"0"===b||"1"===b?0:w(b,0)-1;e.styles.setStyle(y,n,k)}else{switch(e&&e.pluginsManager&&e.pluginsManager.onAttrChange(t,n),t){case"min":e.setMin(n);break;case"max":e.setMax(n);break;case u:e.setStep(n);break;case r:e.pointersOverlap=_(n);break;case i:e.pointersMinDistance=w(n,0);break;case o:e.rangeDragging=_(n);break;case a:e.pointersMaxDistance=w(n,1/0);break;case h:e.disabled=_(n);break;case d:e.keyboardDisabled=_(n);break;case p:e.mousewheelDisabled=_(n);break;case s:e.setData(n);break;case l:e.type=n;break;case"rtl":e.rightToLeft=_(n);break;case"btt":e.bottomToTop=_(n);break;case c:e.round=w(n,2);break;case f:e.styles&&(e.styles.theme=n);break;case v:e.animateOnClick=n}var x=null;if(/^value([0-9]*)$/.test(t)&&(x="value"),/^pointer([0-9]*)-disabled$/.test(t)&&(x="pointer-disabled"),/^aria-label([0-9]*)$/.test(t)&&(x="aria-label"),/^pointer([0-9]*)-shape$/.test(t)&&(x="pointer-shape"),x){var C=t.replace(/\D/g,"").trim(),S=""===C||"0"===C||"1"===C?0:w(C,0)-1;switch(x){case"value":e.setValue(n,S);break;case"pointer-disabled":var T=null==e?void 0:e.pointers[S];if(!T)return;T.disabled=_(n);break;case"aria-label":e.setAriaLabel(S,n);break;case"pointer-shape":e.styles&&e.styles.setPointerShape(S,n)}}}}(n.slider,m,null!=(t=n.getAttribute(m))?t:"")}}))})),this._observer.observe(this,{attributes:!0})}}}}},{key:"disconnectedCallback",value:function(){this._observer&&this._observer.disconnect(),this.slider&&this.slider.destroy()}}]),m}(Gq(HTMLElement)),M=L;window.tcRangeSlider=M,customElements.get("toolcool-range-slider")||customElements.define("toolcool-range-slider",M),customElements.get("tc-range-slider")||customElements.define("tc-range-slider",function(e){Hq(n,e);var t=Kq(n);function n(){return qq(this,n),t.apply(this,arguments)}return zq(n)}(M))}();var Jq=function(){return Jq=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jq.apply(this,arguments)};function Xq(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Zq,ez="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},tz={exports:{}};Zq=tz,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)n.push(i);else if(Array.isArray(i)){if(i.length){var o=t.apply(null,i);o&&n.push(o)}}else if("object"===a)if(i.toString===Object.prototype.toString)for(var s in i)e.call(i,s)&&i[s]&&n.push(s);else n.push(i.toString())}}return n.join(" ")}Zq.exports?(t.default=t,Zq.exports=t):window.classNames=t}();var nz=tz.exports,rz=Array.isArray,iz="object"==typeof ez&&ez&&ez.Object===Object&&ez,az="object"==typeof self&&self&&self.Object===Object&&self,oz=iz||az||Function("return this")(),sz=oz.Symbol,uz=sz,cz=Object.prototype,lz=cz.hasOwnProperty,fz=cz.toString,hz=uz?uz.toStringTag:void 0;var dz=function(e){var t=lz.call(e,hz),n=e[hz];try{e[hz]=void 0;var r=!0}catch(a){}var i=fz.call(e);return r&&(t?e[hz]=n:delete e[hz]),i},pz=Object.prototype.toString;var vz=dz,mz=function(e){return pz.call(e)},gz=sz?sz.toStringTag:void 0;var yz=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":gz&&gz in Object(e)?vz(e):mz(e)};var bz=function(e){return null!=e&&"object"==typeof e},wz=yz,kz=bz;var _z=function(e){return"symbol"==typeof e||kz(e)&&"[object Symbol]"==wz(e)},xz=rz,Cz=_z,Sz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ez=/^\w*$/;var Tz=function(e,t){if(xz(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Cz(e))||(Ez.test(e)||!Sz.test(e)||null!=t&&e in Object(t))};var Iz=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Az=yz,Nz=Iz;var Pz=function(e){if(!Nz(e))return!1;var t=Az(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Oz=oz["__core-js_shared__"],Rz=function(){var e=/[^.]+$/.exec(Oz&&Oz.keys&&Oz.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Dz=function(e){return!!Rz&&Rz in e},Lz=Function.prototype.toString;var Mz=Pz,jz=Dz,Fz=Iz,Uz=function(e){if(null!=e){try{return Lz.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Bz=/^\[object .+?Constructor\]$/,Vz=Function.prototype,qz=Object.prototype,zz=Vz.toString,Wz=qz.hasOwnProperty,Hz=RegExp("^"+zz.call(Wz).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Kz=function(e){return!(!Fz(e)||jz(e))&&(Mz(e)?Hz:Bz).test(Uz(e))},Gz=function(e,t){return null==e?void 0:e[t]};var Qz=function(e,t){var n=Gz(e,t);return Kz(n)?n:void 0},Yz=Qz(Object,"create"),$z=Yz;var Jz=function(){this.__data__=$z?$z(null):{},this.size=0};var Xz=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zz=Yz,eW=Object.prototype.hasOwnProperty;var tW=function(e){var t=this.__data__;if(Zz){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return eW.call(t,e)?t[e]:void 0},nW=Yz,rW=Object.prototype.hasOwnProperty;var iW=Yz;var aW=Jz,oW=Xz,sW=tW,uW=function(e){var t=this.__data__;return nW?void 0!==t[e]:rW.call(t,e)},cW=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=iW&&void 0===t?"__lodash_hash_undefined__":t,this};function lW(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}lW.prototype.clear=aW,lW.prototype.delete=oW,lW.prototype.get=sW,lW.prototype.has=uW,lW.prototype.set=cW;var fW=lW;var hW=function(){this.__data__=[],this.size=0};var dW=function(e,t){return e===t||e!==e&&t!==t},pW=dW;var vW=function(e,t){for(var n=e.length;n--;)if(pW(e[n][0],t))return n;return-1},mW=vW,gW=Array.prototype.splice;var yW=vW;var bW=vW;var wW=vW;var kW=hW,_W=function(e){var t=this.__data__,n=mW(t,e);return!(n<0)&&(n==t.length-1?t.pop():gW.call(t,n,1),--this.size,!0)},xW=function(e){var t=this.__data__,n=yW(t,e);return n<0?void 0:t[n][1]},CW=function(e){return bW(this.__data__,e)>-1},SW=function(e,t){var n=this.__data__,r=wW(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function EW(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}EW.prototype.clear=kW,EW.prototype.delete=_W,EW.prototype.get=xW,EW.prototype.has=CW,EW.prototype.set=SW;var TW=EW,IW=Qz(oz,"Map"),AW=fW,NW=TW,PW=IW;var OW=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var RW=function(e,t){var n=e.__data__;return OW(t)?n["string"==typeof t?"string":"hash"]:n.map},DW=RW;var LW=RW;var MW=RW;var jW=RW;var FW=function(){this.size=0,this.__data__={hash:new AW,map:new(PW||NW),string:new AW}},UW=function(e){var t=DW(this,e).delete(e);return this.size-=t?1:0,t},BW=function(e){return LW(this,e).get(e)},VW=function(e){return MW(this,e).has(e)},qW=function(e,t){var n=jW(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function zW(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zW.prototype.clear=FW,zW.prototype.delete=UW,zW.prototype.get=BW,zW.prototype.has=VW,zW.prototype.set=qW;var WW=zW;function HW(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(HW.Cache||WW),n}HW.Cache=WW;var KW=HW;var GW=function(e){var t=KW(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},QW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YW=/\\(\\)?/g,$W=GW((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(QW,(function(e,n,r,i){t.push(r?i.replace(YW,"$1"):n||e)})),t}));var JW=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},XW=rz,ZW=_z,eH=sz?sz.prototype:void 0,tH=eH?eH.toString:void 0;var nH=function e(t){if("string"==typeof t)return t;if(XW(t))return JW(t,e)+"";if(ZW(t))return tH?tH.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},rH=nH;var iH=rz,aH=Tz,oH=$W,sH=function(e){return null==e?"":rH(e)};var uH=function(e,t){return iH(e)?e:aH(e,t)?[e]:oH(sH(e))},cH=_z;var lH=function(e){if("string"==typeof e||cH(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},fH=uH,hH=lH;var dH=function(e,t){for(var n=0,r=(t=fH(t,e)).length;null!=e&&n<r;)e=e[hH(t[n++])];return n&&n==r?e:void 0},pH=dH;var vH=function(e,t,n){var r=null==e?void 0:pH(e,t);return void 0===r?n:r};var mH=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),gH=yz,yH=mH,bH=bz,wH=Function.prototype,kH=Object.prototype,_H=wH.toString,xH=kH.hasOwnProperty,CH=_H.call(Object);var SH=function(e){if(!bH(e)||"[object Object]"!=gH(e))return!1;var t=yH(e);if(null===t)return!0;var n=xH.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_H.call(n)==CH},EH=Qz,TH=function(){try{var e=EH(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),IH=TH;var AH=function(e,t,n){"__proto__"==t&&IH?IH(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},NH=dW,PH=Object.prototype.hasOwnProperty;var OH=/^(?:0|[1-9]\d*)$/;var RH=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&OH.test(e))&&e>-1&&e%1==0&&e<t},DH=function(e,t,n){var r=e[t];PH.call(e,t)&&NH(r,n)&&(void 0!==n||t in e)||AH(e,t,n)},LH=uH,MH=RH,jH=Iz,FH=lH;var UH=dH,BH=function(e,t,n,r){if(!jH(e))return e;for(var i=-1,a=(t=LH(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=FH(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=jH(l)?l:MH(t[i+1])?[]:{})}DH(s,u,c),s=s[u]}return e},VH=uH;var qH=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=UH(e,o);n(s,o)&&BH(a,VH(o,e),s)}return a};var zH=function(e,t){return null!=e&&t in Object(e)},WH=yz,HH=bz;var KH=function(e){return HH(e)&&"[object Arguments]"==WH(e)},GH=bz,QH=Object.prototype,YH=QH.hasOwnProperty,$H=QH.propertyIsEnumerable,JH=KH(function(){return arguments}())?KH:function(e){return GH(e)&&YH.call(e,"callee")&&!$H.call(e,"callee")};var XH=uH,ZH=JH,eK=rz,tK=RH,nK=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},rK=lH;var iK=zH,aK=function(e,t,n){for(var r=-1,i=(t=XH(t,e)).length,a=!1;++r<i;){var o=rK(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&nK(i)&&tK(o,i)&&(eK(e)||ZH(e))};var oK=qH,sK=function(e,t){return null!=e&&aK(e,t,iK)};var uK=function(e,t){return oK(e,t,(function(t,n){return sK(e,n)}))};var cK=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},lK=JH,fK=rz,hK=sz?sz.isConcatSpreadable:void 0;var dK=cK,pK=function(e){return fK(e)||lK(e)||!!(hK&&e&&e[hK])};var vK=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=pK),a||(a=[]);++o<s;){var u=t[o];n>0&&r(u)?n>1?e(u,n-1,r,i,a):dK(a,u):i||(a[a.length]=u)}return a},mK=vK;var gK=function(e){return(null==e?0:e.length)?mK(e,1):[]};var yK=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},bK=Math.max;var wK=function(e,t,n){return t=bK(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=bK(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),yK(e,this,s)}};var kK=function(e){return function(){return e}},_K=TH,xK=_K?function(e,t){return _K(e,"toString",{configurable:!0,enumerable:!1,value:kK(t),writable:!0})}:function(e){return e},CK=Date.now;var SK=function(e){var t=0,n=0;return function(){var r=CK(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},EK=SK(xK),TK=gK,IK=wK,AK=EK;var NK,PK=uK,OK=function(e){return AK(IK(e,void 0,TK),e+"")}((function(e,t){return null==e?{}:PK(e,t)})),RK={baseClassName:"rdn"};!function(e){e.LABEL="LABEL",e.OPTION="OPTION"}(NK||(NK={}));var DK=["view","label","value","className","id","disabled"],LK=function(e){return/string|number/.test(typeof e)},MK=function(e){return/null|undefined/.test(typeof e)?e:[e.view,e.label,e.value].find((function(e){return function(e){return(0,t.isValidElement)(e)||LK(e)}(e)}))},jK=function(e,t){void 0===t&&(t=null);var n=OK(e,DK);return{index:t,id:n.id||n.value,type:NK.OPTION,option:Jq(Jq({},n),{label:n.label||n.value})}},FK=function(e,t){void 0===t&&(t=0);var n=e.items.map((function(e,n){return jK(e,t+n)}));return Xq([{label:e.name,type:NK.LABEL}],n)},UK=function(e){if(!Array.isArray(e))return[];var t=0;return e.reduce((function(e,n){if(function(e){return Array.isArray(vH(e,"items"))}(n)){var r=n,i=Xq(Xq([],e),[FK(r,t)]);return t+=r.items.length,i}if(SH(n)){i=Xq(Xq([],e),[jK(n,t)]);return t+=1,i}if(LK(n)){i=Xq(Xq([],e),[jK({value:n,label:n},t)]);return t+=1,i}return e}),[])},BK=function(e,t,n){return gK(e).filter((function(e){return e.type===NK.OPTION})).find((function(e){return n(e,t)}))},VK=function(e,t){var n=e.option.value;return n===t||n===vH(t,"value")},qK=function(e){var n=e.option,r=e.selected,i=e.onSelect,a=e.className,o=e.baseClassName,s=e.tabIndex,u=MK(n.option),c=n.option.disabled,l=nz(a,o+"-option",{"is-selected":r,"is-disabled-option":!!c}),f=function(e){return c?(e.stopPropagation(),e.preventDefault()):i(e,n)};return t.createElement("div",{"data-testid":"dropdown-option",className:l.trim(),onKeyDown:f,onMouseDown:f,onClick:f,role:"option","aria-selected":r,tabIndex:s},u)};qK.defaultProps=Jq(Jq({},RK),{tabIndex:-1});var zK=function(e){var n=e.option,r=e.selected,i=e.onSelect,a=e.className,o=e.baseClassName;return t.createElement("div",{className:nz(o+"-group",a),role:"listbox",tabIndex:-1},n.map((function(e){var n;if(e.type===NK.LABEL&&e.label)return t.createElement("div",{key:e.label,className:o+"-group-title"},e.label);if(e.type===NK.OPTION){var a=vH(r,"id")===e.id;return t.createElement(qK,{key:e.id,option:e,selected:a,onSelect:i,tabIndex:e.index,baseClassName:o+"-group",className:nz((n={},n[e.option.className]=!!e.option.className,n))})}return null})))};zK.defaultProps=Jq({},RK);var WK=function(e){var n,r=e.selected,i=e.baseClassName,a=e.stateClassNames,o=e.options,s=e.onSelect,u=e.noOptionsDisplay,c=void 0===u?"No options found":u;return 0===o.length?t.createElement("div",{className:nz(Jq((n={},n[i+"-menu-noresults"]=!0,n),a))},c):t.createElement(t.Fragment,null,o.map((function(e,n){var a;if(Array.isArray(e))return t.createElement(zK,{key:vH(e,"[0].label",n),option:e,baseClassName:i+"-menu",selected:r,onSelect:s});if(e.type===NK.OPTION){var o=vH(r,"id")===e.id;return t.createElement(qK,{key:e.id,option:e,selected:o,onSelect:s,tabIndex:e.index,baseClassName:i+"-menu",className:nz((a={},a[e.option.className]=!!e.option.className,a))})}return null})))};WK.defaultProps=Jq({},RK);var HK=function(e){var n=e.isOpen,r=e.arrowClosed,i=e.arrowOpen,a=e.stateClassNames,o=nz("rdn-control-arrow",a),s=nz("rdn-control-arrow-icon",a),u=n?i:r;return t.createElement("div",{"data-testid":"dropdown-arrow",className:o},i&&r?u:t.createElement("span",{className:s}))},KK=function(e){var n=e.clearIcon,r=e.stateClassNames,i=e.onClick,a=e.onMouseDown,o=e.onTouchEnd,s=nz("rdn-control-clear",r),u=nz("rdn-control-clear-button",r),c=nz("rdn-control-clear-button-icon",r);return t.createElement("div",{"data-testid":"dropdown-clear",className:s},t.createElement("button",{"data-testid":"dropdown-clear-button",type:"button","aria-label":"clear",className:u,onClick:i,onMouseDown:a,onTouchEnd:o},n||t.createElement("span",{className:c})))};var GK=function(e){var n,r,i,a,o,s=e.placeholder,u=e.options,c=e.matcher,l=e.value,f=e.disabled,h=e.onOpen,d=e.onClose,p=e.onFocus,v=e.onChange,m=e.onSelect,g=e.baseClassName,y=e.arrowClosed,b=e.arrowOpen,w=e.className,k=e.noOptionsDisplay,_=e.innerRef,x=e.menu,C=e.clearIcon,S=e.isClearable,E=UK(u),T=(0,t.useState)((function(){return BK(E,l,c)})),I=T[0],A=T[1],N=(0,t.useState)(!1),P=N[0],O=N[1],R=(0,t.useRef)(null),D=function(e,t){void 0===t&&(t=!1),e&&"function"===typeof h&&h(),e||"function"!==typeof d||d(!!t)};!function(e){var n=e.ref,r=e.handler;(0,t.useEffect)((function(){var e=function(e){n.current&&!n.current.contains(e.target)&&r(e)};return document.addEventListener("mousedown",e,!1),document.addEventListener("touchstart",e,!1),function(){document.removeEventListener("mousedown",e,!1),document.removeEventListener("touchstart",e,!1)}}),[n,r])}({ref:R,handler:function(){P&&(O(!1),D(!1))}});var L=function(e){e.stopPropagation(),e.preventDefault()},M=function(e){if("function"===typeof p&&p(P),("mousedown"!==e.type||0===e.button)&&(L(e),!f)){var t=!P;O(t),D(t)}},j=function(e,t){(function(e){var t=R.current;return Boolean(e&&t&&t.contains(e.target))})(t)&&(m&&m(e.option,t),e.id!==vH(I,"id")&&v&&v(e.option,t))},F=(0,t.useCallback)((function(e,t){void 0===t&&(t=S);var n=BK(E,e,c);void 0===e&&t&&(j(jK(void 0)),A(e)),n&&(j(n),A(n))}),[E,c]);(0,t.useEffect)((function(){return F(l)}),[l]);var U=vH(I,"option.label",s||"Select..."),B=((n={})[w]=!!w,n["is-disabled"]=f,n["is-empty"]=!E.length,n["is-open"]=P,n),V=P?t.createElement(x,{"data-testid":"dropdown-menu",className:nz(Jq((r={},r[g+"-drop"]=!0,r),B)),"aria-expanded":"true"},t.createElement(WK,{selected:I,options:E,stateClassNames:(i={},i[w]=!!w,i),baseClassName:g+"-drop",noOptionsDisplay:k,onSelect:function(e,t){return function(e,t){j(e,t),A(e),O(!1),D(!1,!0)}(t,e)}})):null;return t.createElement("div",{"data-testid":"dropdown-root",className:nz(Jq((a={},a[g]=!0,a),B)),ref:R},t.createElement("div",{"data-testid":"dropdown-control",role:"presentation",ref:_,className:nz(g+"-control",B),onMouseDown:M,onTouchEnd:M},t.createElement("div",{"data-testid":"dropdown-placeholder",className:nz(Jq((o={},o[g+"-control-placeholder"]=!0,o["is-selected"]=!!I,o),B))},U),I&&S?t.createElement(KK,{stateClassNames:B,clearIcon:C,onClick:function(e){L(e),F(void 0,S)},onMouseDown:L,onTouchEnd:L}):null,t.createElement(HK,{isOpen:P,stateClassNames:B,arrowClosed:y,arrowOpen:b})),V)};GK.defaultProps=Jq(Jq({},RK),{matcher:VK,onOpen:function(){},onClose:function(){},menu:"div"});(function(e){var n,r,i=e.options,a=e.onSelect,o=e.matcher,s=e.value,u=e.disabled,c=e.onChange,l=e.baseClassName,f=e.className,h=e.noOptionsDisplay,d=e.menu,p=UK(i),v=(0,t.useState)((function(){return BK(p,s,o)})),m=v[0],g=v[1],y=function(e,t){return void 0===t&&(t=null),u?null:(g(e),function(e,t){void 0===t&&(t=null),a&&a(e.option,t),e.id!==vH(m,"id")&&c&&c(e.option,t)}(e,t))},b=nz(l+"-selection",((n={})[f]=!!f,n["is-disabled"]=u,n["is-empty"]=!p.length,n));return t.createElement(d,{className:b},t.createElement(WK,{selected:m,options:p,stateClassNames:(r={},r[f]=!!f,r),baseClassName:l+"-selection",noOptionsDisplay:h,onSelect:function(e,t){return y(t,e)}}))}).defaultProps=Jq(Jq({},RK),{onChange:function(){},matcher:VK,menu:"div"});var QK=n(3878);function YK(e,t){return function(){return e.apply(t,arguments)}}var $K,JK=Object.prototype.toString,XK=Object.getPrototypeOf,ZK=($K=Object.create(null),function(e){var t=JK.call(e);return $K[t]||($K[t]=t.slice(8,-1).toLowerCase())}),eG=function(e){return e=e.toLowerCase(),function(t){return ZK(t)===e}},tG=function(e){return function(t){return typeof t===e}},nG=Array.isArray,rG=tG("undefined");var iG=eG("ArrayBuffer");var aG=tG("string"),oG=tG("function"),sG=tG("number"),uG=function(e){return null!==e&&"object"===typeof e},cG=function(e){if("object"!==ZK(e))return!1;var t=XK(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lG=eG("Date"),fG=eG("File"),hG=eG("Blob"),dG=eG("FileList"),pG=eG("URLSearchParams");function vG(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),nG(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function mG(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var gG="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,yG=function(e){return!rG(e)&&e!==gG};var bG,wG=(bG="undefined"!==typeof Uint8Array&&XK(Uint8Array),function(e){return bG&&e instanceof bG}),kG=eG("HTMLFormElement"),_G=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),xG=eG("RegExp"),CG=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};vG(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},SG="abcdefghijklmnopqrstuvwxyz",EG="0123456789",TG={DIGIT:EG,ALPHA:SG,ALPHA_DIGIT:SG+SG.toUpperCase()+EG};var IG=eG("AsyncFunction"),AG={isArray:nG,isArrayBuffer:iG,isBuffer:function(e){return null!==e&&!rG(e)&&null!==e.constructor&&!rG(e.constructor)&&oG(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||oG(e.append)&&("formdata"===(t=ZK(e))||"object"===t&&oG(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&iG(e.buffer)},isString:aG,isNumber:sG,isBoolean:function(e){return!0===e||!1===e},isObject:uG,isPlainObject:cG,isUndefined:rG,isDate:lG,isFile:fG,isBlob:hG,isRegExp:xG,isFunction:oG,isStream:function(e){return uG(e)&&oG(e.pipe)},isURLSearchParams:pG,isTypedArray:wG,isFileList:dG,forEach:vG,merge:function e(){for(var t=(yG(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&mG(n,i)||i;cG(n[a])&&cG(r)?n[a]=e(n[a],r):cG(r)?n[a]=e({},r):nG(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&vG(arguments[i],r);return n},extend:function(e,t,n){return vG(t,(function(t,r){n&&oG(t)?e[r]=YK(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&XK(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ZK,kindOfTest:eG,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(nG(e))return e;var t=e.length;if(!sG(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:kG,hasOwnProperty:_G,hasOwnProp:_G,reduceDescriptors:CG,freezeMethods:function(e){CG(e,(function(t,n){if(oG(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];oG(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return nG(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:mG,global:gG,isContextDefined:yG,ALPHABET:TG,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TG.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&oG(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(uG(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=nG(n)?[]:{};return vG(n,(function(t,n){var a=e(t,r+1);!rG(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:IG,isThenable:function(e){return e&&(uG(e)||oG(e))&&oG(e.then)&&oG(e.catch)}};function NG(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}AG.inherits(NG,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:AG.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var PG=NG.prototype,OG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){OG[e]={value:e}})),Object.defineProperties(NG,OG),Object.defineProperty(PG,"isAxiosError",{value:!0}),NG.from=function(e,t,n,r,i,a){var o=Object.create(PG);return AG.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),NG.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var RG=NG;function DG(e){return AG.isPlainObject(e)||AG.isArray(e)}function LG(e){return AG.endsWith(e,"[]")?e.slice(0,-2):e}function MG(e,t,n){return e?e.concat(t).map((function(e,t){return e=LG(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var jG=AG.toFlatObject(AG,{},null,(function(e){return/^is[A-Z]/.test(e)}));var FG=function(e,t,n){if(!AG.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=AG.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!AG.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&AG.isSpecCompliantForm(t);if(!AG.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(AG.isDate(e))return e.toISOString();if(!s&&AG.isBlob(e))throw new RG("Blob is not supported. Use a Buffer instead.");return AG.isArrayBuffer(e)||AG.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(AG.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(AG.isArray(e)&&function(e){return AG.isArray(e)&&!e.some(DG)}(e)||(AG.isFileList(e)||AG.endsWith(n,"[]"))&&(s=AG.toArray(e)))return n=LG(n),s.forEach((function(e,r){!AG.isUndefined(e)&&null!==e&&t.append(!0===o?MG([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!DG(e)||(t.append(MG(i,n,a),u(e)),!1)}var l=[],f=Object.assign(jG,{defaultVisitor:c,convertValue:u,isVisitable:DG});if(!AG.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!AG.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),AG.forEach(n,(function(n,a){!0===(!(AG.isUndefined(n)||null===n)&&i.call(t,n,AG.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function UG(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function BG(e,t){this._pairs=[],e&&FG(e,this,t)}var VG=BG.prototype;VG.append=function(e,t){this._pairs.push([e,t])},VG.toString=function(e){var t=e?function(t){return e.call(this,t,UG)}:UG;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var qG=BG;function zG(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WG(e,t,n){if(!t)return e;var r,i=n&&n.encode||zG,a=n&&n.serialize;if(r=a?a(t,n):AG.isURLSearchParams(t)?t.toString():new qG(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var HG=function(){function e(){p(this,e),this.handlers=[]}return y(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){AG.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),KG=HG,GG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QG={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:qG,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var YG=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&AG.isArray(r)?r.length:a,s?(AG.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&AG.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&AG.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(AG.isFormData(e)&&AG.isFunction(e.entries)){var n={};return AG.forEachEntry(e,(function(e,r){t(function(e){return AG.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},$G={"Content-Type":void 0};var JG={transitional:GG,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=AG.isObject(e);if(a&&AG.isHTMLForm(e)&&(e=new FormData(e)),AG.isFormData(e))return i&&i?JSON.stringify(YG(e)):e;if(AG.isArrayBuffer(e)||AG.isBuffer(e)||AG.isStream(e)||AG.isFile(e)||AG.isBlob(e))return e;if(AG.isArrayBufferView(e))return e.buffer;if(AG.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return FG(e,new QG.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return QG.isNode&&AG.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=AG.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return FG(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(AG.isString(e))try{return(t||JSON.parse)(e),AG.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||JG.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&AG.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw RG.from(a,RG.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:QG.classes.FormData,Blob:QG.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};AG.forEach(["delete","get","head"],(function(e){JG.headers[e]={}})),AG.forEach(["post","put","patch"],(function(e){JG.headers[e]=AG.merge($G)}));var XG=JG,ZG=AG.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eQ=Symbol("internals");function tQ(e){return e&&String(e).trim().toLowerCase()}function nQ(e){return!1===e||null==e?e:AG.isArray(e)?e.map(nQ):String(e)}function rQ(e,t,n,r,i){return AG.isFunction(r)?r.call(this,t,n):(i&&(t=n),AG.isString(t)?AG.isString(r)?-1!==t.indexOf(r):AG.isRegExp(r)?r.test(t):void 0:void 0)}var iQ=function(e,t){function n(e){p(this,n),e&&this.set(e)}return y(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=tQ(t);if(!i)throw new Error("header name must be a non-empty string");var a=AG.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=nQ(e))}var a=function(e,t){return AG.forEach(e,(function(e,n){return i(e,n,t)}))};return AG.isPlainObject(e)||e instanceof this.constructor?a(e,t):AG.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&ZG[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=tQ(e)){var n=AG.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(AG.isFunction(t))return t.call(this,r,n);if(AG.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=tQ(e)){var n=AG.findKey(this,e);return!(!n||void 0===this[n]||t&&!rQ(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=tQ(e)){var i=AG.findKey(n,e);!i||t&&!rQ(0,n[i],i,t)||(delete n[i],r=!0)}}return AG.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!rQ(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return AG.forEach(this,(function(r,i){var a=AG.findKey(n,i);if(a)return t[a]=nQ(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=nQ(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return AG.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&AG.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=f(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[eQ]=this[eQ]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=tQ(e);t[r]||(!function(e,t){var n=AG.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return AG.isArray(e)?e.forEach(r):r(e),this}}]),n}();iQ.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),AG.freezeMethods(iQ.prototype),AG.freezeMethods(iQ);var aQ=iQ;function oQ(e,t){var n=this||XG,r=t||n,i=aQ.from(r.headers),a=r.data;return AG.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function sQ(e){return!(!e||!e.__CANCEL__)}function uQ(e,t,n){RG.call(this,null==e?"canceled":e,RG.ERR_CANCELED,t,n),this.name="CanceledError"}AG.inherits(uQ,RG,{__CANCEL__:!0});var cQ=uQ;var lQ=QG.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),AG.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),AG.isString(r)&&o.push("path="+r),AG.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function fQ(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var hQ=QG.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=AG.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var dQ=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function pQ(e,t){var n=0,r=dQ(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var vQ="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=aQ.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}AG.isFormData(i)&&(QG.isStandardBrowserEnv||QG.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=fQ(e.baseURL,e.url);function h(){if(u){var r=aQ.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new RG("Request failed with status code "+n.status,[RG.ERR_BAD_REQUEST,RG.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),WG(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new RG("Request aborted",RG.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new RG("Network Error",RG.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||GG;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new RG(t,r.clarifyTimeoutError?RG.ETIMEDOUT:RG.ECONNABORTED,e,u)),u=null},QG.isStandardBrowserEnv){var d=(e.withCredentials||hQ(f))&&e.xsrfCookieName&&lQ.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&AG.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),AG.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",pQ(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",pQ(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new cQ(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===QG.protocols.indexOf(p)?n(new RG("Unsupported protocol "+p+":",RG.ERR_BAD_REQUEST,e)):u.send(i||null)}))},mQ={http:null,xhr:vQ};AG.forEach(mQ,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var gQ=function(e){for(var t,n,r=(e=AG.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=AG.isString(t)?mQ[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new RG("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(AG.hasOwnProp(mQ,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!AG.isFunction(n))throw new TypeError("adapter is not a function");return n};function yQ(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cQ(null,e)}function bQ(e){return yQ(e),e.headers=aQ.from(e.headers),e.data=oQ.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gQ(e.adapter||XG.adapter)(e).then((function(t){return yQ(e),t.data=oQ.call(e,e.transformResponse,t),t.headers=aQ.from(t.headers),t}),(function(t){return sQ(t)||(yQ(e),t&&t.response&&(t.response.data=oQ.call(e,e.transformResponse,t.response),t.response.headers=aQ.from(t.response.headers))),Promise.reject(t)}))}var wQ=function(e){return e instanceof aQ?e.toJSON():e};function kQ(e,t){t=t||{};var n={};function r(e,t,n){return AG.isPlainObject(e)&&AG.isPlainObject(t)?AG.merge.call({caseless:n},e,t):AG.isPlainObject(t)?AG.merge({},t):AG.isArray(t)?t.slice():t}function i(e,t,n){return AG.isUndefined(t)?AG.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!AG.isUndefined(t))return r(void 0,t)}function o(e,t){return AG.isUndefined(t)?AG.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(wQ(e),wQ(t),!0)}};return AG.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);AG.isUndefined(o)&&a!==s||(n[r]=o)})),n}var _Q="1.4.0",xQ={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){xQ[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var CQ={};xQ.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new RG(r(i," has been removed"+(t?" in "+t:"")),RG.ERR_DEPRECATED);return t&&!CQ[i]&&(CQ[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var SQ={assertOptions:function(e,t,n){if("object"!==typeof e)throw new RG("options must be an object",RG.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new RG("option "+a+" must be "+u,RG.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new RG("Unknown option "+a,RG.ERR_BAD_OPTION)}},validators:xQ},EQ=SQ.validators,TQ=function(){function e(t){p(this,e),this.defaults=t,this.interceptors={request:new KG,response:new KG}}return y(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=kQ(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&SQ.assertOptions(i,{silentJSONParsing:EQ.transitional(EQ.boolean),forcedJSONParsing:EQ.transitional(EQ.boolean),clarifyTimeoutError:EQ.transitional(EQ.boolean)},!1),null!=a&&(AG.isFunction(a)?t.paramsSerializer={serialize:a}:SQ.assertOptions(a,{encode:EQ.function,serialize:EQ.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&AG.merge(o.common,o[t.method]))&&AG.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=aQ.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[bQ.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(mi){m.call(this,mi);break}}try{c=bQ.call(this,p)}catch(mi){return Promise.reject(mi)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return WG(fQ((e=kQ(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();AG.forEach(["delete","get","head","options"],(function(e){TQ.prototype[e]=function(t,n){return this.request(kQ(n||{},{method:e,url:t,data:(n||{}).data}))}})),AG.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(kQ(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}TQ.prototype[e]=t(),TQ.prototype[e+"Form"]=t(!0)}));var IQ=TQ,AQ=function(){function e(t){if(p(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new cQ(e,t,i),n(r.reason))}))}return y(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),NQ=AQ;var PQ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PQ).forEach((function(e){var t=f(e,2),n=t[0],r=t[1];PQ[r]=n}));var OQ=PQ;var RQ=function e(t){var n=new IQ(t),r=YK(IQ.prototype.request,n);return AG.extend(r,IQ.prototype,n,{allOwnKeys:!0}),AG.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(kQ(t,n))},r}(XG);RQ.Axios=IQ,RQ.CanceledError=cQ,RQ.CancelToken=NQ,RQ.isCancel=sQ,RQ.VERSION=_Q,RQ.toFormData=FG,RQ.AxiosError=RG,RQ.Cancel=RQ.CanceledError,RQ.all=function(e){return Promise.all(e)},RQ.spread=function(e){return function(t){return e.apply(null,t)}},RQ.isAxiosError=function(e){return AG.isObject(e)&&!0===e.isAxiosError},RQ.mergeConfig=kQ,RQ.AxiosHeaders=aQ,RQ.formToJSON=function(e){return YG(AG.isHTMLForm(e)?new FormData(e):e)},RQ.HttpStatusCode=OQ,RQ.default=RQ;var DQ=RQ,LQ=DQ.Axios,MQ=(DQ.AxiosError,DQ.CanceledError,DQ.isCancel,DQ.CancelToken,DQ.VERSION,DQ.all,DQ.Cancel,DQ.isAxiosError,DQ.spread,DQ.toFormData,DQ.AxiosHeaders,DQ.HttpStatusCode,DQ.formToJSON,DQ.mergeConfig,n(1830)),jQ=n.n(MQ),FQ=n(8086),UQ=n.n(FQ),BQ=window.innerHeight,VQ=window.innerWidth,qQ=UQ()(jQ());var zQ=function(){_e();var e=(0,t.useRef)(),n=f((0,t.useState)({name:"Headphone",price:5.5}),2),r=n[0],i=(n[1],100*r.price),o=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,LQ({url:"http://localhost:5000/payment",method:"post",data:{amount:100*r.price,token:t}});case 3:200===e.sent.status&&qQ.fire({icon:"success",title:"Payment was successful",time:4e3}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),qQ.fire({icon:"error",title:"Payment was not successful",time:4e3}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=(0,t.useRef)(),u=(0,t.useRef)(),c=(0,t.useRef)(),l=f((0,t.useState)("Waiting to be played !"),2),h=(l[0],l[1]),p=f((0,t.useState)(0),2),v=(p[0],p[1]),m=f((0,t.useState)([]),2),g=m[0],y=m[1],b=f((0,t.useState)(""),2),w=b[0],k=b[1],_=new SpeechSynthesisUtterance,x=f((0,t.useState)([]),2),C=x[0],S=x[1],E=f((0,t.useState)(.5),2),T=E[0],I=E[1],A=f((0,t.useState)(1),2),N=(A[0],A[1]),P=f((0,t.useState)(1),2),O=(P[0],P[1]),R=f((0,t.useState)(0),2),D=R[0],L=R[1];(0,t.useEffect)((function(){0==C.length&&M()})),(0,t.useEffect)((function(){var e=s.current,t=function(e){var t=e.detail.value;I(t)};return null===e||void 0===e||e.addEventListener("change",t),function(){null===e||void 0===e||e.removeEventListener("change",t)}}),[]),(0,t.useEffect)((function(){var e=u.current,t=function(e){var t=e.detail.value;N(t)};return null===e||void 0===e||e.addEventListener("change",t),function(){null===e||void 0===e||e.removeEventListener("change",t)}}),[]),(0,t.useEffect)((function(){var e=c.current,t=function(e){var t=e.detail.value;O(t)};return null===e||void 0===e||e.addEventListener("change",t),function(){null===e||void 0===e||e.removeEventListener("change",t)}}),[]);var M=function(){for(var e=window.speechSynthesis.getVoices(),t=[],n=0;n<e.length;n++)t.push(e[n].name);console.log(e),S(d(e)),y([].concat(t))};_.addEventListener("pause",(function(e){h("Paused")})),_.addEventListener("end",(function(e){h("Finished")})),_.addEventListener("start",(function(e){h("Playing")})),_.addEventListener("resume",(function(e){h("Playing")})),(0,t.useEffect)((function(){for(var e=w.split(" "),t=0,n=0;n<e.length;n++)""!==e[n]&&" "!==e[n]&&t++;L(t)}),[w]);var j=function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,k(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",backgroundColor:"#F7EFDF",height:BQ},children:[(0,a.jsxs)("div",{style:{height:200,display:"flex",flexDirection:"column",padding:10,marginLeft:10,marginTop:35},children:[(0,a.jsx)(GK,{placeholder:"Select language",className:"my-className",options:g,onSelect:function(e){return function(e){for(var t=0;t<g.length;t++)if(g[t]===e.value){console.log(t),v(t);break}}(e)}}),(0,a.jsxs)("div",{style:{marginTop:30,width:350,alignSelf:"center",alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[(0,a.jsx)("div",{style:{width:70,backgroundColor:"#023220",alignItems:"center",justifyContent:"center",padding:10,borderRadius:8},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"700"},children:"Speed"})}),(0,a.jsx)("text",{style:{color:"green"},children:T}),(0,a.jsx)("text",{})]}),(0,a.jsxs)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:50,alignItems:"center"},children:[ct,(0,a.jsx)("text",{style:{textAlign:"center",color:"gray",fontWeight:"700"},children:"My profile"})]}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:20,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:VQ/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:lt}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsx)("text",{children:"Demo Name"})})]})}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:6,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:VQ/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:ft}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsx)("text",{children:"Verified Phone Number"})})]})}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:6,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:VQ/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:ht}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsx)("text",{children:"Remaining Words : xxx"})})]})}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:6,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:VQ/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:dt}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsx)("text",{children:"Total Words Used : xxx"})})]})})]}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:150},children:(0,a.jsxs)("div",{style:{display:"flex",position:"absolute",top:20,flexDirection:"column"},children:[(0,a.jsxs)("div",{style:{width:90,alignItems:"center",alignSelf:"center"},children:[(0,a.jsx)("input",{ref:e,type:"file",onChange:function(e){return j(e)},hidden:!0}),(0,a.jsxs)("div",{onClick:function(t){e.current.click()},style:{display:"flex",flexDirection:"row",cursor:"pointer",width:120,padding:7,alignItems:"center",borderRadius:3,backgroundColor:"#023220",justifyContent:"space-around"},children:[vt,(0,a.jsx)("text",{style:{color:"white",fontWeight:"600",textAlign:"center"},children:"Upload File"})]})]}),(0,a.jsx)("input",{type:"text",value:w,placeholder:"Enter text here",onChange:function(e){return k(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&function(e){var t=e.text.split("\n").map((function(e){return(0,a.jsx)("p",{children:e})}));k(t)}(w+"\n")},multiple:!0,style:{height:270,padding:5,borderRadius:6,borderColor:"#023220",borderWidth:1,width:390,marginTop:6}}),(0,a.jsx)("text",{style:{marginTop:15,textAlign:"center",color:"forestgreen",fontWeight:"700"},children:0==D?"Text Box is empty":"There are "+D+" words ."}),(0,a.jsxs)("div",{onClick:function(){return k(""),void window.speechSynthesis.cancel()},style:{height:50,display:"flex",flexDirection:"row",justifyContent:"space-around",marginTop:30,cursor:"pointer",width:140,backgroundColor:"#023220",padding:10,alignItems:"center",borderRadius:6,alignSelf:"center"},children:[ut,(0,a.jsx)("text",{style:_t({color:"green",fontWeight:"600",textAlign:"center"},"color","white"),children:"Download"})]})]})}),(0,a.jsx)("div",{style:{width:90,alignItems:"center",marginLeft:40,position:"absolute",right:30,top:40},children:(0,a.jsx)(QK.Z,{stripeKey:"pk_test_51JcyucGyJI9ySkt6DD6NB20MFBGu2rFDn3rJB6rdNEcv9AV1dap2pGR5EqouM2G2zVzaMG1MveW85wr3LSsUxAVE00LQ2huvgt",label:"Subscribe Now",name:"Pay With Credit Card",billingAddress:!0,shippingAddress:!0,amount:i,description:"Your total is $".concat(r.price),token:o})})]})},WQ=jq.ref("userdb"),HQ=(window.innerHeight,window.innerWidth);function KQ(){var e=_e(),n=f((0,t.useState)(""),2),r=n[0],i=n[1],o=f((0,t.useState)(null),2),s=o[0],u=o[1],c=f((0,t.useState)(!1),2),l=c[0],h=c[1],d=f((0,t.useState)(""),2),p=(d[0],d[1],f((0,t.useState)(""),2)),v=(p[0],p[1],f((0,t.useState)(""),2)),m=(v[0],v[1],f((0,t.useState)(""),2)),g=(m[0],m[1],f((0,t.useState)(""),2)),y=g[0],b=g[1];function w(){if(""!=y){var e="+"+y;h(!0),WQ.child(e).once("value").then((function(e){null==e.val()?(alert("This number doesnot exist !"),h(!1)):function(){var e="+"+y,t=new Uq.auth.RecaptchaVerifier("recaptcha-container");Fq.signInWithPhoneNumber(e,t).then((function(e){u(e),h(!1),alert("An OTP code has been sent to your mobile phone")})).catch((function(e){alert(e),window.location.reload(),h(!1)}))}()}))}else alert("Please fill informations , empty field is not accepted"),h(!1)}var k=function(){if(""!==r&&null!==s){var t="+"+y;s.confirm(r).then((function(n){alert("You evrified successfully"),e("/Real",{state:{phone:t}})})).catch((function(e){alert("OTP code is wrong")}))}};return(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(zQ,{}),(0,a.jsxs)(wt(),{style:{overlay:{display:"flex",alignSelf:"center",justifyContent:"center",alignContent:"center",alignItems:"center"},content:{position:"absolute",top:"2%",left:"20%",display:"flex",backgroundColor:"white",width:"60%",alignSelf:"center",alignItems:"center",flexDirection:"column",borderRadius:8}},isOpen:!0,onRequestClose:function(){return alert("You must have to sign in or sign up .")},closeTimeoutMS:100,shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,preventScroll:!0,children:[(0,a.jsx)("div",{style:{display:"flex",backgroundColor:"#023220",justifyContent:"center",width:"99%",alignSelf:"center",padding:10,borderRadius:6},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"600",fontSize:14},children:"Verify your account"})}),(0,a.jsxs)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:30,alignItems:"center"},children:[ct,(0,a.jsx)("text",{style:{textAlign:"center",color:"gray",fontWeight:"700"},children:"My profile"})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,alignSelf:"center",marginTop:19},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Phone number :"}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",width:HQ/5},children:(0,a.jsx)(Vq(),{country:"eg",enableSearch:!0,value:y,dropdownStyle:{backgroundColor:"#C6C9B9"},buttonStyle:{height:35,width:55,backgroundColor:"#C6C9B9"},onChange:function(e){return b(e)},inputStyle:{height:30,borderColor:"transparent",outline:"none",backgroundColor:"#F7EFDF",alignSelf:"center",width:270},containerStyle:{alignItems:"center",width:270,height:30,borderColor:"transparent",outline:"none",alignSelf:"center"}})})]}),null==s&&(0,a.jsx)("div",{id:"recaptcha-container"}),s&&(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:HQ/3,alignSelf:"center",marginTop:20,flexDirection:"column"},children:[(0,a.jsx)("text",{style:{textAlign:"center",color:"black",fontWeight:"600"},children:"Write your otp "}),(0,a.jsx)("input",{type:"text",value:r,placeholder:"Write your otp",onChange:function(e){return i(e.target.value)},style:{width:275,height:30,padding:10,borderRadius:10,borderWidth:1,borderColor:"forestgreen",outline:"none",marginTop:10,alignSelf:"center",backgroundColor:"#F7EFDF"}})]}),(0,a.jsx)("div",{onClick:function(){s?k():w()},style:{cursor:"pointer",marginTop:30,width:.15*HQ,alignSelf:"center",backgroundColor:"#023220",padding:10,borderRadius:10},children:(0,a.jsx)("text",{style:{color:"white"},children:null==s?"Send OTP":"Verify Account"})}),(0,a.jsxs)("div",{style:{width:HQ/4,display:"flex",flexDirection:"row",alignSelf:"center",marginTop:10,justifyContent:"space-around"},children:[(0,a.jsx)("text",{children:"Remember password ?"}),(0,a.jsx)("text",{onClick:function(){return e("/")},style:{cursor:"pointer",textDecorationLine:"underline",textDecorationColor:"forestgreen",fontWeight:"700"},children:"Sign In"})]}),l&&(0,a.jsx)(kt.Levels,{size:25})]})]})}var GQ=jq.ref("userdb"),QQ=(window.innerHeight,window.innerWidth);function YQ(){var e=_e(),n=f((0,t.useState)(""),2),r=(n[0],n[1],f((0,t.useState)(!0),2)),i=r[0],o=r[1],s=f((0,t.useState)(null),2),u=(s[0],s[1],f((0,t.useState)(!1),2)),c=u[0],l=u[1],h=f((0,t.useState)(""),2),d=(h[0],h[1],f((0,t.useState)(""),2)),p=d[0],v=d[1],m=f((0,t.useState)(""),2),g=m[0],y=m[1];return(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(zQ,{}),(0,a.jsxs)(wt(),{style:{overlay:{display:"flex",alignSelf:"center",justifyContent:"center",alignContent:"center",alignItems:"center"},content:{position:"absolute",top:"2%",left:"20%",display:"flex",backgroundColor:"white",width:"60%",alignSelf:"center",alignItems:"center",flexDirection:"column",borderRadius:8}},isOpen:i,onRequestClose:function(){return alert("You must have to sign in or sign up .")},closeTimeoutMS:100,shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,preventScroll:!0,children:[(0,a.jsx)("div",{style:{display:"flex",backgroundColor:"#023220",justifyContent:"center",width:"99%",alignSelf:"center",padding:10,borderRadius:6},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"600",fontSize:14},children:"Sign In to your account"})}),(0,a.jsxs)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:30,alignItems:"center"},children:[ct,(0,a.jsx)("text",{style:{textAlign:"center",color:"gray",fontWeight:"700"},children:"My profile"})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,alignSelf:"center",marginTop:15},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Phone number :"}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",width:QQ/5},children:(0,a.jsx)(Vq(),{country:"eg",enableSearch:!0,value:g,dropdownStyle:{backgroundColor:"#C6C9B9"},buttonStyle:{height:35,width:55,backgroundColor:"#C6C9B9"},onChange:function(e){return y(e)},inputStyle:{height:30,borderColor:"transparent",outline:"none",backgroundColor:"#F7EFDF",alignSelf:"center",width:270},containerStyle:{alignItems:"center",width:270,height:30,borderColor:"transparent",outline:"none",alignSelf:"center"}})})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,alignSelf:"center"},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Type password :"}),(0,a.jsxs)("div",{style:{marginTop:6,display:"flex",flexDirection:"row",width:273,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:pt}),(0,a.jsx)("input",{onChange:function(e){return v(e.target.value)},value:p,type:"password",placeholder:"Write your password",style:{backgroundColor:"transparent",outlineWidth:0,outlineColor:"transparent",border:"none",outline:"none",height:25,borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:1}})]})]}),(0,a.jsx)("div",{onClick:function(){return function(){if(""!=p){var t="+"+g;GQ.child(t).once("value").then((function(n){null==n.val()?alert("This account doesnot exist !"):n.val().pass!=p?alert("The password is wrong !"):(o(!1),e("/Real",{state:{phone:t}}))}))}else alert("Please fill informations , empty field is not accepted"),l(!1)}()},style:{cursor:"pointer",marginTop:30,width:.15*QQ,alignSelf:"center",backgroundColor:"#023220",padding:10,borderRadius:10},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"800"},children:" Sign In"})}),(0,a.jsxs)("div",{style:{width:QQ/4,display:"flex",flexDirection:"row",alignSelf:"center",marginTop:10,justifyContent:"space-around"},children:[(0,a.jsx)("text",{children:"Haven't account ?"}),(0,a.jsx)("text",{onClick:function(){return e("/SignUp")},style:{cursor:"pointer",textDecorationLine:"underline",textDecorationColor:"forestgreen",fontWeight:"700"},children:"Sign Up"})]}),(0,a.jsx)("div",{style:{width:QQ/5,display:"flex",justifyContent:"center",marginTop:20},children:(0,a.jsx)("text",{onClick:function(){return e("/Forgot")},style:{cursor:"pointer",textDecorationLine:"underline",textDecorationColor:"red",fontWeight:"700",color:"red"},children:"Forgot Password ?"})}),c&&(0,a.jsx)(kt.Levels,{size:25})]})]})}var $Q=jq.ref("userdb"),JQ=(window.innerHeight,window.innerWidth);function XQ(){var e=_e(),n=f((0,t.useState)(""),2),r=n[0],i=n[1],o=f((0,t.useState)(null),2),s=o[0],u=o[1],c=f((0,t.useState)(!1),2),l=c[0],h=c[1],d=f((0,t.useState)(""),2),p=d[0],v=d[1],m=f((0,t.useState)(""),2),g=m[0],y=m[1],b=f((0,t.useState)(""),2),w=b[0],k=b[1],_=f((0,t.useState)(""),2),x=_[0],C=_[1];function S(){if(""!=g&&x.length>9&&""!=p&&w==g){var e="+"+x;h(!0),$Q.child(e).once("value").then((function(e){null==e.val()?function(){var e="+"+x,t=new Uq.auth.RecaptchaVerifier("recaptcha-container");Fq.signInWithPhoneNumber(e,t).then((function(e){u(e),h(!1),alert("An OTP code has been sent to your mobile phone")})).catch((function(e){alert(e),window.location.reload(),h(!1)}))}():(alert("This number exists , try another one "),h(!1))}))}else alert("Please fill informations , empty field is not accepted"),h(!1)}var E=function(){if(""!==r&&null!==s){var t="+"+x;s.confirm(r).then((function(n){$Q.child(t).set({remain:400,name:p,pass:g,phone:t,used:0}).then((function(n){h(!1),u(null),alert("Your account has been created "),e("/Real",{state:{phone:t,remain:400,used:0,name:p}})}))})).catch((function(e){alert("OTP code is wrong , try again"),h(!1),u(null)}))}};return(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(zQ,{}),(0,a.jsxs)(wt(),{style:{overlay:{display:"flex",alignSelf:"center",justifyContent:"center",alignContent:"center",alignItems:"center"},content:{position:"absolute",top:"2%",left:"20%",display:"flex",backgroundColor:"white",width:"60%",alignSelf:"center",alignItems:"center",flexDirection:"column",borderRadius:8}},isOpen:!0,onRequestClose:function(){return alert("You must have to sign in or sign up .")},closeTimeoutMS:100,shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,preventScroll:!0,children:[(0,a.jsx)("div",{style:{display:"flex",backgroundColor:"#023220",justifyContent:"center",width:"99%",alignSelf:"center",padding:10,borderRadius:6},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"600",fontSize:14},children:"Sign Up to your account"})}),(0,a.jsxs)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:30,alignItems:"center"},children:[ct,(0,a.jsx)("text",{style:{textAlign:"center",color:"gray",fontWeight:"700"},children:"My profile"})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,marginTop:10,alignSelf:"center"},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Write your name :"}),(0,a.jsxs)("div",{style:{marginTop:6,display:"flex",flexDirection:"row",width:273,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:lt}),(0,a.jsx)("input",{type:"text",value:p,onChange:function(e){return v(e.target.value)},placeholder:"Write your name",style:{backgroundColor:"transparent",outlineWidth:0,outlineColor:"transparent",border:"none",outline:"none",height:25,borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:1}})]})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,alignSelf:"center"},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Phone number :"}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",width:JQ/5},children:(0,a.jsx)(Vq(),{country:"eg",enableSearch:!0,value:x,dropdownStyle:{backgroundColor:"#C6C9B9"},buttonStyle:{height:35,width:55,backgroundColor:"#C6C9B9"},onChange:function(e){return C(e)},inputStyle:{height:30,borderColor:"transparent",outline:"none",backgroundColor:"#F7EFDF",alignSelf:"center",width:270},containerStyle:{alignItems:"center",width:270,height:30,borderColor:"transparent",outline:"none",alignSelf:"center"}})})]}),null==s&&(0,a.jsx)("div",{id:"recaptcha-container"}),s&&(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:JQ/5,alignSelf:"center",marginTop:10,flexDirection:"column"},children:[(0,a.jsx)("text",{style:{textAlign:"center",color:"black",fontWeight:"600"},children:"Write your otp "}),(0,a.jsx)("input",{type:"text",value:r,placeholder:"Write your otp",onChange:function(e){return i(e.target.value)},style:{width:275,height:30,padding:10,borderRadius:10,borderWidth:1,borderColor:"forestgreen",outline:"none",marginTop:10,alignSelf:"center"}})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,alignSelf:"center"},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Type password :"}),(0,a.jsxs)("div",{style:{marginTop:6,display:"flex",flexDirection:"row",width:273,backgroundColor:"#F7EFDF",alignItems:"center",borderRadius:4},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:pt}),(0,a.jsx)("input",{type:"password",value:g,onChange:function(e){return y(e.target.value)},placeholder:"Write your password",style:{backgroundColor:"transparent",outlineWidth:0,outlineColor:"transparent",border:"none",outline:"none",height:25,borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:1}})]})]}),(0,a.jsxs)("div",{style:{padding:6,backgroundColor:"white",borderRadius:6,alignSelf:"center"},children:[(0,a.jsx)("text",{style:{letterSpacing:1.01,color:"#023220"},children:"Re-Type password :"}),(0,a.jsxs)("div",{style:{marginTop:6,display:"flex",flexDirection:"row",width:273,backgroundColor:"#F7EFDF",alignItems:"center",borderStyle:"solid",borderWidth:w!=g&&0!=w.length?1:0,borderColor:"red",borderRadius:4},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:pt}),(0,a.jsx)("input",{type:"password",value:w,onChange:function(e){return k(e.target.value)},placeholder:"Re-Write your pass",style:{backgroundColor:"transparent",outlineWidth:0,outlineColor:"transparent",border:"none",outline:"none",height:25,borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:1}})]})]}),(0,a.jsx)("div",{onClick:function(){s?E():S()},style:{cursor:"pointer",marginTop:30,width:.15*JQ,alignSelf:"center",backgroundColor:"#023220",padding:10,borderRadius:10},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"800"},children:[" ",null==s?"Sign Up":"Verify"]})}),(0,a.jsxs)("div",{style:{width:JQ/4,display:"flex",flexDirection:"row",alignSelf:"center",marginTop:10,justifyContent:"space-around"},children:[(0,a.jsx)("text",{children:"Have account ?"}),(0,a.jsx)("text",{onClick:function(){return e("/")},style:{cursor:"pointer",textDecorationLine:"underline",textDecorationColor:"forestgreen",fontWeight:"700"},children:"Sign In"})]}),l&&(0,a.jsx)(kt.Levels,{size:25})]})]})}var ZQ=["Afrikaans","Akan","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bihari","Bulgarian","Cambodian","Catalan","Croatian","Danish","Dutch","English","Estonian","Filipino","Finnish","French","Georgian","German","Greek","Hindi","Hungarian","Icelandic","Indonesian","Italian","Japanese","Korean","Latin","Latvian","Polish","Portuguese","Romanian","Russian","Serbian","Slovak","Spanish","Swedish","Tamil","Thai","Turkish","Vietnamese","Welsh","Chinese"],eY=["af","ak","sq","am","ar","hy","az","eu","be","bn","bh","bg","km","ca","hr","da","nl","en","et","tl","fi","fr","ka","de","el","hi","hu","is","id","it","ja","ko","la","lv","pl","pt","ro","ru","sr","sk","es","sv","ta","th","tr","vi","cy","zh"],tY=jq.ref("userdb"),nY=window.innerHeight,rY=window.innerWidth,iY=UQ()(jQ());var aY=function(){var e=f((0,t.useState)(null),2),n=e[0],r=e[1],i=f((0,t.useState)(!1),2),o=i[0],s=i[1],u=f((0,t.useState)(null),2),c=u[0],l=u[1];(0,t.useEffect)((function(){if(n)return n.addEventListener("ended",(function(){return s(!1)})),function(){n.removeEventListener("ended",(function(){return s(!1)}))}}),[n]);var h=_e(),d=we().state.phone,p=f((0,t.useState)(null),2),v=p[0],m=p[1],g=f((0,t.useState)(null),2),y=g[0],b=g[1],w=f((0,t.useState)(null),2),k=w[0],_=w[1],x=f((0,t.useState)(""),2),C=x[0],S=x[1],E=f((0,t.useState)(!1),2),T=E[0],I=E[1];(0,t.useEffect)((function(){null==v&&null==y&&null==k&&tY.child(d).once("value").then((function(e){if(null==e.val())alert("Something is wrong !");else{var t=e.val().name,n=e.val().used,r=e.val().remain;m(t),b(n),_(r)}}))}));var A=(0,t.useRef)(),N="pk_test_51JcyucGyJI9ySkt6DD6NB20MFBGu2rFDn3rJB6rdNEcv9AV1dap2pGR5EqouM2G2zVzaMG1MveW85wr3LSsUxAVE00LQ2huvgt",P=f((0,t.useState)({name:"Starter Plan (Monthly)",price:14.57}),2),O=P[0],R=(P[1],f((0,t.useState)({name:"Professional Plan (Monthly)",price:30.36}),2)),D=R[0],L=(R[1],f((0,t.useState)({name:"Enterprise Plan (Monthly)",price:75.29}),2)),M=L[0],j=(L[1],f((0,t.useState)({name:"Starter Plan (Yearly)",price:174}),2)),F=j[0],U=(j[1],f((0,t.useState)({name:"Professional Plan (Yearly)",price:360}),2)),B=U[0],V=(U[1],f((0,t.useState)({name:"Enterprise Plan (Yearly)",price:900}),2)),q=V[0],z=(V[1],100*O.price),W=100*D.price,H=100*M.price;function K(e){var t=k+e;tY.child(d).update({remain:t}).then((function(e){_(t),I(!1)}))}var G=function(){iY.fire({icon:"success",title:"Payment was successful",time:4e3})},Q=function(){iY.fire({icon:"error",title:"Payment was not successful",time:4e3})},Y=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DQ({url:"https://us-central1-immersive-rise.cloudfunctions.net/app/payment",method:"post",data:{amount:100*O.price,token:t}});case 3:200===e.sent.status&&(G(),K(25e4)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DQ({url:"https://us-central1-immersive-rise.cloudfunctions.net/app/payment",method:"post",data:{amount:100*D.price,token:t}});case 3:200===e.sent.status&&(G(),K(62e4)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DQ({url:"https://us-central1-immersive-rise.cloudfunctions.net/app/payment",method:"post",data:{amount:100*M.price,token:t}});case 3:200===e.sent.status&&(G(),K(602e4)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DQ({url:"https://us-central1-immersive-rise.cloudfunctions.net/app/payment",method:"post",data:{amount:1e4*F.price,token:t}});case 3:200===e.sent.status&&(G(),K(25e4)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DQ({url:"https://us-central1-immersive-rise.cloudfunctions.net/app/payment",method:"post",data:{amount:1e4*B.price,token:t}});case 3:200===e.sent.status&&(G(),K(62e4)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=_n(wn().mark((function e(t){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DQ({url:"https://us-central1-immersive-rise.cloudfunctions.net/app/payment",method:"post",data:{amount:10*q.price,token:t}});case 3:200===e.sent.status&&(G(),K(602e4)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=(0,t.useRef)(),ne=f((0,t.useState)(17),2),re=ne[0],ie=ne[1],ae=f((0,t.useState)(""),2),oe=ae[0],se=ae[1],ue=f((0,t.useState)(5),2),ce=ue[0],le=ue[1],fe=f((0,t.useState)(0),2),he=fe[0],de=fe[1];function pe(){var e=k-he,t=y+he;tY.child(d).update({remain:e,used:t}).then((function(e){tY.child(d).once("value").then((function(e){if(null==e.val())alert("Something is wrong !");else{var t=e.val().used,n=e.val().remain;b(t),_(n),I(!1),alert("Your audio file has been downloaded , now you can listen it !")}}))}))}(0,t.useEffect)((function(){var e=te.current,t=function(e){var t=e.detail.value;console.log("Range value is "+t),le(t)};return null===e||void 0===e||e.addEventListener("change",t),function(){null===e||void 0===e||e.removeEventListener("change",t)}}));var ve=function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C+".mp3",t=eY[re],DQ({method:"get",url:"https://us-central1-immersive-rise.cloudfunctions.net/app/slow?text=".concat(oe,"&lang=").concat(t),responseType:"blob",headers:{}}).then((function(e){var t=URL.createObjectURL(new Blob([e.data]));r(new Audio(t)),he>0&&l(new Blob([e.data])),pe()})).catch((function(e){alert("Something is wrong !!"),I(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C+".mp3",t=eY[re],DQ({method:"get",url:"https://us-central1-immersive-rise.cloudfunctions.net/app/medium?text=".concat(oe,"&lang=").concat(t),responseType:"blob",headers:{}}).then((function(e){var t=URL.createObjectURL(new Blob([e.data]));r(new Audio(t)),l(new Blob([e.data])),pe()})).catch((function(e){alert("Something is wrong !!"),I(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=_n(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C+".mp3",t=eY[re],console.log("Code ",t),DQ({method:"get",url:"https://us-central1-immersive-rise.cloudfunctions.net/app/fast?text=".concat(oe,"&lang=").concat(t),responseType:"blob",headers:{}}).then((function(e){var t=URL.createObjectURL(new Blob([e.data]));r(new Audio(t)),l(new Blob([e.data])),pe()})).catch((function(e){console.log(e),alert("Something is wrong !!"),I(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){for(var e=oe.split(" "),t=0,n=0;n<e.length;n++)""!==e[n]&&" "!==e[n]&&t++;de(t)}),[oe]);var ye=function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=_n(wn().mark((function e(t){var n;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,se(n+".");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsx)("div",{style:{display:"flex",flexDirection:T?"column":"row",backgroundColor:"#F7EFDF",height:nY+100},children:(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:T?(0,a.jsxs)("div",{className:"loader-container",children:[(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)("text",{style:{color:"forestgreen",textAlign:"center",fontWeight:"700"},children:"Generating your Audio File !!"})]}):(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,a.jsxs)("div",{style:{height:200,display:"flex",flexDirection:"column",padding:10,marginLeft:10,marginTop:35},children:[(0,a.jsx)(GK,{placeholder:"Select language",className:"my-className",options:ZQ,onSelect:function(e){return function(e){for(var t=0;t<ZQ.length;t++)if(ZQ[t]===e.value){console.log(t),ie(t);break}}(e)}}),(0,a.jsxs)("div",{style:{marginTop:30,width:rY/4,alignSelf:"center",alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[(0,a.jsx)("div",{style:{width:70,backgroundColor:"#023220",alignItems:"center",justifyContent:"center",padding:10,borderRadius:8},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"700"},children:"Speed"})}),(0,a.jsx)("text",{style:{color:"green"},children:ce}),(0,a.jsx)("text",{}),(0,a.jsx)("toolcool-range-slider",{ref:te,min:"1",max:"5",value:ce,"slider-width":"200px","slider-height":"0.5rem","pointer-width":"1.5rem","pointer-height":"1.5rem","slider-bg":"#6AD3BA","slider-bg-hover":"#3F8A8A","pointer-border-hover":"1px solid #79D6C0","pointer-border-focus":"1px solid #79D6C0"})]}),(0,a.jsxs)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:50,alignItems:"center"},children:[ct,(0,a.jsx)("text",{style:{textAlign:"center",color:"gray",fontWeight:"700"},children:"My profile"})]}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:20,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:rY/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:lt}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsx)("text",{children:v})})]})}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:6,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:rY/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:ft}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsx)("text",{children:d})})]})}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:6,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:rY/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:ht}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsxs)("text",{children:["Remaining Words : ",k]})})]})}),(0,a.jsx)("div",{style:{padding:10,backgroundColor:"white",borderRadius:6,marginTop:6,alignSelf:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:rY/5,backgroundColor:"#F7EFDF",alignItems:"center"},children:[(0,a.jsx)("div",{style:{borderTopLeftRadius:2,borderBottomLeftRadius:2,height:25,backgroundColor:"#C6C9B9",padding:6,justifyContent:"center",alignItems:"center"},children:dt}),(0,a.jsx)("div",{style:{height:25,padding:6,borderTopRightRadius:2,borderBottomRightRadius:2},children:(0,a.jsxs)("text",{children:["Total Words Used : ",y]})})]})}),(0,a.jsx)("div",{style:{width:rY/5,display:"flex",justifyContent:"center",marginTop:10},children:(0,a.jsx)("text",{onClick:function(){return h("/ChangePass",{state:{phone:d}})},style:{cursor:"pointer",textDecorationLine:"underline",textDecorationColor:"green",fontWeight:"700",color:"purple"},children:"Change Password ?"})})]}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:50,width:rY/2},children:(0,a.jsxs)("div",{style:{display:"flex",position:"absolute",top:20,flexDirection:"column",width:rY/2},children:[(0,a.jsxs)("div",{style:{width:90,alignItems:"center",alignSelf:"center"},children:[(0,a.jsx)("input",{ref:A,type:"file",onChange:function(e){return ye(e)},hidden:!0}),(0,a.jsxs)("div",{onClick:function(e){A.current.click()},style:{display:"flex",flexDirection:"row",cursor:"pointer",width:120,padding:7,alignItems:"center",borderRadius:3,backgroundColor:"#023220",justifyContent:"space-around"},children:[vt,(0,a.jsx)("text",{style:{color:"white",fontWeight:"600",textAlign:"center"},children:"Upload File"})]})]}),(0,a.jsx)("textarea",{type:"text",value:oe,placeholder:"Enter text here",rows:100,cols:100,onChange:function(e){return se(e.target.value)},multiple:!0,style:{height:nY/1.5,padding:5,borderRadius:6,borderColor:"#023220",borderWidth:1,width:rY/2,marginTop:6}}),(0,a.jsx)("text",{style:{marginTop:15,textAlign:"center",color:"forestgreen",fontWeight:"700"},children:0==he?"Text Box is empty":"There are "+he+" words ."}),(0,a.jsxs)("div",{style:{marginTop:10,display:"flex",flexDirection:"row",alignSelf:"center",width:rY/2,alignItems:"center",justifyContent:"space-evenly"},children:[(0,a.jsx)("text",{children:"Write filename"}),(0,a.jsx)("input",{type:"text",value:C,placeholder:"Filename",onChange:function(e){return S(e.target.value)},style:{height:40,padding:5,borderRadius:6,borderColor:"#023220",borderWidth:1,width:120,marginTop:6}}),(0,a.jsxs)("text",{style:{color:""==C?"red":"green"},children:[" ",""==C?"* Please write filename before you download":"File will be saved as "+C+".mp3"]})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"max-content",alignSelf:"center"},children:[c&&(0,a.jsxs)("div",{onClick:function(){return function(){if(null!=c){var e=C+".mp3",t=window.URL.createObjectURL(c),n=document.createElement("a");n.href=t,n.setAttribute("download",e),document.body.appendChild(n),n.click(),l(null)}}()},style:{height:40,display:"flex",flexDirection:"row",justifyContent:"space-around",marginTop:30,cursor:"pointer",width:140,backgroundColor:"#023220",padding:10,alignItems:"center",borderRadius:6,alignSelf:"center"},children:[yt,(0,a.jsx)("text",{style:_t({color:"green",fontWeight:"600",textAlign:"center"},"color","white"),children:"Save"})]}),(0,a.jsxs)("div",{onClick:function(){null!=k&&he<=k?""!=C?(I(!0),ce<=1.5?ve():ce>1.5&&ce<=3.5?me():ce>3.5&&ce<=5&&ge()):alert(" Please write filename before you download"):alert("Your plan doesn't support it , you need to subscribe a plan !!")},style:{marginLeft:20,height:40,display:"flex",flexDirection:"row",justifyContent:"space-around",marginTop:30,cursor:"pointer",width:140,backgroundColor:"#023220",padding:10,alignItems:"center",borderRadius:6,alignSelf:"center"},children:[ut,(0,a.jsx)("text",{style:_t({color:"green",fontWeight:"600",textAlign:"center"},"color","white"),children:"Download"})]}),n&&(0,a.jsxs)("div",{onClick:function(){null!=n?(o?n.pause():n.play(),s(!o)):alert("It has been nothing to play !")},style:{marginLeft:20,height:40,display:"flex",flexDirection:"row",justifyContent:"space-around",marginTop:30,cursor:"pointer",width:140,backgroundColor:"#023220",padding:10,alignItems:"center",borderRadius:6,alignSelf:"center"},children:[o?gt:mt,(0,a.jsx)("text",{style:_t({color:"green",fontWeight:"600",textAlign:"center"},"color","white"),children:o?"Pause":"Play"})]})]})]})}),(0,a.jsxs)("div",{style:{display:"flex",height:350,flexDirection:"column",width:160,alignItems:"center",marginLeft:40,position:"absolute",right:30,top:40,justifyContent:"space-between"},children:[(0,a.jsx)("div",{style:{backgroundColor:"#023220",padding:8,alignItems:"center",marginBottom:10,width:130,borderRadius:10},children:(0,a.jsx)("text",{style:{color:"white"},children:"Plans"})}),(0,a.jsx)("div",{onClick:function(){document.getElementById("button-id1").click()},style:{marginTop:4,cursor:"pointer",borderRadius:10,width:150,padding:5,alignItems:"center",alignSelf:"center",backgroundColor:"forestgreen"},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"700",fontSize:11},children:["Monthly Starter Plan (250,000 words) , ",O.price," USD "]})}),(0,a.jsx)("div",{onClick:function(){document.getElementById("button-id11").click()},style:{cursor:"pointer",marginTop:4,borderRadius:10,width:150,padding:5,alignItems:"center",alignSelf:"center",backgroundColor:"forestgreen"},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"700",fontSize:11},children:["Yearly Starter Plan (250,000 words) , ",F.price," USD "]})}),(0,a.jsx)(QK.Z,{stripeKey:N,label:"Starter Plan ",name:"Starter Plan",billingAddress:!0,shippingAddress:!0,amount:F.price,description:"".concat(F.price," USD , (250,000 words)"),token:X,children:(0,a.jsx)("button",{hidden:!0,id:"button-id11",children:"Invisible Trigger"})}),(0,a.jsx)(QK.Z,{stripeKey:N,label:"Starter Plan ",name:"Starter Plan",billingAddress:!0,shippingAddress:!0,amount:z,description:"".concat(O.price," USD , (250,000 words)"),token:Y,children:(0,a.jsx)("button",{hidden:!0,id:"button-id1",children:"Invisible Trigger"})}),(0,a.jsx)("div",{onClick:function(){document.getElementById("button-id2").click()},style:{marginTop:4,cursor:"pointer",borderRadius:10,width:150,padding:4,alignItems:"center",alignSelf:"center",backgroundColor:"forestgreen"},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"700",fontSize:11},children:["Monthly Professional Plan (620,000 words) , ",D.price," USD "]})}),(0,a.jsx)("div",{onClick:function(){document.getElementById("button-id22").click()},style:{cursor:"pointer",marginTop:4,borderRadius:10,width:150,padding:4,alignItems:"center",alignSelf:"center",backgroundColor:"forestgreen"},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"700",fontSize:11},children:["Yearly Professional Plan (620,000 words) , ",B.price," USD "]})}),(0,a.jsx)(QK.Z,{stripeKey:N,label:"Professional Plan",name:"Professional Plan",billingAddress:!0,shippingAddress:!0,amount:W,description:"".concat(D.price," USD , (620,000 words)"),token:$,children:(0,a.jsx)("button",{hidden:!0,id:"button-id2",children:"Invisible Trigger"})}),(0,a.jsx)(QK.Z,{stripeKey:N,label:"Professional Plan",name:"Professional Plan",billingAddress:!0,shippingAddress:!0,amount:B.price,description:"".concat(B.price," USD , (620,000 words)"),token:Z,children:(0,a.jsx)("button",{hidden:!0,id:"button-id22",children:"Invisible Trigger"})}),(0,a.jsx)(QK.Z,{stripeKey:N,label:"Enterprise Plan",name:"Enterprise Plan",billingAddress:!0,shippingAddress:!0,amount:H,description:"".concat(M.price," USD , (6020,000 words)"),token:J,children:(0,a.jsx)("button",{hidden:!0,id:"button-id3",children:"Invisible Trigger"})}),(0,a.jsx)(QK.Z,{stripeKey:N,label:"Enterprise Plan",name:"Enterprise Plan",billingAddress:!0,shippingAddress:!0,amount:q.price,description:"".concat(q.price," USD , (6020,000 words)"),token:ee,children:(0,a.jsx)("button",{hidden:!0,id:"button-id33",children:"Invisible Trigger"})}),(0,a.jsx)("div",{onClick:function(){document.getElementById("button-id3").click()},style:{marginTop:4,cursor:"pointer",borderRadius:10,width:150,padding:4,alignItems:"center",alignSelf:"center",backgroundColor:"forestgreen"},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"700",fontSize:11},children:["Monthly Enterprise Plan (6020,000 words) , ",M.price," USD "]})}),(0,a.jsx)("div",{onClick:function(){document.getElementById("button-id33").click()},style:{cursor:"pointer",marginTop:4,borderRadius:10,width:150,padding:4,alignItems:"center",alignSelf:"center",backgroundColor:"forestgreen"},children:(0,a.jsxs)("text",{style:{color:"white",fontWeight:"700",fontSize:11},children:["Yearly Enterprise Plan (6020,000 words) , ",q.price," USD "]})})]})]})})})};function oY(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(e)}var sY=jq.ref("userdb"),uY=(window.innerHeight,window.innerWidth);function cY(){var e=_e(),n=we().state.phone,r=f((0,t.useState)(null),2),i=(r[0],r[1],f((0,t.useState)(""),2)),o=i[0],s=i[1],u=f((0,t.useState)(!1),2),c=u[0],l=u[1],h=f((0,t.useState)(""),2);h[0],h[1];return(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(zQ,{}),(0,a.jsxs)(wt(),{style:{overlay:{display:"flex",alignSelf:"center",justifyContent:"center",alignContent:"center",alignItems:"center"},content:{position:"absolute",top:"2%",left:"20%",display:"flex",backgroundColor:"white",width:"60%",alignSelf:"center",alignItems:"center",flexDirection:"column",borderRadius:8}},isOpen:!0,onRequestClose:function(){return alert("You must have to sign in or sign up .")},closeTimeoutMS:100,shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,preventScroll:!0,children:[(0,a.jsx)("div",{style:{display:"flex",backgroundColor:"#023220",justifyContent:"center",width:"99%",alignSelf:"center",padding:10,borderRadius:6},children:(0,a.jsx)("text",{style:{color:"white",fontWeight:"600",fontSize:14},children:"Change Password"})}),(0,a.jsx)("div",{onClick:function(){return e(-1)},style:{cursor:"pointer",display:"flex",alignSelf:"flex-start",marginLeft:30,alignContent:"center",alignItems:"center",justifyContent:"center",height:34,width:34,borderRadius:17,borderWidth:1,borderStyle:"solid",padding:4,marginTop:10},children:(0,a.jsx)(oY,{size:25})}),(0,a.jsxs)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:30,alignItems:"center"},children:[ct,(0,a.jsx)("text",{style:{textAlign:"center",color:"gray",fontWeight:"700"},children:"My profile"})]}),(0,a.jsx)("div",{style:{padding:8,borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"green",display:"flex",flexDirection:"row",alignSelf:"center",width:150,justifyContent:"space-between",marginTop:30,alignItems:"center"},children:(0,a.jsx)("input",{type:"text",value:o,onChange:function(e){return s(e.target.value)},placeholder:"Type new password",style:{backgroundColor:"transparent",outlineWidth:0,outlineColor:"transparent",border:"none",outline:"none",height:25,borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:1}})}),(0,a.jsx)("div",{onClick:function(){!function(){if(""!=o){var t="+"+n;l(!0),sY.child(t).child("pass").set(o).then((function(t){alert("Your password has been updated !"),l(!1),e(-1)}))}else alert("Write a password")}()},style:{display:"flex",justifyContent:"center",cursor:"pointer",marginTop:30,width:.15*uY,alignSelf:"center",backgroundColor:"#023220",padding:10,borderRadius:10},children:(0,a.jsx)("text",{style:{color:"white",textAlign:"center"},children:"Change password"})}),c&&(0,a.jsx)(kt.Levels,{size:25})]})]})}function lY(){return(0,a.jsx)("div",{className:"App",children:(0,a.jsx)(Ve,{children:(0,a.jsxs)(je,{children:[(0,a.jsx)(Le,{path:"/",element:(0,a.jsx)(YQ,{})}),(0,a.jsx)(Le,{path:"/SignUp",element:(0,a.jsx)(XQ,{})}),(0,a.jsx)(Le,{path:"/Forgot",element:(0,a.jsx)(KQ,{})}),(0,a.jsx)(Le,{path:"/Real",element:(0,a.jsx)(aY,{})}),(0,a.jsx)(Le,{path:"/ChangePass",element:(0,a.jsx)(cY,{})})]})})})}var fY=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,a.jsx)(t.StrictMode,{children:(0,a.jsx)(lY,{})})),fY()}()}();
//# sourceMappingURL=main.4d3dec60.js.map